<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css" integrity="sha256-jTIdiMuX/e3DGJUGwl3pKSxuc6YOuqtJYkM0bGQESA4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.10.1","exturl":false,"sidebar":{"position":"left","width":500,"display":"always","padding":1,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="编程语言">
<meta property="og:type" content="article">
<meta property="og:title" content="Blog61-编程语言">
<meta property="og:url" content="http://example.com/2000/01/01/Blog61-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="编程语言">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2000/01/01/Blog61-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E5%AD%97%E8%8A%82%E5%BA%8F.jpg">
<meta property="og:image" content="http://example.com/2000/01/01/Blog61-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E5%8D%95%E7%B2%BE%E5%BA%A6%E6%B5%AE%E7%82%B9%E6%95%B0.jpg">
<meta property="og:image" content="http://example.com/2000/01/01/Blog61-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E6%B5%AE%E7%82%B9%E6%95%B0%E5%88%86%E5%B8%83%E8%8C%83%E5%9B%B4.jpg">
<meta property="article:published_time" content="1999-12-31T16:01:01.000Z">
<meta property="article:modified_time" content="2024-08-14T16:49:58.194Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2000/01/01/Blog61-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E5%AD%97%E8%8A%82%E5%BA%8F.jpg">


<link rel="canonical" href="http://example.com/2000/01/01/Blog61-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2000/01/01/Blog61-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/","path":"2000/01/01/Blog61-编程语言/","title":"Blog61-编程语言"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Blog61-编程语言 | Hexo</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Hexo</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Blog61-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80"><span class="nav-text">Blog61-编程语言</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%AE%E5%8A%A9"><span class="nav-text">帮助</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%AA%E6%95%B4%E7%90%86"><span class="nav-text">未整理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8D%E6%95%B4%E7%90%86"><span class="nav-text">不整理</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="nav-text">Chapter01 编程语言基础知识</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aascii"><span class="nav-text">知识点：ascii</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AUnicode"><span class="nav-text">知识点：Unicode</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AEndianness"><span class="nav-text">知识点：Endianness</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E6%95%B4%E5%9E%8B-integer"><span class="nav-text">知识点：整型 integer</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E6%B5%AE%E7%82%B9%E5%9E%8B-float-point-number"><span class="nav-text">知识点：浮点型 float point number</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter02-YAML"><span class="nav-text">Chapter02 YAML</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AYAML-%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：YAML 介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AYAML-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="nav-text">知识点：YAML 基本语法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AYAML-%E7%BA%AF%E9%87%8F"><span class="nav-text">知识点：YAML 纯量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AYAML-%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-text">知识点：YAML 字符串</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AYAML-%E5%A4%9A%E8%A1%8C%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-text">知识点：YAML 多行字符串</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AYAML-%E5%88%97%E8%A1%A8"><span class="nav-text">知识点：YAML 列表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AYAML-%E5%AD%97%E5%85%B8"><span class="nav-text">知识点：YAML 字典</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter03-Jinja2"><span class="nav-text">Chapter03 Jinja2</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AJinja2-%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：Jinja2 介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AJinja2-%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">知识点：Jinja2 表达式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AJinja2-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="nav-text">知识点：Jinja2 基本语法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AJinja2-%E7%A9%BA%E7%99%BD%E6%8E%A7%E5%88%B6"><span class="nav-text">知识点：Jinja2 空白控制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AJinja2-Filter-%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="nav-text">知识点：Jinja2 Filter 过滤器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AJinja2-Test-%E6%9D%A1%E4%BB%B6%E6%A3%80%E6%B5%8B"><span class="nav-text">知识点：Jinja2 Test 条件检测</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AJinja2-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：Jinja2 函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AJinja2-for-%E7%BB%93%E6%9E%84"><span class="nav-text">知识点：Jinja2 for 结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AJinja2-if-%E7%BB%93%E6%9E%84"><span class="nav-text">知识点：Jinja2 if 结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AJinja2-set-%E7%BB%93%E6%9E%84"><span class="nav-text">知识点：Jinja2 set 结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AJinja2-include-%E7%BB%93%E6%9E%84"><span class="nav-text">知识点：Jinja2 include 结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AJinja2-%E6%A8%A1%E6%9D%BF%E7%BB%A7%E6%89%BF"><span class="nav-text">知识点：Jinja2 模板继承</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter04-JSON"><span class="nav-text">Chapter04 JSON</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AJSON-%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：JSON 介绍</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">18</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2000/01/01/Blog61-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Blog61-编程语言 | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Blog61-编程语言
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2000-01-01 00:01:01" itemprop="dateCreated datePublished" datetime="2000-01-01T00:01:01+08:00">2000-01-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-08-15 00:49:58" itemprop="dateModified" datetime="2024-08-15T00:49:58+08:00">2024-08-15</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <hr>
<h1 id="Blog61-编程语言"><a href="#Blog61-编程语言" class="headerlink" title="Blog61-编程语言"></a>Blog61-编程语言</h1><p><a href="#Chapter01-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><strong>Chapter01 编程语言基础知识</strong></a></p>
<p><a href="#Chapter02-YAML"><strong>Chapter02 YAML</strong></a></p>
<p><a href="#Chapter03-Jinja2"><strong>Chapter03 Jinja2</strong></a></p>
<p><a href="#Chapter04-JSON"><strong>Chapter04 JSON</strong></a></p>
<hr>
<h2 id="帮助"><a href="#帮助" class="headerlink" title="帮助"></a>帮助</h2><ol>
<li><strong>基础知识</strong></li>
</ol>
<ul>
<li>浮点数 <a target="_blank" rel="noopener" href="https://polarisxu.studygolang.com/posts/basic/diagram-float-point/">https://polarisxu.studygolang.com/posts/basic/diagram-float-point/</a></li>
</ul>
<ol start="2">
<li><strong>YAML</strong></li>
</ol>
<ul>
<li>官网：<a target="_blank" rel="noopener" href="https://yaml.org/">https://yaml.org/</a></li>
<li>官方文档 1.2.2：<a target="_blank" rel="noopener" href="https://yaml.org/spec/1.2.2/">https://yaml.org/spec/1.2.2/</a></li>
<li>YAML 和 JSON 转换：<a target="_blank" rel="noopener" href="https://www.json2yaml.com/">https://www.json2yaml.com/</a></li>
</ul>
<ol start="3">
<li><strong>Jinja2</strong></li>
</ol>
<ul>
<li>官网：<a target="_blank" rel="noopener" href="https://jinja.palletsprojects.com/">https://jinja.palletsprojects.com/</a></li>
<li>Builtin Filters：<a target="_blank" rel="noopener" href="https://jinja.palletsprojects.com/en/3.1.x/templates/#list-of-builtin-filters">https://jinja.palletsprojects.com/en/3.1.x/templates/#list-of-builtin-filters</a></li>
<li>Builtin Tests：<a target="_blank" rel="noopener" href="https://jinja.palletsprojects.com/en/3.1.x/templates/#list-of-builtin-tests">https://jinja.palletsprojects.com/en/3.1.x/templates/#list-of-builtin-tests</a></li>
<li>Global Functions：<a target="_blank" rel="noopener" href="https://jinja.palletsprojects.com/en/3.1.x/templates/#list-of-global-functions">https://jinja.palletsprojects.com/en/3.1.x/templates/#list-of-global-functions</a></li>
</ul>
<ol start="4">
<li><strong>JSON</strong></li>
</ol>
<ul>
<li>官网：<a target="_blank" rel="noopener" href="https://www.json.org/json-zh.html">https://www.json.org/json-zh.html</a></li>
</ul>
<hr>
<h2 id="未整理"><a href="#未整理" class="headerlink" title="未整理"></a>未整理</h2><hr>
<h2 id="不整理"><a href="#不整理" class="headerlink" title="不整理"></a>不整理</h2><ol start="2">
<li><strong>YAML</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 别名节点 alias node、锚点 anchor、引用</span><br><span class="line"></span><br><span class="line">* 合并键 merge key</span><br><span class="line"></span><br><span class="line">* complex mapping key</span><br><span class="line"></span><br><span class="line">* Explicit typing 和 Tags</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>Jinja2</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">* Jinja2 环境 environment</span><br><span class="line">  - https://jinja.palletsprojects.com/en/3.1.x/api/#jinja2.Environment</span><br><span class="line"></span><br><span class="line">* Line statement</span><br><span class="line">  - https://jinja.palletsprojects.com/en/3.1.x/templates/#line-statements</span><br><span class="line"></span><br><span class="line">* HTML Escaping</span><br><span class="line">  - &#x27;|e&#x27;、&#x27;|safe&#x27;</span><br><span class="line">  - https://jinja.palletsprojects.com/en/3.1.x/templates/#html-escaping</span><br><span class="line"></span><br><span class="line">* loop.cycle</span><br><span class="line">* loops recursively</span><br><span class="line">  - https://jinja.palletsprojects.com/en/3.1.x/templates/#for</span><br><span class="line"></span><br><span class="line">* Macros、Call</span><br><span class="line">  - https://jinja.palletsprojects.com/en/3.1.x/templates/#macros</span><br><span class="line"></span><br><span class="line">* include ignore missing、without context</span><br><span class="line">* import</span><br><span class="line">  - https://jinja.palletsprojects.com/en/3.1.x/templates/#include</span><br><span class="line">  - https://jinja.palletsprojects.com/en/3.1.x/templates/#import</span><br><span class="line">  - https://jinja.palletsprojects.com/en/3.1.x/templates/#import-visibility</span><br><span class="line">  </span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h1 id="Chapter01-编程语言基础知识"><a href="#Chapter01-编程语言基础知识" class="headerlink" title="Chapter01 编程语言基础知识"></a>Chapter01 编程语言基础知识</h1><hr>
<h2 id="知识点：ascii"><a href="#知识点：ascii" class="headerlink" title="知识点：ascii"></a>知识点：ascii</h2><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 最早使用的字符编码，使用 7bit 表示英文世界的字符，共 128 个字符，0x00~0x7F</span><br><span class="line">  - 33 个控制字符</span><br><span class="line">  - 95 个可打印字符</span><br></pre></td></tr></table></figure></li>
<li><strong>控制字符</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* Control code，33 个</span><br><span class="line">  - 0x00 到 0x1F，7F</span><br><span class="line"></span><br><span class="line">* 重要字符</span><br><span class="line">  0x00  NULL</span><br><span class="line">  0x04  EOT     \0  End of Transmission</span><br><span class="line">  0x06  ACK         Acknowledgement</span><br><span class="line">  0x08  BS          Backspace</span><br><span class="line">  0x09  HT/Tab  \t  Horizontal Tab</span><br><span class="line">  0x0A  LF      \n  Line Feed</span><br><span class="line">  0x0D  CR      \r  Carriage Return</span><br><span class="line">  0x16  SYN         Synchronous Idle</span><br><span class="line">  0x1B  ESC     \e  Escape</span><br><span class="line">  0x7F  DEL         Delete</span><br></pre></td></tr></table></figure></li>
<li><strong>可打印字符</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">* Printable characters，95 个</span><br><span class="line">  - 0x20 到 0x7E</span><br><span class="line"></span><br><span class="line">* 0X20 到 0x2F</span><br><span class="line">  - 各种标点符号</span><br><span class="line">  - 0x20 space</span><br><span class="line">  - 0x21 到 0x2F：!  &quot;  #  $  %  &amp;  &#x27;  (  )  *  +  ,  -  .  /</span><br><span class="line"></span><br><span class="line">* 0x30 到 0x3F</span><br><span class="line">  - 数字，和一些标点符号</span><br><span class="line">  - 0x30 到 0x39：0  1  2  3  4  5  6  7  8  9</span><br><span class="line">  - 0x3A 到 0x3F：:  ;  &lt;  =  &gt;  ?</span><br><span class="line"></span><br><span class="line">* 0x40 到 0x5F</span><br><span class="line">  - 大写字母，和一些标点符号</span><br><span class="line">  - 0x40：@</span><br><span class="line">  - 0x41 到 0x5A：大写字母</span><br><span class="line">  - 0x5B 到 0x5F：[  \  ]  ^  _</span><br><span class="line"></span><br><span class="line">* 0x60 到 0x7E</span><br><span class="line">  - 小写字母，和一些标点符号</span><br><span class="line">  - 0x60：`</span><br><span class="line">  - 0x61 到 0x7A：小写字母</span><br><span class="line">  - 0x7B 到 0x7E：&#123;  |  &#125;  ~</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="知识点：Unicode"><a href="#知识点：Unicode" class="headerlink" title="知识点：Unicode"></a>知识点：Unicode</h2><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 全球编码字符集 Universal Coded Character Set，中文也称为统一码、万国码</span><br><span class="line">  - 由 Unicode 联盟进行维护</span><br><span class="line"></span><br><span class="line">* character set</span><br><span class="line">  - 字符集，即字符的集合</span><br><span class="line"></span><br><span class="line">* Unicode code point 代码点</span><br><span class="line">  - 指一个字符在 Unicode 标准中的编号</span><br><span class="line">  - 代码点记录为 U+XXXX 或 U+10XXXX</span><br><span class="line"></span><br><span class="line">* encoding 字符编码</span><br><span class="line">  - 将 Unicode code poing 与计算机中的字节/字节序列进行映射 mapping 的标准</span><br><span class="line">  - Unicode 标准定义了两种编码方式 encoding mathod</span><br><span class="line">    - Unicode 转换格式，Unicode Transformation Format (UTF) encodings</span><br><span class="line">    - 通用编码字符集，Universal Coded Character Set (UCS) encodings</span><br><span class="line"></span><br><span class="line">* plane 平面</span><br><span class="line">  - 目前 Unicode 字符分为 17 个组，每个组称为平面 Plane</span><br><span class="line">  - 除 0 号平面 BMP 外，其他平面统称为增补平面 supplementary planes</span><br><span class="line">  -  0 号平面  U+0000 - U+FFFF    基本多文种平面 Basic Multilingual Plane，简称 BMP</span><br><span class="line">  -  1 号平面  U+10000 - U+1FFFF  多文种补充平面 Supplementary Multilingual Plane，简称 SMP</span><br><span class="line">  -  2 号平面  U+20000 - U+2FFFF  表意文字补充平面 Supplementary Ideographic Plane，简称 SIP</span><br><span class="line">  -  3 号平面  U+30000 - U+3FFFF  表意文字第三平面 Tertiary Ideographic Plane，简称 TIP</span><br><span class="line">  - 14 号平面  U+E0000 - U+EFFFF  特别用途补充平面 Supplementary Special-purpose Plane，简称 SSP</span><br><span class="line">  - 15 号平面  U+F0000 - U+FFFFF  保留作为私人使用区 A 区 Private Use Area-A，简称 PUA-A</span><br><span class="line">  - 16 号平面  U+100000 - U+10FFFF  保留作为私人使用区 B 区 Private Use Area-B，简称 PUA-B</span><br><span class="line">  - 4 号平面 至 13 号平面  U+40000 - U+DFFFF  尚未使使用</span><br></pre></td></tr></table></figure></li>
<li><strong>Unicode Encoding</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">* UTF-8 encoding</span><br><span class="line">  - 变长字符编码 variable-length encodings</span><br><span class="line">  - 将代码点映射为 1-4 个字节</span><br><span class="line">  - 使用 1-3 个字节来映射 BMP 平面</span><br><span class="line">  - 兼容 ascii，前 128 个编码完全与 ascii 编码相同，UTF-8 可以直接读取 ascii 编码的文件</span><br><span class="line">  - 是目前用处最广泛的编码，占所有网页的 97.8%</span><br><span class="line">  - 映射关系</span><br><span class="line">    - U+0000~U+007F     128个      0xxxxxxx                                一个字节，对应 ascii</span><br><span class="line">    - U+0080~U+07FF     1920个     110xxxxx  10xxxxxx                      两个字节，对应各种拉丁字母、西方文化中的字符</span><br><span class="line">    - U+0800~U+FFFF     61440个    1110xxxx  10xxxxxx  10xxxxxx            三个字节，对应 BMP 的剩余部分，如中文、日语、韩语等</span><br><span class="line">    - U+10000~U+10FFFF  1048576个  11110xxx  10xxxxxx  10xxxxxx  10xxxxxx  四个字节，对应其他平面</span><br><span class="line">  - 衍生品 Derivatives</span><br><span class="line">    - mysql 中的 utf8mb3</span><br><span class="line">    - java  中的 MUTF-8</span><br><span class="line"></span><br><span class="line">* UTF-16 encoding</span><br><span class="line">  - 变长字符编码，将代码点映射为 1 个或 2 个 16bit 的 code unit</span><br><span class="line">  - 对大多数 BMP 字符，使用 2 个或 4 个字节</span><br><span class="line">  - 对其他不常用字符，使用最多 14 个甚至更多字节</span><br><span class="line">  - 不兼容 ascii</span><br><span class="line">  - 有 BE/LE 的区分</span><br><span class="line">  - 使用 BOM</span><br><span class="line"></span><br><span class="line">* UTF-32 encoding</span><br><span class="line">  - 定长字符编码 fixed-length，将代码点映射为 32bit(4 bytes)</span><br><span class="line">  - 直接使用 Unicode 代码点作为字符编号</span><br><span class="line">  - 不兼容 ascii</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="知识点：Endianness"><a href="#知识点：Endianness" class="headerlink" title="知识点：Endianness"></a>知识点：Endianness</h2><ol>
<li><strong>字节序 byte Endianness</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 字节序，表示计算机中储存/读取数据的字节时所采用的顺序</span><br><span class="line"></span><br><span class="line">* big-endian (BE)</span><br><span class="line">  - 大端</span><br><span class="line">  - 储存/读取数据时，从最高有效字节开始储存/读取</span><br><span class="line">    - 最小内存地址 smallest memory address 储存最高有效字节 most significant byte 储存</span><br><span class="line">    - 最大内存地址 largest memory address 储存最低有效字节 least significant byte</span><br><span class="line">  - 网络传输普遍使用 big-endian，首先传输最高有效字节</span><br><span class="line"></span><br><span class="line">* little-endian (LE)</span><br><span class="line">  - 小端</span><br><span class="line">  - 储存/读取数据时，从最低有效字节开始储存/读取</span><br><span class="line">    - 最小内存地址 smallest memory address 储存最低有效字节 least significant byte</span><br><span class="line">    - 最大内存地址 largest memory address 储存最高有效字节 most significant byte</span><br><span class="line">  - 处理器中主要使用 little-endian，如 x86、大多数 ARM</span><br><span class="line"></span><br><span class="line">* Bi-endianness</span><br><span class="line">  - 双端</span><br><span class="line">  - 硬件架构一个功能，在存取数据、读取指令时，可以切换字节序</span><br><span class="line">  - 此功能可以提高性能、简化网络设备和软件的逻辑</span><br><span class="line">  - 目前大多数主流硬件均可以支持此功能</span><br></pre></td></tr></table></figure>
<img src="/2000/01/01/Blog61-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E5%AD%97%E8%8A%82%E5%BA%8F.jpg"></li>
<li><strong>位编号 Bit numbering</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 识别一个二进制数的每一个 bit 的位置</span><br><span class="line">  - 主要与在串行传输协议 serial transmission protocol 或流 stream 中，传输一个字节时，对字节的比特采用哪种顺序进行传输有关</span><br><span class="line"></span><br><span class="line">* 最低有效位 least significant bit (LSB)</span><br><span class="line">  - 一个二进制数的最低位，对于 8bit 数据，LSB 表示 2^0</span><br><span class="line">  - 也称为 low-order bit 或 right-most bit</span><br><span class="line"></span><br><span class="line">* 最高有效位 most significant bit (MSB)</span><br><span class="line">  - 一个二进制数的最高位，对于 8bit 数据，MSB 表示 2^7</span><br><span class="line">  - 也称为 high-order bit 或 left-most bit</span><br><span class="line"></span><br><span class="line">* 最低位优先 LSB first</span><br><span class="line">  - 在传输时，首先传输字节的低位，LSB 会最先到达，MSB 最后到达</span><br><span class="line"></span><br><span class="line">* 最高位优先 MSB first</span><br><span class="line">  - 在传输时，首先传输字节的高位，MSB 会最先到达，LSB 最后到达</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="知识点：整型-integer"><a href="#知识点：整型-integer" class="headerlink" title="知识点：整型 integer"></a>知识点：整型 integer</h2><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 整型，是计算机中对整数的表示</span><br><span class="line"></span><br><span class="line">* 整型的分类(对于大多数编程语言)</span><br><span class="line">  - short   16bit，2^16=65536</span><br><span class="line">  - int     32bit，2^32=4,294,967,296</span><br><span class="line">  - long    64bit</span><br><span class="line"></span><br><span class="line">* 无符号整型 unsigned integer</span><br><span class="line">  - 所有二进制位都用来表示数据的数值</span><br><span class="line">  - 无法表示负数</span><br><span class="line"></span><br><span class="line">* 带符号整型 signed integer</span><br><span class="line">  - 最高位用来表示正负，称为符号位 sign bit</span><br><span class="line">  - 0 表示正数</span><br><span class="line">  - 1 表示负数</span><br><span class="line"></span><br><span class="line">* 溢出 overflow</span><br><span class="line">  - 当数据超过整型的表示范围时，就会发生溢出</span><br><span class="line">  - 处理器的状态暂存器中的溢出旗标 overflow flag 会被置位，系统则会产生溢出异常 overflow exception 或溢出错误 overflow error</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="知识点：浮点型-float-point-number"><a href="#知识点：浮点型-float-point-number" class="headerlink" title="知识点：浮点型 float point number"></a>知识点：浮点型 float point number</h2><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 浮点数，是计算机科学中对数学中小数 fraction 的近似表示，使用科学计数法</span><br><span class="line"></span><br><span class="line">* 名称含义</span><br><span class="line">  - 定点数，小数点的位置是固定的</span><br><span class="line">  - 浮点数，小数点的位置是浮动的，始终浮动到小数点前只有一位数字</span><br></pre></td></tr></table></figure></li>
<li><strong>实现 implication</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">* 浮点数的要素</span><br><span class="line">  - 基数 base</span><br><span class="line">  - 符号 sign</span><br><span class="line">  - 指数 exponent</span><br><span class="line">  - 尾数 mantissa</span><br><span class="line">  - 例如，-1.011*2^4</span><br><span class="line">    - &quot;2&quot; 是基数</span><br><span class="line">    - &quot;-&quot; 是符号</span><br><span class="line">    - &quot;1.011&quot; 是尾数</span><br><span class="line">    - &quot;4&quot; 是指数</span><br><span class="line"></span><br><span class="line">* 技术实现</span><br><span class="line">  - IEEE754 为浮点数的技术实现标准，也是目前各大编程语言和硬件使用的标准</span><br><span class="line">  - 在计算机中，浮点数采用基数为 2 的科学计数法表示</span><br><span class="line">  - 因此，IEEE754 只关注符号、指数、尾数</span><br><span class="line"></span><br><span class="line">* 二进制和十进制</span><br><span class="line">  - 由于浮点数采用二进制储存，因此储存十进制数时采用的是近似值，因此必然会带来一些偏差</span><br><span class="line"></span><br><span class="line">* 单精度 float 32bit</span><br><span class="line">  - 符号 1bit</span><br><span class="line">  - 指数 8bit</span><br><span class="line">  - 尾数 23bit</span><br><span class="line"></span><br><span class="line">* 双精度 double 64bit</span><br><span class="line">  - 符号 1bit</span><br><span class="line">  - 指数 11bit</span><br><span class="line">  - 尾数 52bit</span><br></pre></td></tr></table></figure></li>
<li><strong>实现细节</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">* 符号位</span><br><span class="line">  - 0 表示正数</span><br><span class="line">  - 1 表示负数</span><br><span class="line"></span><br><span class="line">* 指数部分</span><br><span class="line">  - 指数部分采用有偏指数 The Biased exponent</span><br><span class="line">  - 使用 2^(e-1)-1 表示 0，用作偏移 offset，指数部分所表示的浮点数的实际的指数，为减去 offset 后的数值</span><br><span class="line">  - 对于单精度，偏移为 2^(8-1)-1=0b01111111=127，例如若指数部分为 0b10000010=130，则浮点数的实际的指数为 0b10000010-0b01111111=130-127=3</span><br><span class="line">  - 对于双精度，偏移为 2^(11-1)-1=0b01111111111=1023</span><br><span class="line">  - 对于单精度，指数部分的取值范围为 0b00000001~0b11111110，即 -126 ~ 127</span><br><span class="line">  - 对于单精度，指数部分的取值范围为 0b00000000001~0b11111111110，即 -1022 ~ 1023</span><br><span class="line"></span><br><span class="line">* 尾数部分</span><br><span class="line">  - 尾数部分，通过移位，将小数点前面的值固定为 1</span><br><span class="line">  - 这步操作叫做尾数的标准化，IEEE754 称这种形式的浮点数为规范化浮点数 normal number</span><br><span class="line">  - 因为规定小数点前面的值固定为 1，因此可以省略不存</span><br><span class="line">  - 因此，尾数部分实际多存 1 位，IEEE754 称这种尾数为有效精度 Significand precision</span><br><span class="line">  - 因此，尾数部分实际储存的是尾数标准化后，小数点以后的部分</span><br><span class="line">  - 因此，单精度的尾数实际对应 24bit，2^24=16777216 对应 8 位十进制位，因此单精度的有效十进制小数位为 7 位</span><br><span class="line">  - 因此，双精度的尾数实际对应 53bit，2^53=9007199254740992 对应 16 位十进制位，因此双精度的有效十进制小数位为 15 位</span><br><span class="line"></span><br><span class="line">* 规范化浮点数计算式</span><br><span class="line">  (-1^sign)*(1+mantissa)*2^(exponent-offset)</span><br></pre></td></tr></table></figure></li>
<li><strong>特殊值</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* infinity</span><br><span class="line">  - 指数部分全是 1，尾数部分全是 0</span><br><span class="line">  - 因为计算机资源的限制，没法表示所有的数，当一个数超过了浮点数的表示范围时，就可以用 infinity 来表示</span><br><span class="line">  - 由于符号位，有正无穷 +infinity 和负无穷 -infinity</span><br><span class="line"></span><br><span class="line"> * NaN</span><br><span class="line">  - not-a-number</span><br><span class="line">  - 指数部分全是 1，尾数部分不全是 0</span><br><span class="line">  - 对于当对 -1 进行开根号时，浮点数不知道如何进行计算，就会使用 NaN 表示不是一个数</span><br><span class="line">  - 由于符号位，有 +NaN 和 -NaN</span><br><span class="line"></span><br><span class="line">* 最大值 largest normal</span><br><span class="line">  - 单精度，指数部分为 0b11111110   ，减去偏移后表示 127 ，尾数全是 1，即 2^127  * 0b1.111...111=2^127*(2 - 2^-23)  ，约等于 3.40 * 10^38</span><br><span class="line">  - 双精度，指数部分为 0b11111111110，减去偏移后表示 1023，尾数全是 1，即 2^1023 * 0b1.111...111=2^1023*(2 − 2^−52))，约等于 1.797 * 10^308</span><br><span class="line">  - 由于符号位，最大值有 +max 和 -max</span><br></pre></td></tr></table></figure></li>
<li><strong>最小值和非规范化浮点数</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">* 非规范化浮点数 subnormal number</span><br><span class="line">  - 指数部分全是 0，尾数部分不全是 0，被 IEEE754 规定为非规范化浮点数</span><br><span class="line">  - 尾数部分将会去除前导 1</span><br><span class="line">  - 指数部分的偏移变小 1</span><br><span class="line">    - 此时单精度的指数 offset 为 126，即指数部分全为 0 表示 -126</span><br><span class="line">    - 此时双精度的指数 offset 为 1022，则指数部分全为 0 表示 -1022</span><br><span class="line">  - 以单精度为例</span><br><span class="line">    - 指数部分为 0b00000001 表示 2^-126，是一个规范化浮点数，尾数有前导 1</span><br><span class="line">    - 指数部分为 0b00000000 也表示 2^-126，但是一个非规范化浮点数，尾数没有前导 1</span><br><span class="line">  - 引入此规定的原因，因为尾数部分的前导 1 的原因，规范化浮点数无法表示 0</span><br><span class="line"></span><br><span class="line">* 规范化浮点数最小值 Min normal</span><br><span class="line">  - 单精度，指数部分为 0b00000001   ，尾数部分全是 0，即 2^-126 * 1 ，约等于 1.175 * 10^−38</span><br><span class="line">  - 双精度，指数部分为 0b00000000001，尾数部分全是 0，即 2^−1022 * 1，约等于 2.225 * 10^−308</span><br><span class="line">  - 由于符号位，值有 +min 和 -min</span><br><span class="line"></span><br><span class="line">* 非规范化浮点数最小值 Min subnormal</span><br><span class="line">  - 单精度，指数部分为 0b00000000   ，尾数部分为 0b0000....0001，即 2^-126*2^-23=2^-149  ，约等于 1.40 * 10^−45</span><br><span class="line">  - 双精度，指数部分为 0b00000000000，尾数部分为 0b0000....0001，即 2^-1022*2^-52=2^-1074，约等于 4.94 * 10^−324</span><br><span class="line">  - 由于符号位，值有 +min 和 -min</span><br></pre></td></tr></table></figure></li>
<li><strong>浮点数内存范例</strong><br><img src="/2000/01/01/Blog61-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E5%8D%95%E7%B2%BE%E5%BA%A6%E6%B5%AE%E7%82%B9%E6%95%B0.jpg"></li>
<li><strong>浮点数分布范围</strong><br><img src="/2000/01/01/Blog61-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/%E6%B5%AE%E7%82%B9%E6%95%B0%E5%88%86%E5%B8%83%E8%8C%83%E5%9B%B4.jpg"></li>
</ol>
<hr>
<h1 id="Chapter02-YAML"><a href="#Chapter02-YAML" class="headerlink" title="Chapter02 YAML"></a>Chapter02 YAML</h1><hr>
<h2 id="知识点：YAML-介绍"><a href="#知识点：YAML-介绍" class="headerlink" title="知识点：YAML 介绍"></a>知识点：YAML 介绍</h2><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - yaml 是一种数据序列化语言，通常用来编写配置文件</span><br><span class="line">  - yaml 强调以数据为中心而不是标记为中心，使用简单，可读性强，逻辑层次性强</span><br><span class="line">  - yaml 文件以 &quot;.yaml&quot; 或 &quot;.yml&quot; 结尾</span><br><span class="line"></span><br><span class="line">* 标记语言对比</span><br><span class="line">  - yaml 适合做配置，不适合储存数据</span><br><span class="line">  - xml 可以做配置但可读性差，适合储存数据</span><br><span class="line">  - json 适合做配置，也可以储存数据</span><br><span class="line"></span><br><span class="line">* 一段 yaml 配置可以认为描述了一个对象</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="知识点：YAML-基本语法"><a href="#知识点：YAML-基本语法" class="headerlink" title="知识点：YAML 基本语法"></a>知识点：YAML 基本语法</h2><ol>
<li><strong>语法基础准则</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* 区分大小写</span><br><span class="line"></span><br><span class="line">* &#x27;#&#x27; 表示注释</span><br><span class="line">  - 注释可以位于单独的一行，也可以位于某一行的行尾</span><br><span class="line">  - 注释不可以放在某一行的中间或开头</span><br><span class="line"></span><br><span class="line">* 使用缩进 indentation 表示层级关系</span><br><span class="line">  - 相同层级的元素缩进须对齐</span><br><span class="line">  - 推荐使用两个 space 来进行缩进</span><br><span class="line">  - 单行模式在 yaml 中称为 flow styles</span><br><span class="line"></span><br><span class="line">* &#x27;:&#x27; 表示 key-value</span><br><span class="line">  - 冒号之后必须加 space，数量无影响</span><br><span class="line"></span><br><span class="line">* &#x27;---&#x27; 用来分割多段 yaml 配置</span><br><span class="line">  - &#x27;---&#x27; 本质上用来标识一段 yaml 配置开始，可以省略</span><br><span class="line">  - &#x27;...&#x27; 可以用来标识一段 yaml 配置结束，可以省略</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="知识点：YAML-纯量"><a href="#知识点：YAML-纯量" class="headerlink" title="知识点：YAML 纯量"></a>知识点：YAML 纯量</h2><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - scalar</span><br><span class="line">  - 单个的、原子的、不可再分的值</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>分类</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">* 布尔型</span><br><span class="line">  - true、True</span><br><span class="line">  - false、False</span><br><span class="line"></span><br><span class="line">* 整型</span><br><span class="line"></span><br><span class="line">* 浮点型</span><br><span class="line"></span><br><span class="line">* null 型</span><br><span class="line">  - ~</span><br><span class="line">  - value 部分什么都不写也是 null</span><br><span class="line"></span><br><span class="line">* 日期型</span><br><span class="line">  - 使用 ISO8601 格式，即 yyyy-MM-dd</span><br><span class="line"></span><br><span class="line">* 时间型</span><br><span class="line">  - 使用 ISO8601 格式</span><br><span class="line">  - 时间和日期之间使用 &#x27;T&#x27; 连接，最后使用 &#x27;+&#x27; 代表时区</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 布尔型</span></span><br><span class="line"><span class="attr">a:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 整形</span></span><br><span class="line"><span class="attr">b:</span> <span class="number">123</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 浮点型</span></span><br><span class="line"><span class="attr">c:</span> <span class="number">3.14</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># null 型</span></span><br><span class="line"><span class="attr">d:</span></span><br><span class="line"><span class="attr">e:</span> <span class="string">~</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 日期型</span></span><br><span class="line"><span class="attr">f:</span> <span class="number">2001-01-01</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 时间型</span></span><br><span class="line"><span class="attr">g:</span> <span class="number">2021-11-11T10:00:00+08:00</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="知识点：YAML-字符串"><a href="#知识点：YAML-字符串" class="headerlink" title="知识点：YAML 字符串"></a>知识点：YAML 字符串</h2><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  - 可以不使用引号，会自动将 space 算作字符串中的字符</span><br><span class="line">  - 特殊字符则必须使用引号</span><br><span class="line">  - 单引号会对特殊字符转义，双引号不会对特殊字符转义</span><br><span class="line">  - 单引号之中如果包含单引号，则需要使用两个单引号进行转义</span><br><span class="line"></span><br><span class="line">* 字符串跨行</span><br><span class="line">  - 不需要对换行符进行跳脱</span><br><span class="line">  - 从第二行开始必须有前缀空格</span><br><span class="line">  - 换行符以及前缀空白会被转化成一个空格</span><br><span class="line">  - 结果为一行字符串</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字符串</span></span><br><span class="line"><span class="attr">str1:</span> <span class="string">BeiJing</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 字符串跨行</span></span><br><span class="line"><span class="attr">str2:</span> <span class="string">BeiJing</span></span><br><span class="line">      <span class="string">University</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="知识点：YAML-多行字符串"><a href="#知识点：YAML-多行字符串" class="headerlink" title="知识点：YAML 多行字符串"></a>知识点：YAML 多行字符串</h2><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 在字符串中保留换行符</span><br><span class="line">  - 结果为多行字符串</span><br><span class="line">  - 关于 &quot;|+&quot;、&quot;|-&quot;、&quot;&gt;+&quot;，见 &quot;Block Chomping Indicator&quot; 部分</span><br><span class="line"></span><br><span class="line">* literal style 格式</span><br><span class="line">  - 使用 &quot;|&quot; 标记，保留换行符，结果为多行字符串</span><br><span class="line">  - 每一行的缩进的级别应该相同</span><br><span class="line">    - 实现此缩进的 leading space 会被识别为结构的一部分，不会被识别为内容的一部分</span><br><span class="line">    - leading space 中超出此部分的 space，会被识别为内容的一部分</span><br><span class="line">  - 所有的字符串都会被认为是内容的一部分，包括 more-indented line 使用的 space、注释 &#x27;#&#x27; 等</span><br><span class="line">  - 小于统一缩进级别的空行，只会保留换行符</span><br><span class="line">  - 小于统一缩进的非空行，表示内容的结束</span><br><span class="line">  - 注意：</span><br><span class="line">    - There is no way to escape characters inside literal scalars. This restricts them to printable characters.</span><br><span class="line">    - In addition, there is no way to break a long literal line.</span><br><span class="line"></span><br><span class="line">* folded style </span><br><span class="line">  - 使用 &#x27;&gt;&#x27; 标记，会删除换行符，换行符及其后所跟的下一行的 leading space 会被替换为一个 space</span><br><span class="line">  - 每一行的缩进的级别应该相同</span><br><span class="line">    - 实现此缩进的 leading space 会被识别为结构的一部分，不会被识别为内容的一部分</span><br><span class="line">    - leading space 中超出此部分的 space，会被识别为内容的一部分</span><br><span class="line">  - 所有的字符串都会被认为是内容的一部分，包括 more-indented line 使用的 space、注释 &#x27;#&#x27; 等</span><br><span class="line">  - 空行会保留换行符</span><br><span class="line">  - more-indented line 会保留换行符和 more-indented 的 space</span><br><span class="line">  - more-indented line 的上一行的 non-more-indented line 的换行符也会被保存</span><br><span class="line">  - 空行的上一行的 non-more-indented line 的换行符不会被保存</span><br><span class="line">    - 实际为 Line breaks and empty lines separating folded and more-indented lines are also not folded.</span><br><span class="line">  - 小于统一缩进的非空行，表示内容的结束</span><br><span class="line">  </span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># literal style</span></span><br><span class="line"><span class="comment"># 相当于 str1: &quot;Mark McGwire&#x27;s\n year was crippled\nby a knee injury.\n&quot;</span></span><br><span class="line"><span class="meta">--- </span></span><br><span class="line"><span class="attr">str1:</span> <span class="string">|</span></span><br><span class="line"><span class="string">··Mark</span> <span class="string">McGwire&#x27;s↓</span></span><br><span class="line"><span class="string">···year</span> <span class="string">was</span> <span class="string">crippled↓</span></span><br><span class="line"><span class="string">··by</span> <span class="string">a</span> <span class="string">knee</span> <span class="string">injury.↓</span></span><br><span class="line"><span class="string">↓</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># folded style，空行和更多缩进的换行符会被保留</span></span><br><span class="line"><span class="comment"># 相当于 str2: &quot;\nfolded line\nnext line\n  * bullet\n \n  * list\n  * lines\n\nlast line\n&quot;</span></span><br><span class="line"><span class="meta">--- </span></span><br><span class="line"><span class="attr">str2:</span> <span class="string">&gt;</span></span><br><span class="line"><span class="string">↓</span></span><br><span class="line"><span class="string">··folded↓</span></span><br><span class="line"><span class="string">··line↓</span></span><br><span class="line"><span class="string">↓</span></span><br><span class="line"><span class="string">··next↓</span></span><br><span class="line"><span class="string">··line↓</span></span><br><span class="line"><span class="string">····*</span> <span class="string">bullet↓</span></span><br><span class="line"><span class="string">↓</span></span><br><span class="line"><span class="string">····*</span> <span class="string">list↓</span></span><br><span class="line"><span class="string">····*</span> <span class="string">lines↓</span></span><br><span class="line"><span class="string">↓</span></span><br><span class="line"><span class="string">··last↓</span></span><br><span class="line"><span class="string">··line↓</span></span><br><span class="line"><span class="string">↓</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>Block Chomping Indicator</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - Chomping controls how final line breaks and trailing empty lines are interpreted. </span><br><span class="line">  - YAML provides three chomping methods:</span><br><span class="line"></span><br><span class="line">* Clip</span><br><span class="line">  - Clipping is the default behavior used if no explicit chomping indicator is specified.</span><br><span class="line">  - In this case, the final line break character is preserved in the scalar’s content.</span><br><span class="line">  - However, any trailing empty lines are excluded from the scalar’s content.</span><br><span class="line"></span><br><span class="line">* Strip &quot;-&quot;</span><br><span class="line">  - Stripping is specified by the &quot;-&quot; chomping indicator.</span><br><span class="line">  - In this case, the final line break and any trailing empty lines are excluded from the scalar’s content.</span><br><span class="line"></span><br><span class="line">* Keep &quot;+&quot;</span><br><span class="line">  - Keeping is specified by the &quot;+&quot; chomping indicator.</span><br><span class="line">  - In this case, the final line break and any trailing empty lines are considered to be part of the scalar’s content.</span><br><span class="line">  - These additional lines are not subject to folding.</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="知识点：YAML-列表"><a href="#知识点：YAML-列表" class="headerlink" title="知识点：YAML 列表"></a>知识点：YAML 列表</h2><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - Block sequences，对应了其他语言中的列表 List、数组 Array、序列 Sequence</span><br><span class="line">  - 列表中每一个 item 的地位等价</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  - 单行写，使用中括号 &#x27;[]&#x27; + &#x27;,&#x27; 间隔</span><br><span class="line">  - 分行写，使用 &#x27;-&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 单行写</span></span><br><span class="line"><span class="attr">smartphone:</span> [<span class="string">xiaomi</span>, <span class="string">huawei</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 分行写</span></span><br><span class="line"><span class="attr">cars:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">Porsche</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">LaFerrari</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">Lamborghini</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="知识点：YAML-字典"><a href="#知识点：YAML-字典" class="headerlink" title="知识点：YAML 字典"></a>知识点：YAML 字典</h2><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - Mappings，对应了其他语言中的对象 object、字典 dictionary、映射 mapping、哈希 hash</span><br><span class="line">  - 键值对的集合</span><br><span class="line">  - 字典中 key 值不能重复</span><br><span class="line">  - 每一个 k-v 对来表示对象的一个属性，k-v 使用 &#x27;:&#x27; 来标识</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  - 单行写，使用大括号 &#x27;&#123;&#125;&#x27; + &#x27;,&#x27; 间隔</span><br><span class="line">  - 分行写，什么都不用加</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 单行写</span></span><br><span class="line"><span class="attr">Tom:</span> &#123;<span class="attr">age:</span> <span class="number">15</span>, <span class="attr">gender:</span> <span class="string">male</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 分行写</span></span><br><span class="line"><span class="attr">Tom:</span></span><br><span class="line">  <span class="attr">age:</span> <span class="number">15</span></span><br><span class="line">  <span class="attr">gender:</span> <span class="string">male</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h1 id="Chapter03-Jinja2"><a href="#Chapter03-Jinja2" class="headerlink" title="Chapter03 Jinja2"></a>Chapter03 Jinja2</h1><hr>
<h2 id="知识点：Jinja2-介绍"><a href="#知识点：Jinja2-介绍" class="headerlink" title="知识点：Jinja2 介绍"></a>知识点：Jinja2 介绍</h2><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - Jinja2 是 python 中的一款模板引擎 templating engine</span><br><span class="line">  - 通过将模板文件 template 中的占位符替换为真实值，来生成最终的文件</span><br></pre></td></tr></table></figure></li>
<li><strong>概念</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">* 模板</span><br><span class="line">  - 模板本质上就是一段文本 text，或者一个文本文件 text file</span><br><span class="line">  - 模板文件的后缀名可以是 &quot;.jinjia2&quot;、&quot;.j2&quot;，jinja2 并不强制要求模板文件一定具有某种后缀名</span><br><span class="line"></span><br><span class="line">* 最终文件</span><br><span class="line">  - 通过模板生成的结果文件</span><br><span class="line">  - 最终文件中，原先模板文件中的 jinja2 占位符都会被填充上真实值</span><br><span class="line"></span><br><span class="line">* render</span><br><span class="line">  - 渲染、呈现</span><br><span class="line">  - 模板文件 --&gt; 最终文件、占位符 --&gt; 真实值的过程</span><br><span class="line">  - 渲染的过程并不完全由 jinja2 控制，还受调用 jinja2 的外部程序的影响</span><br><span class="line">    - jinja2 为渲染过程中出现的各种奇怪问题都提供了 api，如何处理这些问题由外部程序对 api 的操作来实现</span><br><span class="line">    - 如，一个 var 不存在，有些程序会填充为 null，有些程序会抛出异常</span><br><span class="line"></span><br><span class="line">* 变量 variables</span><br><span class="line"></span><br><span class="line">* 表达式 expressions</span><br><span class="line"></span><br><span class="line">* 标签 tags</span><br><span class="line">  - jinja2 的标记，在其中编写 jinja2 模板涉及语言格式的内容</span><br><span class="line">  - jinja2 的标签全部使用大括号 &#x27;&#123; &#125;&#x27; 格式，如 &#x27;&#123;&#123; &#125;&#125;&#x27;、&#x27;&#123;% %&#125;&#x27;</span><br><span class="line">  - 所有的 jinja2 格式必须放在标签中</span><br><span class="line">  - 如果某个内容没有放在 jinja2 标签中，就会被视为普通文本并在最终文件中进行保留，包括所有的空白字符，见空白控制</span><br><span class="line"></span><br><span class="line">* 块 block</span><br><span class="line">  - 一段 jinja2 占位符 placeholders</span><br><span class="line">  - 在使用模板生成最终文件时，会将模板中的 block 替换为真实值</span><br><span class="line">  - block 可以只是一个标签，如 &#123;&#123; &#125;&#125;</span><br><span class="line">  - block 也可以是两个标签包裹起来的部分，如 &#123;% for XXXX %&#125; XXXX &#123;% endfor%&#125;，此时 block 可以跨行</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="知识点：Jinja2-表达式"><a href="#知识点：Jinja2-表达式" class="headerlink" title="知识点：Jinja2 表达式"></a>知识点：Jinja2 表达式</h2><ol>
<li><strong>表达式介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 除了如管道 &#x27;|&#x27;、拼接字符 &#x27;~&#x27; 等运算符外，以及 filter、test 之外，Jinja2 的表达式基本完全照搬 python 表达式</span><br><span class="line">  - 可以按照 python 方式调用类型的 method，如 dict.keys()、</span><br><span class="line">  - 可以调用各种 python 的黑魔法 method，如 subscription、序列拼接、序列倍乘等</span><br><span class="line">  - python 的全局函数、构造器函数不能被直接调用，但基本上都被做成了 filter、test</span><br></pre></td></tr></table></figure>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="comment"># 范例 #&#125;</span></span><br><span class="line"></span><br><span class="line">&#123;&#123; <span class="string">&#x27;Hello World! &#x27;</span> <span class="string">+</span> <span class="string">&#x27;This is us! &#x27;</span> &#125;&#125;    <span class="comment"># 表达式</span></span><br><span class="line"></span><br><span class="line">&#123;&#123; <span class="string">dict.keys()</span> <span class="string">|</span> <span class="string">list</span> &#125;&#125;                  <span class="comment"># 函数</span></span><br></pre></td></tr></table></figure></li>
<li><strong>Literals</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 最基础的表达式，用于表示 python 对象，如 string 或 number</span><br><span class="line"></span><br><span class="line">* VarName</span><br><span class="line">  - 使用变量的值</span><br><span class="line"></span><br><span class="line">* &#x27;String&#x27;、&quot;String&quot;</span><br><span class="line">  - 字符串</span><br><span class="line">  - 必须使用单引号、双引号表示，如果一段 string 没有放在引号中，则会被视为 VarName</span><br><span class="line"></span><br><span class="line">* 42、123_456</span><br><span class="line">  - Integer，可以用 &#x27;_&#x27; 来间隔数字</span><br><span class="line"></span><br><span class="line">* 42.23、42.1e2、123_456.789</span><br><span class="line">  - Floating point numbers，可以用 &#x27;_&#x27; 来间隔数字</span><br><span class="line"></span><br><span class="line">* [ item1, item2, ...]</span><br><span class="line">  - 列表</span><br><span class="line"></span><br><span class="line">* ( item1, item2, ...)</span><br><span class="line">  - 元组</span><br><span class="line"></span><br><span class="line">* &#123; key: value, ... &#125;</span><br><span class="line">  - 字典</span><br><span class="line"></span><br><span class="line">* true、false</span><br><span class="line">  - 布尔值，注意应尽量使用 lowercase</span><br></pre></td></tr></table></figure></li>
<li><strong>运算符</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">* 数学运算符</span><br><span class="line">  + - * / % ** //</span><br><span class="line"></span><br><span class="line">* 比较运算符</span><br><span class="line">  == != &gt; &gt;= &lt; &lt;=</span><br><span class="line"></span><br><span class="line">* 逻辑运算符</span><br><span class="line">  and or not</span><br><span class="line"></span><br><span class="line">* 括号</span><br><span class="line">  ( )</span><br><span class="line"></span><br><span class="line">* is 运算符</span><br><span class="line">  - 进行一个条件检查 test</span><br><span class="line"></span><br><span class="line">* in</span><br><span class="line">  - 进行成员检查</span><br><span class="line"></span><br><span class="line">* |</span><br><span class="line">  - 管道运算符</span><br><span class="line"></span><br><span class="line">* ~</span><br><span class="line">  - (tilde) Converts all operands into strings and concatenates them.</span><br><span class="line">  - 字符连接</span><br><span class="line"></span><br><span class="line">* Name(args)</span><br><span class="line">  - 调用一个 callable</span><br><span class="line"></span><br><span class="line">* Name.attr</span><br><span class="line">* Name[&#x27;attr&#x27;]</span><br><span class="line">  - 引用对象的属性</span><br><span class="line">  - 注意</span><br><span class="line">    - 如果是通过 expression 的结果来引用对象的属性，则只能使用 &quot;[ ]&quot; 的方式，即 Name[expression]</span><br><span class="line">    - 例如，config[ansible_facts.default_ipv4.address].name</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="知识点：Jinja2-基本语法"><a href="#知识点：Jinja2-基本语法" class="headerlink" title="知识点：Jinja2 基本语法"></a>知识点：Jinja2 基本语法</h2><ol>
<li><strong>语法结构</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* &#123;% ... %&#125;</span><br><span class="line">  - 语句 Statements</span><br><span class="line"></span><br><span class="line">* &#123;&#123; ... &#125;&#125;</span><br><span class="line">  - 打印表达式的值</span><br><span class="line">  - &#123;&#123; Var &#125;&#125;         使用变量的值</span><br><span class="line">  - &#123;&#123; expression &#125;&#125;  使用表达式的计算结果</span><br><span class="line"></span><br><span class="line">* &#123;# ... #&#125;</span><br><span class="line">  - 注释，支持多行注释</span><br></pre></td></tr></table></figure></li>
<li><strong>转义 Escaping</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 在普通文本部分，通过转义将代表 jinja2 语法结构的符号转义为普通字符 raw string，保存到最终生成的文件中</span><br><span class="line">  - 最大的用处，生成模板</span><br><span class="line"></span><br><span class="line">* 变量方式</span><br><span class="line">  - 在变量引用 &#x27;&#123;&#123; &#125;&#125;&#x27; 中，可以使用引号 &#x27; &#x27; 将结构转义为普通字符</span><br><span class="line"></span><br><span class="line">* raw 方式</span><br><span class="line">  - 使用标记 &#123;% raw %&#125; &#123;% endraw %&#125; 来对整个区块进行转义</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;# 范例 #&#125;</span><br><span class="line"></span><br><span class="line">&#123;# 变量方式 #&#125;</span><br><span class="line">* &#123;&#123; &#x27;&#123;&#123;&#x27; &#125;&#125;</span><br><span class="line"></span><br><span class="line">&#123;# raw 方式 #&#125;</span><br><span class="line">&#123;% raw %&#125;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &#123;% for item in seq %&#125;</span><br><span class="line">        &lt;li&gt;&#123;&#123; item &#125;&#125;&lt;/li&gt;</span><br><span class="line">    &#123;% endfor %&#125;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">&#123;% endraw %&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="知识点：Jinja2-空白控制"><a href="#知识点：Jinja2-空白控制" class="headerlink" title="知识点：Jinja2 空白控制"></a>知识点：Jinja2 空白控制</h2><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">* 空白字符控制 Whitespace Control</span><br><span class="line">  - jinja2 视 space、tab、newline 都是空白字符</span><br><span class="line">  - 默认配置下，在生成最终文件时，jinja2 引擎会对 tag 周围的空白字符做如下操作</span><br><span class="line">    - single trailing newlines 会被剥离</span><br><span class="line">    - 其他的空白字符，会原封不动的保留</span><br><span class="line"></span><br><span class="line">* jinja2 的 environment 中有两个环境设置，可以额外控制对空白字符的剥离</span><br><span class="line">  - trim_blocks，默认 false，true 则表示将 jinja2 tag 末尾紧跟着的 newline 剥离</span><br><span class="line">  - lstrip_blocks，默认 false，true 则表示将 jinja2 tag 之前，从行首开始的 space、tab 剥离，如果行首到 jinja2 tag 之间有非空白字符，则不做任何操作</span><br><span class="line"></span><br><span class="line">* jinja2 额外支持两种对空白字符的控制语法</span><br><span class="line">  - &#123;%+ something %&#125;，对此 tag disable lstrip_blocks</span><br><span class="line">  - &#123;% something +%&#125;，对此 tag disable trim_blocks</span><br><span class="line">  - &#123;%- something %&#125;，剥离此 tag 之前紧跟着的所有连续空白字符，包括 newline</span><br><span class="line">  - &#123;% something -%&#125;，剥离此 tag 之后紧跟着的所有连续空白字符，包括 newline</span><br><span class="line">  - &#x27;+&#x27; 和 &#x27;-&#x27; 支持所有的 jinja2 标记，如 &#123;% %&#125;、&#123;&#123; &#125;&#125;、&#123;# #&#125;、&#123;% raw %&#125; 等</span><br><span class="line">  - &#x27;+&#x27; 和 &#x27;-&#x27; 与 jinja2 标记之间，不能有空格</span><br><span class="line"></span><br><span class="line">* 注意，&#x27;-&#x27; 并不完全等同于 enable trim_blocks/lstrip_blocks</span><br><span class="line">  - trim_blocks/lstrip_blocks 的生效范围仅在 jinja2 tag 的所在行</span><br><span class="line">  - &#x27;-&#x27; 的生效范围会跨行</span><br><span class="line"></span><br><span class="line">* 其他</span><br><span class="line">  - keep_trailing_newline，jinja2 环境设置，可以控制是否剥离 single trailing newlines</span><br></pre></td></tr></table></figure>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="comment"># 范例，trim_blocks 和 lstrip_blocks 的影响 #&#125;</span></span><br><span class="line">&#123;<span class="comment"># 模板 #&#125;</span></span><br><span class="line"><span class="string">&lt;div&gt;</span></span><br><span class="line">    &#123;<span class="string">%</span> <span class="string">if</span> <span class="literal">True</span> <span class="string">%</span>&#125;</span><br><span class="line">    <span class="string">yay</span></span><br><span class="line">    &#123;<span class="string">%</span> <span class="string">endif</span> <span class="string">%</span>&#125;</span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="comment"># 结果，默认情况，禁用 trim_blocks 和 lstrip_blocks 的情况下#&#125;</span></span><br><span class="line"><span class="string">&lt;div&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="string">yay</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="comment"># 结果，启用 trim_blocks 和 lstrip_blocks 的情况下#&#125;</span></span><br><span class="line"><span class="string">&lt;div&gt;</span></span><br><span class="line">    <span class="string">yay</span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="comment"># 范例，手动对空白字符进行控制，均禁用 trim_blocks 和 lstrip_blocks #&#125;</span></span><br><span class="line">&#123;<span class="comment"># 模板 #&#125;</span></span><br><span class="line"><span class="string">&lt;div&gt;</span></span><br><span class="line">    &#123;<span class="string">%-</span> <span class="string">if</span> <span class="literal">True</span> <span class="string">%</span>&#125;</span><br><span class="line">        <span class="string">yay</span></span><br><span class="line">    &#123;<span class="string">%</span> <span class="string">endif</span> <span class="string">%</span>&#125;</span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="comment"># 结果 #&#125;</span></span><br><span class="line"><span class="string">&lt;div&gt;</span></span><br><span class="line">        <span class="string">yay</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="comment"># 模板 #&#125;</span></span><br><span class="line"><span class="string">&lt;div&gt;</span></span><br><span class="line">    &#123;<span class="string">%-</span> <span class="string">if</span> <span class="literal">True</span> <span class="string">-%</span>&#125;</span><br><span class="line">        <span class="string">yay</span></span><br><span class="line">    &#123;<span class="string">%</span> <span class="string">endif</span> <span class="string">%</span>&#125;</span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="comment"># 结果 #&#125;</span></span><br><span class="line"><span class="string">&lt;div&gt;yay</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="知识点：Jinja2-Filter-过滤器"><a href="#知识点：Jinja2-Filter-过滤器" class="headerlink" title="知识点：Jinja2 Filter 过滤器"></a>知识点：Jinja2 Filter 过滤器</h2><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - Filter，用来进行数据操作 data manipulation</span><br><span class="line">  - 与 shell 类似，jinja2 中使用 &quot;|&quot; 来表示管道，继而使用过滤器函数进行过滤，并且支持多次过滤</span><br><span class="line">  - 管道表达式可以直接作为一个参数，直接参与计算或者作为函数的参数</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  &#123;&#123; Expression | FilterFunction &#125;&#125;</span><br><span class="line">  &#123;&#123; Expression | FilterFunction() &#125;&#125;</span><br><span class="line">  &#123;&#123; Expression | FilterFunction(args) &#125;&#125;</span><br><span class="line"></span><br><span class="line">* 过滤器函数 FilterFunction</span><br><span class="line">  - 与 self 参数类似，FilterFunction 的第一个参数都是接收管道传送过来的 value</span><br><span class="line">  - 如果 FilterFunction 只有一个参数，则调用方式为 &#123;&#123; XXXX | FilterFunction &#125;&#125; 或 &#123;&#123; XXXX | FilterFunction() &#125;&#125;</span><br><span class="line">  - 如果 FilterFunction 有 N 个参数，则实际调用时 arg 的数量为 N-1</span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字符串转换为单词首字母大写</span></span><br><span class="line">&#123;&#123; <span class="string">&#x27;hello world!&#x27;</span> <span class="string">|</span> <span class="string">title</span> &#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将列表变量 listx 的所有的项，使用 &quot;, &quot; 进行拼接，得到一个 string</span></span><br><span class="line">&#123;&#123; <span class="string">listx</span> <span class="string">|</span> <span class="string">join(&#x27;</span>, <span class="string">&#x27;) &#125;&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># 直接将管道表达式作为函数的参数</span></span><br><span class="line"><span class="string"><span class="template-variable">&#123;&#123; range( Var | int + 10 ) &#125;&#125;</span></span></span><br></pre></td></tr></table></figure></li>
<li><strong>Filter 标签</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - filter 标签可以直接使用 filter 函数</span><br><span class="line">  - 相当于 &#123;&#123; Value | FilterFunction &#125;&#125;</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  &#123;% filter FilterFunction %&#125;</span><br><span class="line">  Value</span><br><span class="line">  &#123;% endfilter %&#125;</span><br><span class="line"></span><br><span class="line">* 带参数的格式</span><br><span class="line">  &#123;% filter FilterFunction(args) %&#125;</span><br><span class="line">  Value</span><br><span class="line">  &#123;% endfilter %&#125;</span><br></pre></td></tr></table></figure></li>
<li><strong>Filter 函数</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">* jinja-filters.abs(x, /)</span><br><span class="line"></span><br><span class="line">* jinja-filters.length(obj, /)</span><br><span class="line"></span><br><span class="line">* jinja-filters.max(value: &#x27;t.Iterable[V]&#x27;, case_sensitive: bool = False, attribute: Union[str, int, NoneType] = None) -&gt; &#x27;t.Union[V, Undefined]&#x27;</span><br><span class="line">* jinja-filters.min(value: &#x27;t.Iterable[V]&#x27;, case_sensitive: bool = False, attribute: Union[str, int, NoneType] = None) -&gt; &#x27;t.Union[V, Undefined]&#x27;</span><br><span class="line">* jinja-filters.sum(iterable: &#x27;t.Iterable[V]&#x27;, attribute: Union[str, int, NoneType] = None, start: V = 0) -&gt; V</span><br><span class="line"></span><br><span class="line">* jinja-filters.lower(s: str) -&gt; str</span><br><span class="line">* jinja-filters.upper(s: str) -&gt; str</span><br><span class="line">* jinja-filters.capitalize(s: str) -&gt; str</span><br><span class="line">* jinja-filters.title(s: str) -&gt; str</span><br><span class="line"></span><br><span class="line">* jinja-filters.int(value: Any, default: int = 0, base: int = 10) -&gt; int</span><br><span class="line">* jinja-filters.float(value: Any, default: float = 0.0) -&gt; float</span><br><span class="line">* jinja-filters.string(value)</span><br><span class="line">* jinja-filters.list(value: &#x27;t.Iterable[V]&#x27;) -&gt; &#x27;t.List[V]&#x27;</span><br><span class="line">  - 转换为 Integer、float、string、list</span><br><span class="line"></span><br><span class="line">* jinja-filters.pprint(value: Any) -&gt; str</span><br><span class="line"></span><br><span class="line">* jinja-filters.random(seq: &#x27;t.Sequence[V]&#x27;) -&gt; &#x27;t.Union[V, Undefined]&#x27;</span><br><span class="line">  - 随机返回 seq 中的某个 item</span><br><span class="line"></span><br><span class="line">* jinja-filters.center(value: str, width: int = 80) -&gt; str</span><br><span class="line">  - 中心对齐</span><br><span class="line"></span><br><span class="line">* jinja-filters.d(value: V, default_value: V = &#x27;&#x27;, boolean: bool = False) -&gt; V</span><br><span class="line">* jinja-filters.default(value: V, default_value: V = &#x27;&#x27;, boolean: bool = False) -&gt; V</span><br><span class="line">  - 返回默认值</span><br><span class="line"></span><br><span class="line">* jinja-filters.dictsort(value: Mapping[K, V], case_sensitive: bool = False, by: &#x27;te.Literal[&quot;key&quot;, &quot;value&quot;]&#x27; = &#x27;key&#x27;, reverse: bool = False) -&gt; List[Tuple[K, V]]</span><br><span class="line">  - 对字典进行排序</span><br><span class="line"></span><br><span class="line">* jinja-filters.e(value)</span><br><span class="line">* jinja-filters.escape(value)</span><br><span class="line">  - 对 HTML 特殊字符 &amp;、&lt;、&gt;、&#x27;、&quot; 进行转义</span><br><span class="line"></span><br><span class="line">* jinja-filters.filesizeformat(value: Union[str, float, int], binary: bool = False) -&gt; str</span><br><span class="line">  - 将表示文件大小的 value 转换为人类易读的方式</span><br><span class="line"></span><br><span class="line">* jinja-filters.first(seq: &#x27;t.Iterable[V]&#x27;) -&gt; &#x27;t.Union[V, Undefined]&#x27;</span><br><span class="line">* jinja-filters.last(seq: &#x27;t.Reversible[V]&#x27;) -&gt; &#x27;t.Union[V, Undefined]&#x27;</span><br><span class="line">  - 返回 iterable 的第一个、最后一个 item</span><br><span class="line"></span><br><span class="line">* jinja-filters.format(value: str, *args: Any, **kwargs: Any) -&gt; str</span><br><span class="line">  - 对字符串进行 printf-style 格式化，例如 &#123;&#123; &quot;%s, %s&quot;|format(&quot;Hello&quot;, &quot;World!&quot;) &#125;&#125;</span><br><span class="line"></span><br><span class="line">* jinja-filters.indent(s: str, width: Union[int, str] = 4, first: bool = False, blank: bool = False) -&gt; str</span><br><span class="line">  - 返回对字符串进行缩进后的结果</span><br><span class="line"></span><br><span class="line">* jinja-filters.items(value: Union[Mapping[K, V], jinja2.runtime.Undefined]) -&gt; Iterator[Tuple[K, V]]</span><br><span class="line">  - 类似 python 的 dict.items()</span><br><span class="line"></span><br><span class="line">* jinja-filters.join(value: Iterable, d: str = &#x27;&#x27;, attribute: Union[str, int, NoneType] = None) -&gt; str</span><br><span class="line">  - 类似 python 的 str.join()</span><br><span class="line"></span><br><span class="line">* jinja-filters.replace(s: str, old: str, new: str, count: Optional[int] = None) -&gt; str</span><br><span class="line">  - 类似 python 的 str.replace()</span><br><span class="line"></span><br><span class="line">* jinja-filters.map(value: Iterable, *args: Any, **kwargs: Any) -&gt; Iterable</span><br><span class="line">  - 类似 python 的 map() 函数</span><br><span class="line"></span><br><span class="line">* jinja-filters.reverse(value: Union[str, Iterable[V]]) -&gt; Union[str, Iterable[V]]</span><br><span class="line">* jinja-filters.sort(value: &#x27;t.Iterable[V]&#x27;, reverse: bool = False, case_sensitive: bool = False, attribute: Union[str, int, NoneType] = None) -&gt; &#x27;t.List[V]&#x27;</span><br><span class="line">  - 类似 python 的 sort()、reverse() 函数</span><br><span class="line"></span><br><span class="line">* jinja-filters.reject(value: &#x27;t.Iterable[V]&#x27;, *args: Any, **kwargs: Any) -&gt; &#x27;t.Iterator[V]&#x27;</span><br><span class="line">  - Filters a sequence of objects by applying a test to each object, and rejecting the objects with the test succeeding.</span><br><span class="line"></span><br><span class="line">* jinja-filters.rejectattr(value: &#x27;t.Iterable[V]&#x27;, *args: Any, **kwargs: Any) -&gt; &#x27;t.Iterator[V]&#x27;</span><br><span class="line">  - Filters a sequence of objects by applying a test to the specified attribute of each object, and rejecting the objects with the test succeeding.</span><br><span class="line"></span><br><span class="line">* jinja-filters.select(value: &#x27;t.Iterable[V]&#x27;, *args: Any, **kwargs: Any) -&gt; &#x27;t.Iterator[V]&#x27;</span><br><span class="line">  - Filters a sequence of objects by applying a test to each object, and only selecting the objects with the test succeeding.</span><br><span class="line"></span><br><span class="line">* jinja-filters.selectattr(value: &#x27;t.Iterable[V]&#x27;, *args: Any, **kwargs: Any) -&gt; &#x27;t.Iterator[V]&#x27;</span><br><span class="line">  - Filters a sequence of objects by applying a test to the specified attribute of each object, and only selecting the objects with the test succeeding.</span><br><span class="line"></span><br><span class="line">* jinja-filters.round(value: float, precision: int = 0, method: &#x27;te.Literal[&quot;common&quot;, &quot;ceil&quot;, &quot;floor&quot;]&#x27; = &#x27;common&#x27;) -&gt; float</span><br><span class="line">  - Round the number to a given precision.</span><br><span class="line"></span><br><span class="line">* jinja-filters.tojson(value: Any, indent: Optional[int] = None) -&gt; markupsafe.Markup</span><br><span class="line">  - Serialize an object to a string of JSON, and mark it safe to render in HTML. This filter is only for use in HTML documents.</span><br><span class="line"></span><br><span class="line">* jinja-filters.trim(value: str, chars: Optional[str] = None) -&gt; str</span><br><span class="line">  - Strip leading and trailing characters, by default whitespace.</span><br><span class="line"></span><br><span class="line">* jinja-filters.truncate(s: str, length: int = 255, killwords: bool = False, end: str = &#x27;...&#x27;, leeway: Optional[int] = None) -&gt; str</span><br><span class="line">  - Return a truncated copy of the string.</span><br><span class="line"></span><br><span class="line">* jinja-filters.unique(value: &#x27;t.Iterable[V]&#x27;, case_sensitive: bool = False, attribute: Union[str, int, NoneType] = None) -&gt; &#x27;t.Iterator[V]&#x27;</span><br><span class="line">  - Returns a list of unique items from the given iterable.</span><br><span class="line"></span><br><span class="line">* jinja-filters.wordcount(s: str) -&gt; int</span><br><span class="line">  - Count the words in that string.</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="知识点：Jinja2-Test-条件检测"><a href="#知识点：Jinja2-Test-条件检测" class="headerlink" title="知识点：Jinja2 Test 条件检测"></a>知识点：Jinja2 Test 条件检测</h2><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - Test，用来对 Expression 的结果进行测试，返回 true 或 false</span><br><span class="line">  - Jinja2 使用 is 来进行条件检测</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  - &#123;% Expression is TestFunction %&#125;</span><br><span class="line">  - &#123;% Expression is TestFunction() %&#125;</span><br><span class="line">  - &#123;% Expression is TestFunction arg %&#125;        &lt;== 省略括号</span><br><span class="line">  - &#123;% Expression is TestFunction(args) %&#125;</span><br><span class="line"></span><br><span class="line">* TestFunction 的参数</span><br><span class="line">  - 与 FilterFunction 类似，第一个参数也是类似于 self 参数的用法</span><br><span class="line">  - 如果 TestFunction 只需要额外指定一个参数，则可以省略括号</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;# 检查变量 var 是否存在 #&#125;</span><br><span class="line">&#123;% if var is defined %&#125;</span><br><span class="line"></span><br><span class="line">&#123;# 检查 loop.index 是否可以被 3 整除，用来在 for 循环每三次迭代就执行某项操作 #&#125;</span><br><span class="line">&#123;% if loop.index is divisibleby 3 %&#125;</span><br><span class="line">&#123;% if loop.index is divisibleby(3) %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>Test 函数</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">* jinja-tests.eq(a, b, /)</span><br><span class="line">* jinja-tests.ne(a, b, /)</span><br><span class="line">* jinja-tests.ge(a, b, /)</span><br><span class="line">* jinja-tests.gt(a, b, /)</span><br><span class="line">* jinja-tests.le(a, b, /)</span><br><span class="line">* jinja-tests.lt(a, b, /)</span><br><span class="line"></span><br><span class="line">* jinja-tests.even(value: int) -&gt; bool</span><br><span class="line">* jinja-tests.odd(value: int) -&gt; bool</span><br><span class="line">  - 检查整数的奇偶性</span><br><span class="line"></span><br><span class="line">* jinja-tests.defined(value: Any) -&gt; bool</span><br><span class="line">* jinja-tests.undefined(value: Any) -&gt; bool</span><br><span class="line">  - 检查变量是否存在</span><br><span class="line"></span><br><span class="line">* jinja-tests.none(value: Any) -&gt; bool</span><br><span class="line">  - 检查变量是否为空</span><br><span class="line"></span><br><span class="line">* jinja-tests.true(value: Any) -&gt; bool</span><br><span class="line">* jinja-tests.false(value: Any) -&gt; bool</span><br><span class="line">  - Return true if the object is True.</span><br><span class="line">  - Return true if the object is False.</span><br><span class="line"></span><br><span class="line">* jinja-tests.divisibleby(value: int, num: int) -&gt; bool</span><br><span class="line">  - 检查是否可以被整除</span><br><span class="line"></span><br><span class="line">* jinja-tests.boolean(value: Any) -&gt; bool</span><br><span class="line">* jinja-tests.float(value: Any) -&gt; bool</span><br><span class="line">* jinja-tests.integer(value: Any) -&gt; bool</span><br><span class="line">* jinja-tests.number(value: Any) -&gt; bool</span><br><span class="line">* jinja-tests.sequence(value: Any) -&gt; bool</span><br><span class="line">* jinja-tests.iterable(value: Any) -&gt; bool</span><br><span class="line">* jinja-tests.string(value: Any) -&gt; bool</span><br><span class="line">* jinja-tests.callable(obj, /) -&gt; bool</span><br><span class="line">  - 检查数据的类型</span><br><span class="line"></span><br><span class="line">* jinja-tests.filter(value: str) -&gt; bool</span><br><span class="line">* jinja-tests.test(value: str) -&gt; bool</span><br><span class="line">  - 检查是否是一个过滤器函数、条件函数</span><br><span class="line"></span><br><span class="line">* jinja-tests.lower(value: str) -&gt; bool</span><br><span class="line">* jinja-tests.upper(value: str) -&gt; bool</span><br><span class="line">  - 检查字符串大小写</span><br><span class="line"></span><br><span class="line">* jinja-tests.in(value: Any, seq: Container) -&gt; bool</span><br><span class="line">  - Check if value is in seq.</span><br><span class="line"></span><br><span class="line">* jinja-tests.sameas(value: Any, other: Any) -&gt; bool</span><br><span class="line">  - Check if an object points to the same memory address than another object</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="知识点：Jinja2-函数"><a href="#知识点：Jinja2-函数" class="headerlink" title="知识点：Jinja2 函数"></a>知识点：Jinja2 函数</h2><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* 调用方式</span><br><span class="line">  &#123;&#123; function(args) &#125;&#125;</span><br></pre></td></tr></table></figure></li>
<li><strong>基本函数</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* now(utc, fmt)</span><br><span class="line">  - 打印 current time</span><br><span class="line">  - 参数 utc，boolean，指定是否打印 utc 时间</span><br><span class="line">  - 参数 fmt，string，指定 strftime 时间格式，https://docs.python.org/3/library/datetime.html#strftime-strptime-behavior</span><br><span class="line">  - 范例</span><br><span class="line">    &#123;&#123; now(false, &#x27;%Y%m%d-%H%M%S&#x27;) &#125;&#125;</span><br></pre></td></tr></table></figure></li>
<li><strong>全局函数 Global Functions</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">* jinja-globals.range([start, ]stop[, step]) -&gt; list</span><br><span class="line">  - 生成 range 列表</span><br><span class="line"></span><br><span class="line">* jinja-globals.dict(\**items)</span><br><span class="line">  - 生成字典</span><br><span class="line"></span><br><span class="line">* property current      Return the current item.</span><br><span class="line">* next()                Return the current item, then advance current to the next item.</span><br><span class="line">* reset()               Resets the current item to the first item.</span><br><span class="line">  - 迭代相关</span><br><span class="line"></span><br><span class="line">* class jinja-globals.cycler(\*items)</span><br><span class="line">  - Cycle through values by yielding them one at a time, then restarting once the end is reached.</span><br><span class="line">  - 循环器类 cycler</span><br><span class="line"></span><br><span class="line">* class jinja-globals.joiner(sep=&#x27;, &#x27;)¶</span><br><span class="line">  - A tiny helper that can be used to “join” multiple sections.</span><br><span class="line">  - 连接器类 joiner</span><br><span class="line"></span><br><span class="line">* class jinja-globals.namespace(...)¶</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="知识点：Jinja2-for-结构"><a href="#知识点：Jinja2-for-结构" class="headerlink" title="知识点：Jinja2 for 结构"></a>知识点：Jinja2 for 结构</h2><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* Unlike in Python, it’s not possible to break or continue in a loop.</span><br></pre></td></tr></table></figure></li>
<li><strong>格式</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">* 列表循环</span><br><span class="line">  &#123;% for Var in List %&#125;</span><br><span class="line">  ...</span><br><span class="line">  &#123;% endfor %&#125;</span><br><span class="line"></span><br><span class="line">* 字典循环</span><br><span class="line">  &#123;% for key, value in Dict %&#125;</span><br><span class="line">  ...</span><br><span class="line">  &#123;% endfor %&#125;</span><br><span class="line"></span><br><span class="line">* 有序字典循环</span><br><span class="line">  &#123;% for key, value in Dict | dictsort %&#125;</span><br><span class="line">  ...</span><br><span class="line">  &#123;% endfor %&#125;</span><br><span class="line"></span><br><span class="line">* 筛选循环，只会对经过了筛选的项进行迭代</span><br><span class="line">  &#123;% for Var in List if ... %&#125;</span><br><span class="line">  ...</span><br><span class="line">  &#123;% endfor %&#125;</span><br><span class="line"></span><br><span class="line">* 默认块，如果原始序列为空，或序列中的所有项都未通过筛选，则执行默认块的内容</span><br><span class="line">  &#123;% for Var in List %&#125;</span><br><span class="line">  ...</span><br><span class="line">  &#123;% else %&#125;</span><br><span class="line">  ...</span><br><span class="line">  &#123;% endfor %&#125;</span><br></pre></td></tr></table></figure></li>
<li><strong>特殊变量</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 特殊变量可以用在循环中</span><br><span class="line"></span><br><span class="line">loop.index      The current iteration of the loop. (1 indexed)</span><br><span class="line">loop.index0     The current iteration of the loop. (0 indexed)</span><br><span class="line">loop.revindex   The number of iterations from the end of the loop (1 indexed)</span><br><span class="line">loop.revindex0  The number of iterations from the end of the loop (0 indexed)</span><br><span class="line">loop.first      True if first iteration.</span><br><span class="line">loop.last       True if last iteration.</span><br><span class="line">loop.length     The number of items in the sequence.</span><br><span class="line">loop.cycle      A helper function to cycle between a list of sequences.</span><br><span class="line">loop.depth      Indicates how deep in a recursive loop the rendering currently is. Starts at level 1</span><br><span class="line">loop.depth0     Indicates how deep in a recursive loop the rendering currently is. Starts at level 0</span><br><span class="line">loop.previtem   The item from the previous iteration of the loop. Undefined during the first iteration.</span><br><span class="line">loop.nextitem   The item from the following iteration of the loop. Undefined during the last iteration.</span><br><span class="line">loop.changed(*val)  True if previously called with a different value (or not called at all).</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="知识点：Jinja2-if-结构"><a href="#知识点：Jinja2-if-结构" class="headerlink" title="知识点：Jinja2 if 结构"></a>知识点：Jinja2 if 结构</h2><ol>
<li><strong>格式</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* Condition</span><br><span class="line">  - 可以直接使用变量，true/false 的判断方式与 python 相同</span><br><span class="line">  - 可以使用条件语句，如 var is defined</span><br><span class="line"></span><br><span class="line">* 基本格式</span><br><span class="line">  &#123;% if Condition %&#125;</span><br><span class="line">  ...</span><br><span class="line">  &#123;% elif Condition %&#125;</span><br><span class="line">  ...</span><br><span class="line">  &#123;% else %&#125;</span><br><span class="line">  ...</span><br><span class="line">  &#123;% endif %&#125;</span><br></pre></td></tr></table></figure></li>
<li><strong>If Expression</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 将 if 结构作为 inline 方式用在其他块中，如 &#123;&#123; &#125;&#125;、for、expands</span><br><span class="line">  - 省略 else 部分，则表示 else 部分的结果为 Undefined object</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  &#123;% XXXX &lt;do something&gt; if &lt;something is true&gt; else &lt;do something else&gt;. %&#125;</span><br><span class="line"></span><br><span class="line">* 范例</span><br><span class="line">  &#123;&#123; &quot;[&#123;&#125;]&quot;.format(page.title) if page.title &#125;&#125;</span><br><span class="line">  &#123;% extends layout_template if layout_template is defined else &#x27;default.html&#x27; %&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="知识点：Jinja2-set-结构"><a href="#知识点：Jinja2-set-结构" class="headerlink" title="知识点：Jinja2 set 结构"></a>知识点：Jinja2 set 结构</h2><ol>
<li><strong>行级赋值</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 赋值 Assignments，可以让你在 jinja2 结构中依然进行变量的赋值</span><br><span class="line">  - Jinja2 中使用 &#123;% set %&#125; 进行赋值，与 python 一样，&#123;% set %&#125; 也支持多重赋值</span><br><span class="line"></span><br><span class="line">* 作用域</span><br><span class="line">  - 在 Jinja2 中，变量的作用域取决于块的层级</span><br><span class="line">  - 例如，在 &#123;% for %&#125; 块中进行的赋值，不会影响到 top-level 层</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  &#123;% set Var = Value %&#125;</span><br><span class="line">  &#123;% set Var1, Var2 = item %&#125;</span><br></pre></td></tr></table></figure></li>
<li><strong>块级赋值 Block Assignments</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - Jinja 2.8 的新功能，将一个块的内容储存为变量的值</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  &#123;% set Var %&#125;</span><br><span class="line">  ...</span><br><span class="line">  &#123;% endset %&#125;</span><br><span class="line"></span><br><span class="line">* 带过滤格式</span><br><span class="line">  &#123;% set Var | FilterFunction %&#125;</span><br><span class="line">  ...</span><br><span class="line">  &#123;% endset %&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="知识点：Jinja2-include-结构"><a href="#知识点：Jinja2-include-结构" class="headerlink" title="知识点：Jinja2 include 结构"></a>知识点：Jinja2 include 结构</h2><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - Jinja2 中，使用 &#123;% include %&#125; 标签，将其他 template 的内容导入到当前位置</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  &#123;% include &quot;FileName&quot; %&#125;</span><br><span class="line"></span><br><span class="line">* 指定多个文件，会按顺序检查每一个文件是否存在，导入第一个 not missing 的文件</span><br><span class="line">  &#123;% include [&quot;File1&quot;, &quot;File2&quot; ...] %&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="知识点：Jinja2-模板继承"><a href="#知识点：Jinja2-模板继承" class="headerlink" title="知识点：Jinja2 模板继承"></a>知识点：Jinja2 模板继承</h2><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 模板继承 Template Inheritance，用来实现层级结构的模板系统</span><br><span class="line">  - 基础模板，也称为基础骨骼模板 base skeleton template，包含块元素 block element</span><br><span class="line">  - 子模板，在其中定义 block element 的值，替换主模板中的 block element</span><br></pre></td></tr></table></figure></li>
<li><strong>基础模板 Base Template</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* &#123;% block %&#125; 标签</span><br><span class="line">  - 基础模板中，使用 &#123;% block Name %&#125;&#123;% endblock %&#125; 标签来定义块元素</span><br><span class="line">  - Name 是块元素的名字</span><br><span class="line">  - &#123;% block %&#125; &#123;% endblock %&#125; 标签的目的就是为子模板提供一个占位符 placeholder</span><br><span class="line">  - &#123;% block %&#125; &#123;% endblock %&#125; 标签可以放在其他的块中，如 if 块，但不论 if 块是被渲染，block 块都会进行子模板的替换</span><br><span class="line">  - Blocks are used for inheritance and act as both placeholders and replacements at the same time.</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>子模板 Child Template</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* &#123;% extends %&#125; 标签</span><br><span class="line">  - 子模板中，使用 &#123;% extends FileNmae%&#125; 来指定基础模板的文件名</span><br><span class="line">  - 子模板中，&#123;% extends %&#125; 标签需要作为第一个 tag，并且最好直接放在第一行，因为其之前的内容都会作为普通字符进行输出</span><br><span class="line"></span><br><span class="line">* &#123;% block %&#125; 标签</span><br><span class="line">  - 子模板中，使用 &#123;% block Name%&#125;Value&#123;% endblock %&#125; 来设置块元素的值</span><br><span class="line">  - Value 可以跨行</span><br><span class="line">  - Value 如果开头/结尾有空白字符，则空白字符也会被视为 Value 的一部分</span><br></pre></td></tr></table></figure>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="comment"># 主模板 base.j2 #&#125;</span></span><br><span class="line"><span class="attr">Title:</span> &#123;<span class="string">%</span> <span class="string">block</span> <span class="string">title</span> <span class="string">%</span>&#125;&#123;<span class="string">%</span> <span class="string">endblock</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="comment"># 子模板 child.j2 #&#125;</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">extends</span> <span class="string">&quot;child.j2&quot;</span> <span class="string">%</span>&#125;</span><br><span class="line">&#123;<span class="string">%</span> <span class="string">block</span> <span class="string">title</span> <span class="string">%</span>&#125;<span class="string">Hello</span> <span class="string">World</span>&#123;<span class="string">%</span> <span class="string">endblock</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="comment"># 最终结果 #&#125;</span></span><br><span class="line"><span class="attr">Title:</span> <span class="string">Hello</span> <span class="string">World</span></span><br></pre></td></tr></table></figure></li>
<li><strong>Super Blocks</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 在子模板中，使用 super()，可以引用其父模板中定义的 &#123;% block %&#125; 标签的值</span><br><span class="line">  - 在引用后，父模板中的值，会作为子模板的值的一部分，重新填充回父模板中</span><br></pre></td></tr></table></figure>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="comment"># 范例 #&#125;</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="comment"># 主模板 base.j2 #&#125;</span></span><br><span class="line"><span class="attr">Title:</span> &#123;<span class="string">%</span> <span class="string">block</span> <span class="string">title</span> <span class="string">%</span>&#125;<span class="string">Hello</span> <span class="string">World.</span> &#123;<span class="string">%</span> <span class="string">endblock</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="comment"># 子模板child.j2 #&#125;</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">extends</span> <span class="string">&quot;base.j2&quot;</span> <span class="string">%</span>&#125;</span><br><span class="line">&#123;<span class="string">%</span> <span class="string">block</span> <span class="string">title</span> <span class="string">%</span>&#125;&#123;&#123; <span class="string">super()</span> &#125;&#125;<span class="string">I</span> <span class="string">am</span> <span class="string">OK.</span> &#123;<span class="string">%</span> <span class="string">endblock</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="comment"># 最终结果 #&#125;</span></span><br><span class="line"><span class="attr">Title:</span> <span class="string">Hello</span> <span class="string">World.</span> <span class="string">I</span> <span class="string">am</span> <span class="string">OK.</span></span><br></pre></td></tr></table></figure></li>
<li><strong>嵌套 Nesting extends</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 对于多层扩展，如 child.j2 expands parent.j2 并且 parent.j2 expands base.j2</span><br><span class="line">  - 替换的过程，child 的值替换 parent 的值，再用 parent 替换过的值替换 base 的值</span><br><span class="line">  - 相当于直接用 child 的值替换 base 的值</span><br><span class="line"></span><br><span class="line">* super()</span><br><span class="line">  - child 中可以使用 super.super() 来引用其祖先模板中的 &#123;% block %&#125; 标签的值</span><br><span class="line">  - 如果 parent 中使用 super() 引用 base 的值，而 child 使用 super() 引用 parent 的值，则最终的值是 base-value + parent-value + child-value，见范例 child3</span><br></pre></td></tr></table></figure>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="comment"># 范例 #&#125;</span></span><br><span class="line">&#123;<span class="comment"># 主模板 base.j2 #&#125;</span></span><br><span class="line"><span class="attr">base:</span> &#123;<span class="string">%</span> <span class="string">block</span> <span class="string">body</span> <span class="string">%</span>&#125;<span class="string">Hi</span>, <span class="string">I</span> <span class="string">am</span> <span class="string">base.</span> &#123;<span class="string">%</span> <span class="string">endblock</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="comment"># 父模板 parent.j2 #&#125;</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">extends</span> <span class="string">&quot;base.j2&quot;</span> <span class="string">%</span>&#125;</span><br><span class="line">&#123;<span class="string">%</span> <span class="string">block</span> <span class="string">body</span> <span class="string">%</span>&#125;&#123;&#123; <span class="string">super()</span> &#125;&#125;<span class="string">Hi</span>, <span class="string">I</span> <span class="string">am</span> <span class="string">parent.</span> &#123;<span class="string">%</span> <span class="string">endblock</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="comment"># 子模板 child1.j2 #&#125;</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">extends</span> <span class="string">&quot;parent.j2&quot;</span> <span class="string">%</span>&#125;</span><br><span class="line">&#123;<span class="string">%</span> <span class="string">block</span> <span class="string">body</span> <span class="string">%</span>&#125;<span class="string">Hi</span>, <span class="string">I</span> <span class="string">am</span> <span class="string">child1.</span> &#123;<span class="string">%</span> <span class="string">endblock</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="comment"># 子模板 child2.j2 #&#125;</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">extends</span> <span class="string">&quot;parent.j2&quot;</span> <span class="string">%</span>&#125;</span><br><span class="line">&#123;<span class="string">%</span> <span class="string">block</span> <span class="string">body</span> <span class="string">%</span>&#125;&#123;&#123; <span class="string">super.super()</span> &#125;&#125;<span class="string">Hi</span>, <span class="string">I</span> <span class="string">am</span> <span class="string">child2.</span> &#123;<span class="string">%</span> <span class="string">endblock</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="comment"># 子模板 child3.j2 #&#125;</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">extends</span> <span class="string">&quot;parent.j2&quot;</span> <span class="string">%</span>&#125;</span><br><span class="line">&#123;<span class="string">%</span> <span class="string">block</span> <span class="string">body</span> <span class="string">%</span>&#125;&#123;&#123; <span class="string">super()</span> &#125;&#125;<span class="string">Hi</span>, <span class="string">I</span> <span class="string">am</span> <span class="string">child3.</span> &#123;<span class="string">%</span> <span class="string">endblock</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="comment"># 最终结果 #&#125;</span></span><br><span class="line">&#123;<span class="comment"># child1 #&#125;</span></span><br><span class="line"><span class="attr">base:</span> <span class="string">Hi</span>, <span class="string">I</span> <span class="string">am</span> <span class="string">child1.</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="comment"># child2 #&#125;</span></span><br><span class="line"><span class="attr">base:</span> <span class="string">Hi</span>, <span class="string">I</span> <span class="string">am</span> <span class="string">base.</span> <span class="string">Hi</span>, <span class="string">I</span> <span class="string">am</span> <span class="string">child2.</span></span><br><span class="line"></span><br><span class="line">&#123;<span class="comment"># child3 #&#125;</span></span><br><span class="line"><span class="attr">base:</span> <span class="string">Hi</span>, <span class="string">I</span> <span class="string">am</span> <span class="string">base.</span> <span class="string">Hi</span>, <span class="string">I</span> <span class="string">am</span> <span class="string">parent.</span> <span class="string">Hi</span>, <span class="string">I</span> <span class="string">am</span> <span class="string">child3.</span></span><br></pre></td></tr></table></figure></li>
<li><strong>self</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 由于子模板可以引用父模板的值，因此任何模板文件中 &#123;% block %&#125; 标签都不可以重名</span><br><span class="line">  - 对于需要重复打印的情况，可以使用 &#123;&#123; self.Name() &#125;&#125; 来重复呼叫 block</span><br></pre></td></tr></table></figure>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="comment"># 范例 #&#125;</span></span><br><span class="line">&#123;<span class="comment"># base.j2 #&#125;</span></span><br><span class="line"><span class="string">&lt;title&gt;</span>&#123;<span class="string">%</span> <span class="string">block</span> <span class="string">title</span> <span class="string">%</span>&#125;&#123;<span class="string">%</span> <span class="string">endblock</span> <span class="string">%</span>&#125;<span class="string">&lt;/title&gt;</span></span><br><span class="line"><span class="string">&lt;h1&gt;<span class="template-variable">&#123;&#123; self.title() &#125;&#125;</span></span><span class="string">&lt;/h1&gt;</span></span><br></pre></td></tr></table></figure></li>
<li><strong>Named Block End-Tags</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* &#123;% block %&#125; 标签格式</span><br><span class="line">  - &#123;% block Name%&#125;...&#123;% endblock %&#125;</span><br><span class="line">  - &#123;% block Name%&#125;...&#123;% endblock Name%&#125;    &lt;== 显式为 endblock 指定 Name，增加可读性</span><br></pre></td></tr></table></figure></li>
<li><strong>Block Nesting and Scope</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 如果将 &#123;% block %&#125; 嵌套在其他块中，由于变量的 scope 问题，会导致子模板在替换时，无法读取到主模板中的值</span><br><span class="line">  - 可以在主模板的 block 标签采用 &#123;% block Name scpoed %&#125; 格式，显式的扩展主模板的变量的作用域</span><br></pre></td></tr></table></figure>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="comment"># 未扩展作用域，子模板不会读取到 item 变量的值 #&#125;</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">for</span> <span class="string">item</span> <span class="string">in</span> <span class="string">seq</span> <span class="string">%</span>&#125;</span><br><span class="line">    &#123;<span class="string">%</span> <span class="string">block</span> <span class="string">loop_item</span> <span class="string">%</span>&#125;&#123;&#123; <span class="string">item</span> &#125;&#125;&#123;<span class="string">%</span> <span class="string">endblock</span> <span class="string">%</span>&#125;</span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endfor</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="comment"># 扩展作用域，子模板可以读取到 item 变量的值 #&#125;</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">for</span> <span class="string">item</span> <span class="string">in</span> <span class="string">seq</span> <span class="string">%</span>&#125;</span><br><span class="line">    &#123;<span class="string">%</span> <span class="string">block</span> <span class="string">loop_item</span> <span class="string">scoped</span> <span class="string">%</span>&#125;&#123;&#123; <span class="string">item</span> &#125;&#125;&#123;<span class="string">%</span> <span class="string">endblock</span> <span class="string">%</span>&#125;</span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endfor</span> <span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure></li>
<li><strong>Required Blocks</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - Blocks can be marked as required.</span><br><span class="line">  - They must be overridden at some point, but not necessarily by the direct child template.</span><br><span class="line">  - Required blocks may only contain space and comments, and they cannot be rendered directly.</span><br><span class="line">  - When combined with scoped, the required modifier must be placed after the scoped modifier.</span><br></pre></td></tr></table></figure>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;<span class="comment"># page.j2 #&#125;</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">block</span> <span class="string">body</span> <span class="string">required</span> <span class="string">%</span>&#125;&#123;<span class="string">%</span> <span class="string">endblock</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="comment"># issue.j2 #&#125;</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">extends</span> <span class="string">&quot;page.j2&quot;</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line">&#123;<span class="comment"># bug_report.j2 #&#125;</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">extends</span> <span class="string">&quot;issue.j2&quot;</span> <span class="string">%</span>&#125;</span><br><span class="line">&#123;<span class="string">%</span> <span class="string">block</span> <span class="string">body</span> <span class="string">%</span>&#125;<span class="string">Provide</span> <span class="string">steps</span> <span class="string">to</span> <span class="string">demonstrate</span> <span class="string">the</span> <span class="string">bug.</span>&#123;<span class="string">%</span> <span class="string">endblock</span> <span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h1 id="Chapter04-JSON"><a href="#Chapter04-JSON" class="headerlink" title="Chapter04 JSON"></a>Chapter04 JSON</h1><hr>
<h2 id="知识点：JSON-介绍"><a href="#知识点：JSON-介绍" class="headerlink" title="知识点：JSON 介绍"></a>知识点：JSON 介绍</h2><ol>
<li><strong>基本介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">* JSON</span><br><span class="line">  - JavaScript Object Notation</span><br><span class="line">  - 一种轻量级数据交互格式</span><br><span class="line">  - 基于 JavaScript，但采用了完全独立于语言的文本格式</span><br><span class="line">  - json 要求必须使用 utf-8，或 utf-16、utf-32</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  - 缩进，对使用的 space 数量没有要求，但推荐使用 4 个 space</span><br><span class="line"></span><br><span class="line">* 优点</span><br><span class="line">  - 简洁</span><br><span class="line">  - 易于理解</span><br><span class="line">  - 易于编写</span><br><span class="line">  - 易于解析</span><br><span class="line"></span><br><span class="line">* 应用</span><br><span class="line">  - 配置文件</span><br><span class="line">  - Web 开发中的前后端数据交换</span><br><span class="line"></span><br><span class="line">* 术语</span><br><span class="line">  - pretty print，指将 json 转换为层次结构的显示方式</span><br><span class="line">  - compress，指将 json 转换为的显示方式</span><br></pre></td></tr></table></figure></li>
<li><strong>数据类型</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">* null</span><br><span class="line"></span><br><span class="line">* true</span><br><span class="line"></span><br><span class="line">* false</span><br><span class="line"></span><br><span class="line">* Number 型</span><br><span class="line">  - 数值</span><br><span class="line">  - 支持整数、浮点数、科学计数法(e|E)等表示方法</span><br><span class="line">  - 不支持八进制 octal、十六进制 hexadecimal 格式</span><br><span class="line"></span><br><span class="line">* String 型</span><br><span class="line">  - Unicode 字符序列，sequence of Unicode characters</span><br><span class="line">  - 使用双引号 &quot; &quot; 进行标记</span><br><span class="line">  - 使用反斜线 &quot;\&quot; 表示跳脱，支持 &quot;\n&quot;、&quot;\t&quot; 等跳脱序列</span><br><span class="line"></span><br><span class="line">* Array 型</span><br><span class="line">  - 值的有序集合，ordered collection of values</span><br><span class="line">  - 使用中括号 &quot;[ ]&quot; 进行标识</span><br><span class="line"></span><br><span class="line">* Object 型</span><br><span class="line">  - K-V 对的无序集合，unordered set of name/value pairs</span><br><span class="line">  - 对应不同编程语言中的对象 object、纪录 record、结构 struct、字典 dictionary、哈希表 hash table、有键列表 keyed list、关联数组 associative array</span><br><span class="line">  - Key 强制使用 String 型</span><br><span class="line">  - Val 可以是任意类型</span><br><span class="line">  - 使用大括号 &quot;&#123; &#125;&quot; 作为标记</span><br></pre></td></tr></table></figure></li>
<li><strong>获取属性</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 获取对象的属性</span><br><span class="line">  - 格式：Object.Attr</span><br><span class="line"></span><br><span class="line">* 获取数组的元素的属性</span><br><span class="line">  - 格式：Array[Index].Attr</span><br><span class="line">  - 格式：Array[*].Attr</span><br></pre></td></tr></table></figure></li>
</ol>

    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2000/01/01/Blog44-jenkins/" rel="prev" title="Blog44-jenkins">
                  <i class="fa fa-chevron-left"></i> Blog44-jenkins
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2000/01/01/Blog62-python/" rel="next" title="Blog62-python">
                  Blog62-python <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2000 – 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  





  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"per_page":true,"tags":"none","cdn":"//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
