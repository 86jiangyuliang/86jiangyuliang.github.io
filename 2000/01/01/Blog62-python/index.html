<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css" integrity="sha256-jTIdiMuX/e3DGJUGwl3pKSxuc6YOuqtJYkM0bGQESA4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.10.1","exturl":false,"sidebar":{"position":"left","width":500,"display":"always","padding":1,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="python">
<meta property="og:type" content="article">
<meta property="og:title" content="Blog62-python">
<meta property="og:url" content="http://example.com/2000/01/01/Blog62-python/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="python">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="1999-12-31T16:01:02.000Z">
<meta property="article:modified_time" content="2023-09-09T07:47:55.556Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/2000/01/01/Blog62-python/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2000/01/01/Blog62-python/","path":"2000/01/01/Blog62-python/","title":"Blog62-python"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Blog62-python | Hexo</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Hexo</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Blog62-python"><span class="nav-text">Blog62-python</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%AE%E5%8A%A9"><span class="nav-text">帮助</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%AA%E6%95%B4%E7%90%86"><span class="nav-text">未整理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8D%E6%95%B4%E7%90%86"><span class="nav-text">不整理</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D"><span class="nav-text">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86-PythonLanguage"><span class="nav-text">第一部分 PythonLanguage</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-1"><span class="nav-text">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter01-python-%E4%BB%8B%E7%BB%8D"><span class="nav-text">Chapter01 python 介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-python-%E7%AE%80%E4%BB%8B"><span class="nav-text">1.1 python 简介</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：python 介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E7%89%B9%E6%80%A7"><span class="nav-text">知识点：python 特性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E8%A7%A3%E9%87%8A%E5%99%A8"><span class="nav-text">知识点：python 解释器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E4%BA%A4%E4%BA%92%E6%A8%A1%E5%BC%8F"><span class="nav-text">知识点：python 交互模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC%E5%BB%BA%E8%AE%AE"><span class="nav-text">知识点：python 代码风格建议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E6%9F%A5%E7%9C%8B-python-%E5%AD%97%E8%8A%82%E7%A0%81"><span class="nav-text">知识点：查看 python 字节码</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter02-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="nav-text">Chapter02 面向对象</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-%E5%90%8D%E7%A7%B0"><span class="nav-text">2.1 名称</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%90%8D%E7%A7%B0"><span class="nav-text">知识点：名称</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%90%8D%E7%A7%B0%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-text">知识点：名称的使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="nav-text">知识点：命名空间</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">知识点：作用域</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aglobal%E3%80%81nonlocal-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：global、nonlocal 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Adir-%E3%80%81vars-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：dir()、vars() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aglobal-%E3%80%81locals-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：global()、locals() 函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-%E5%87%BD%E6%95%B0"><span class="nav-text">2.2 函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%8F%AF%E8%B0%83%E7%94%A8%E5%AF%B9%E8%B1%A1"><span class="nav-text">知识点：可调用对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Acallable-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：callable() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%BD%A2%E5%8F%82"><span class="nav-text">知识点：形参</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AE%9E%E5%8F%82"><span class="nav-text">知识点：实参</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%8F%82%E6%95%B0%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="nav-text">知识点：参数默认值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Alambda-%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">知识点：lambda 表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%87%BD%E6%95%B0%E7%9A%84%E6%B3%A8%E8%A7%A3"><span class="nav-text">知识点：函数的注解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Areturn-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：return 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Adef-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：def 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：内置函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3-%E5%AF%B9%E8%B1%A1"><span class="nav-text">2.3 对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="nav-text">知识点：python 面向对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AF%B9%E8%B1%A1"><span class="nav-text">知识点：对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aid-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：id() 函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4-%E5%B1%9E%E6%80%A7"><span class="nav-text">2.4 属性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%B1%9E%E6%80%A7"><span class="nav-text">知识点：属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Ahasattr-%E3%80%81getattr-%E3%80%81setattr-%E3%80%81delattr-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：hasattr()、getattr()、setattr()、delattr() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E7%A7%81%E6%9C%89%E5%B1%9E%E6%80%A7"><span class="nav-text">知识点：私有属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aproperty-%E7%B1%BB%E5%9E%8B"><span class="nav-text">知识点：property 类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E7%89%B9%E6%AE%8A%E5%B1%9E%E6%80%A7"><span class="nav-text">知识点：特殊属性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-5-%E7%B1%BB"><span class="nav-text">2.5 类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E7%B1%BB"><span class="nav-text">知识点：类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AE%9E%E4%BE%8B%E5%AF%B9%E8%B1%A1"><span class="nav-text">知识点：实例对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aclass-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：class 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E6%9E%84%E9%80%A0%E5%99%A8"><span class="nav-text">知识点：构造器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E6%96%B9%E6%B3%95"><span class="nav-text">知识点：方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Atype-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：type() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aisinstance-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：isinstance() 函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-6-%E7%BB%A7%E6%89%BF"><span class="nav-text">2.6 继承</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E7%BB%A7%E6%89%BF"><span class="nav-text">知识点：继承</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aobject-%E7%B1%BB"><span class="nav-text">知识点：object 类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AMRO-%E9%93%BE"><span class="nav-text">知识点：MRO 链</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aissubclass-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：issubclass() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Asuper-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：super() 函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-7-inspect-%E6%A8%A1%E5%9D%97"><span class="nav-text">2.7 inspect 模块</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter03-python-%E9%AD%94%E6%B3%95"><span class="nav-text">Chapter03 python 魔法</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-%E6%8E%A8%E5%AF%BC%E5%BC%8F"><span class="nav-text">3.1 推导式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E6%8E%A8%E5%AF%BC%E5%BC%8F"><span class="nav-text">知识点：推导式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%88%97%E8%A1%A8%E6%8E%A8%E5%AF%BC%E5%BC%8F"><span class="nav-text">知识点：列表推导式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%85%B6%E4%BB%96%E6%8E%A8%E5%AF%BC%E5%BC%8F"><span class="nav-text">知识点：其他推导式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="nav-text">3.2 迭代器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%8F%AF%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1"><span class="nav-text">知识点：可迭代对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="nav-text">知识点：迭代器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aiter-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：iter() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Anext-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：next() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aany-%E3%80%81all-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：any()、all() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aenumerate-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：enumerate() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Azip-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：zip() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Amap-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：map() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Afilter-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：filter() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E9%AB%98%E5%A4%A9%E8%8C%83%E4%BE%8B%E4%B9%8B%E9%93%BE%E8%A1%A8"><span class="nav-text">知识点：高天范例之链表</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-%E7%94%9F%E6%88%90%E5%99%A8"><span class="nav-text">3.3 生成器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E7%94%9F%E6%88%90%E5%99%A8"><span class="nav-text">知识点：生成器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E7%94%9F%E6%88%90%E5%99%A8%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">知识点：生成器表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E7%94%9F%E6%88%90%E5%99%A8%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：生成器函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Ayield-%E8%AF%AD%E5%8F%A5-x2F-%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">知识点：yield 语句&#x2F;表达式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="nav-text">3.4 装饰器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E9%97%AD%E5%8C%85"><span class="nav-text">知识点：闭包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="nav-text">知识点：装饰器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E7%B1%BB%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="nav-text">知识点：类装饰器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E8%A3%85%E9%A5%B0%E5%99%A8%E7%B1%BB"><span class="nav-text">知识点：装饰器类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-5-%E5%BC%82%E6%AD%A5"><span class="nav-text">3.5 异步</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%8D%8F%E7%A8%8B%EF%BC%88%E6%9C%AA%E6%95%B4%E7%90%86%EF%BC%89"><span class="nav-text">知识点：协程（未整理）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter04-python-%E8%AF%AD%E6%B3%95"><span class="nav-text">Chapter04 python 语法</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#4-1-python-%E8%AF%AD%E6%B3%95%E4%BB%8B%E7%BB%8D"><span class="nav-text">4.1 python 语法介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E8%AF%AD%E6%B3%95%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：python 语法介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E8%A1%8C%E7%BB%93%E6%9E%84"><span class="nav-text">知识点：python 行结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-text">知识点：关键字</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-2-%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">4.2 表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">知识点：表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E6%95%B0%E5%80%BC%E8%BF%90%E7%AE%97"><span class="nav-text">知识点：数值运算</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E7%9F%A9%E9%98%B5%E8%BF%90%E7%AE%97"><span class="nav-text">知识点：矩阵运算</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97"><span class="nav-text">知识点：比较运算</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%B8%83%E5%B0%94%E8%BF%90%E7%AE%97"><span class="nav-text">知识点：布尔运算</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">知识点：条件表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E6%B5%B7%E8%B1%A1%E8%BF%90%E7%AE%97"><span class="nav-text">知识点：海象运算</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3-%E8%AF%AD%E5%8F%A5"><span class="nav-text">4.3 语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apass-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：pass 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Adel-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：del 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aif-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：if 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Awhile-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：while 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Afor-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：for 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Abreak-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：break 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Acontinue-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：continue 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E8%B5%8B%E5%80%BC%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：赋值语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E6%99%AE%E9%80%9A%E8%B5%8B%E5%80%BC"><span class="nav-text">2. 普通赋值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%BA%8F%E5%88%97%E8%A7%A3%E5%8C%85-unpacking"><span class="nav-text">2. 序列解包 unpacking</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%88%87%E7%89%87%E8%B5%8B%E5%80%BC"><span class="nav-text">3. 切片赋值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%B1%9E%E6%80%A7%E8%B5%8B%E5%80%BC"><span class="nav-text">4. 属性赋值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E5%B8%A6%E6%98%9F%E5%8F%B7%E7%9A%84%E8%B5%8B%E5%80%BC"><span class="nav-text">5. 带星号的赋值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-%E5%A2%9E%E5%BC%BA%E8%B5%8B%E5%80%BC-Augmented-assignment"><span class="nav-text">6. 增强赋值 Augmented assignment</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-%E5%B8%A6%E6%A0%87%E6%B3%A8%E7%9A%84%E8%B5%8B%E5%80%BC-Annotated-assignment"><span class="nav-text">7. 带标注的赋值 Annotated assignment</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-%E8%BF%9E%E7%BB%AD%E8%B5%8B%E5%80%BC"><span class="nav-text">8. 连续赋值</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Amatch-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：match 语句</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter05-%E5%BC%82%E5%B8%B8"><span class="nav-text">Chapter05 异常</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#5-1-%E5%BC%82%E5%B8%B8"><span class="nav-text">5.1 异常</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%BC%82%E5%B8%B8"><span class="nav-text">知识点：异常</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Atry-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：try 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Araise-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：raise 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aassert-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：assert 语句</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-2-traceback-%E6%A8%A1%E5%9D%97"><span class="nav-text">5.2 traceback 模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Atraceback-%E6%A8%A1%E5%9D%97"><span class="nav-text">知识点：traceback 模块</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%87%BD%E6%95%B0"><span class="nav-text">2. 函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-TracebackException-Objects"><span class="nav-text">3. TracebackException Objects</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-StackSummary-Objects"><span class="nav-text">4. StackSummary Objects</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-FrameSummary-Objects"><span class="nav-text">5. FrameSummary Objects</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-3-%E5%AE%A1%E8%AE%A1%E4%BA%8B%E4%BB%B6"><span class="nav-text">5.3 审计事件</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter06-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-text">Chapter06 数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#6-1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%BB%8B%E7%BB%8D"><span class="nav-text">6.1 数据类型介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%86%85%E7%BD%AE%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-text">知识点：内置数据类型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-2-%E6%95%B0%E5%80%BC%E5%9E%8B"><span class="nav-text">6.2 数值型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aint-%E5%9E%8B"><span class="nav-text">知识点：int 型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Abool-%E5%9E%8B"><span class="nav-text">知识点：bool 型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Afloat-%E5%9E%8B"><span class="nav-text">知识点：float 型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Acomplex-%E5%9E%8B"><span class="nav-text">知识点：complex 型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Abin-%E3%80%81oct-%E3%80%81hex-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：bin()、oct()、hex() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aabs-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：abs() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Adivmod-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：divmod() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apow-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：pow() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Around-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：round() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Asum-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：sum() 函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-3-%E5%BA%8F%E5%88%97"><span class="nav-text">6.3 序列</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%8F%AF%E5%8F%98%E7%B1%BB%E5%9E%8B%E5%92%8C%E4%B8%8D%E5%8F%AF%E5%8F%98%E7%B1%BB%E5%9E%8B"><span class="nav-text">知识点：可变类型和不可变类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AE%B9%E5%99%A8%E5%9E%8B"><span class="nav-text">知识点：容器型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%BA%8F%E5%88%97"><span class="nav-text">知识点：序列</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%BA%8F%E5%88%97%E9%80%9A%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="nav-text">知识点：序列通用操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%BA%8F%E5%88%97%E8%A7%A3%E5%8C%85-sequence-unpacking"><span class="nav-text">2. 序列解包 sequence unpacking</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E6%88%90%E5%91%98%E6%A3%80%E6%9F%A5-containment-test"><span class="nav-text">3. 成员检查 containment test</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%BA%8F%E5%88%97%E6%8B%BC%E6%8E%A5-concatenation"><span class="nav-text">4. 序列拼接 concatenation</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E5%BA%8F%E5%88%97%E5%80%8D%E4%B9%98-repetition"><span class="nav-text">5. 序列倍乘 repetition</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-%E6%8A%BD%E5%8F%96%E5%85%83%E7%B4%A0-subscription"><span class="nav-text">6. 抽取元素 subscription</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-%E5%88%87%E7%89%87-slicing"><span class="nav-text">7. 切片 slicing</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-sequence-count"><span class="nav-text">8. sequence.count()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-sequence-index"><span class="nav-text">9. sequence.index()</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%8F%AF%E5%8F%98%E5%BA%8F%E5%88%97%E6%93%8D%E4%BD%9C"><span class="nav-text">知识点：可变序列操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%85%83%E7%B4%A0%E8%B5%8B%E5%80%BC"><span class="nav-text">2. 元素赋值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%88%A0%E9%99%A4%E5%85%83%E7%B4%A0"><span class="nav-text">3. 删除元素</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%BA%8F%E5%88%97%E8%87%AA%E6%88%91%E5%A4%8D%E5%88%B6"><span class="nav-text">4. 序列自我复制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-sequence-append"><span class="nav-text">5. sequence.append()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-sequence-clear"><span class="nav-text">6. sequence.clear()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-sequence-copy"><span class="nav-text">7. sequence.copy()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-sequence-extend"><span class="nav-text">8. sequence.extend()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-sequence-insert"><span class="nav-text">9. sequence.insert()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-sequence-pop"><span class="nav-text">10. sequence.pop()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-sequence-remove"><span class="nav-text">11. sequence.remove()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-sequence-reverse"><span class="nav-text">12. sequence.reverse()</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Alen-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：len() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Amax-%E3%80%81min-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：max()、min() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Asorted-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：sorted() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Areversed-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：reversed() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%88%97%E8%A1%A8%E7%B1%BB%E5%9E%8B"><span class="nav-text">知识点：列表类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%85%83%E7%BB%84%E7%B1%BB%E5%9E%8B"><span class="nav-text">知识点：元组类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Arange-%E7%B1%BB%E5%9E%8B"><span class="nav-text">知识点：range 类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Acopy-%E6%A8%A1%E5%9D%97"><span class="nav-text">知识点：copy 模块</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-4-%E9%9B%86%E5%90%88"><span class="nav-text">6.4 集合</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%8F%AF%E5%93%88%E5%B8%8C%E5%AF%B9%E8%B1%A1"><span class="nav-text">知识点：可哈希对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Ahash-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：hash() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B"><span class="nav-text">知识点：集合类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C"><span class="nav-text">知识点：集合操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="nav-text">1. 基本操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E9%9B%86%E5%90%88%E6%AF%94%E8%BE%83"><span class="nav-text">2. 集合比较</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E9%9B%86%E5%90%88%E8%BF%90%E7%AE%97"><span class="nav-text">3. 集合运算</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E4%BF%AE%E6%94%B9%E9%9B%86%E5%90%88"><span class="nav-text">4. 修改集合</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-5-%E5%AD%97%E5%85%B8"><span class="nav-text">6.5 字典</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AD%97%E5%85%B8%E7%B1%BB%E5%9E%8B"><span class="nav-text">知识点：字典类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AD%97%E5%85%B8%E8%A7%86%E5%9B%BE%E7%B1%BB%E5%9E%8B"><span class="nav-text">知识点：字典视图类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AD%97%E5%85%B8%E6%93%8D%E4%BD%9C"><span class="nav-text">知识点：字典操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E8%8E%B7%E5%8F%96%E5%80%BC"><span class="nav-text">1. 获取值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E4%BF%AE%E6%94%B9%E5%80%BC"><span class="nav-text">2. 修改值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%86%92%E6%B3%A1"><span class="nav-text">3. 冒泡</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%AD%97%E5%85%B8%E6%AF%94%E8%BE%83"><span class="nav-text">4. 字典比较</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E8%BF%AD%E4%BB%A3"><span class="nav-text">5. 迭代</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-%E7%B1%BB%E5%BA%8F%E5%88%97%E6%93%8D%E4%BD%9C"><span class="nav-text">6. 类序列操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-dict-fromkeys"><span class="nav-text">7. dict.fromkeys()</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-6-%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-text">6.6 字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B"><span class="nav-text">知识点：字符串类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Achr-%E3%80%81ord-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：chr()、ord() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8C%87%E5%AE%9A%E9%A2%9C%E8%89%B2"><span class="nav-text">知识点：字符串指定颜色</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="nav-text">知识点：字符串的格式化</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%A0%BC%E5%BC%8F%E6%8E%A7%E5%88%B6%E6%A0%87%E8%AE%B0"><span class="nav-text">1. 格式控制标记</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-text">2. 格式化字符串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-format-%E5%87%BD%E6%95%B0"><span class="nav-text">3. format() 函数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-str-format"><span class="nav-text">4. str.format()</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E5%85%B6%E4%BB%96"><span class="nav-text">5. 其他</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%93%8D%E4%BD%9C%E4%B8%8E%E6%96%B9%E6%B3%95"><span class="nav-text">知识点：字符串的操作与方法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%BA%8F%E5%88%97%E6%93%8D%E4%BD%9C"><span class="nav-text">1. 序列操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%A4%A7%E5%B0%8F%E5%86%99%E8%BD%AC%E6%8D%A2"><span class="nav-text">2. 大小写转换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%AD%97%E7%AC%A6%E5%88%A4%E6%96%AD"><span class="nav-text">3. 字符判断</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E6%90%9C%E7%B4%A2"><span class="nav-text">4. 搜索</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E5%89%8D%E5%90%8E%E7%BC%80"><span class="nav-text">5. 前后缀</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-%E5%AF%B9%E9%BD%90"><span class="nav-text">6. 对齐</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-%E5%86%85%E5%AE%B9%E6%9B%BF%E6%8D%A2"><span class="nav-text">7. 内容替换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-%E5%88%B6%E8%A1%A8%E7%AC%A6%E6%89%A9%E5%B1%95"><span class="nav-text">8. 制表符扩展</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-%E7%A7%BB%E9%99%A4%E5%89%8D%E5%AF%BC-x2F-%E6%9C%AB%E5%B0%BE%E5%AD%97%E7%AC%A6"><span class="nav-text">9. 移除前导&#x2F;末尾字符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-%E6%8B%86%E5%88%86%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-text">10. 拆分字符串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-%E5%88%87%E5%89%B2%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-text">11. 切割字符串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#12-%E8%A1%8C%E5%88%87%E5%89%B2"><span class="nav-text">12. 行切割</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%9E%E6%8E%A5"><span class="nav-text">13. 字符串连接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#14-%E5%A1%AB%E5%85%85%E9%9B%B6"><span class="nav-text">14. 填充零</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#15-%E5%85%B6%E4%BB%96"><span class="nav-text">15. 其他</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-7-datetime-%E6%A8%A1%E5%9D%97"><span class="nav-text">6.7 datetime 模块</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter07-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="nav-text">Chapter07 输入输出</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#7-1-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E5%87%BD%E6%95%B0"><span class="nav-text">7.1 输入输出函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aprint-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：print() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Arepr-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：repr() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Ainput-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：input() 函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-2-pprint-%E6%A8%A1%E5%9D%97"><span class="nav-text">7.2 pprint 模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E6%96%87%E4%BB%B6%E5%AF%B9%E8%B1%A1"><span class="nav-text">知识点：文件对象</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-3-io-%E6%A8%A1%E5%9D%97"><span class="nav-text">7.3 io 模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E6%96%87%E4%BB%B6%E5%AF%B9%E8%B1%A1-1"><span class="nav-text">知识点：文件对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aopen-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：open() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E6%96%87%E4%BB%B6%E5%AF%B9%E8%B1%A1%E6%93%8D%E4%BD%9C"><span class="nav-text">知识点：文件对象操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E8%BF%AD%E4%BB%A3"><span class="nav-text">1. 迭代</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E8%AF%BB%E5%86%99"><span class="nav-text">2. 读写</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E6%8C%87%E9%92%88"><span class="nav-text">3. 指针</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E4%BF%9D%E5%AD%98%E5%92%8C%E5%85%B3%E9%97%AD"><span class="nav-text">4. 保存和关闭</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Awith-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：with 语句</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter08-%E6%A8%A1%E5%9D%97"><span class="nav-text">Chapter08 模块</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#8-1-%E6%A8%A1%E5%9D%97"><span class="nav-text">8.1 模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E6%A8%A1%E5%9D%97"><span class="nav-text">知识点：模块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aimport-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：import 语句</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-2-%E5%8C%85"><span class="nav-text">8.2 包</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%8C%85-package"><span class="nav-text">知识点：包 package</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-3-pip"><span class="nav-text">8.3 pip</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9APyPi"><span class="nav-text">知识点：PyPi</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apip-%E6%8C%87%E4%BB%A4"><span class="nav-text">知识点：pip 指令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apip-bash-%E8%A1%A5%E5%85%A8"><span class="nav-text">知识点：pip bash 补全</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apip-search-%E6%8C%87%E4%BB%A4"><span class="nav-text">知识点：pip_search 指令</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter09-%E5%B8%B8%E7%94%A8%E6%A8%A1%E5%9D%97"><span class="nav-text">Chapter09 常用模块</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#9-1-sys-%E6%A8%A1%E5%9D%97"><span class="nav-text">9.1 sys 模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Asys-%E6%A8%A1%E5%9D%97"><span class="nav-text">知识点：sys 模块</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-2-os-%E6%A8%A1%E5%9D%97"><span class="nav-text">9.2 os 模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-3-os-path-%E6%A8%A1%E5%9D%97"><span class="nav-text">9.3 os.path 模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-4-pathlib-%E6%A8%A1%E5%9D%97"><span class="nav-text">9.4 pathlib 模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apath-%E7%B1%BB"><span class="nav-text">知识点：path 类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-5-time-%E6%A8%A1%E5%9D%97"><span class="nav-text">9.5 time 模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-6-functools-%E6%A8%A1%E5%9D%97"><span class="nav-text">9.6 functools 模块</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter10-%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86%E6%A8%A1%E5%9D%97"><span class="nav-text">Chapter10 文本处理模块</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#10-1-string-%E6%A8%A1%E5%9D%97"><span class="nav-text">10.1 string 模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Astring-%E6%A8%A1%E5%9D%97%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：string 模块介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Astring-%E6%A8%A1%E5%9D%97%E5%B8%B8%E9%87%8F"><span class="nav-text">知识点：string 模块常量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Astring-%E6%A8%A1%E5%9D%97%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：string 模块函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AFormatter-%E7%B1%BB"><span class="nav-text">知识点：Formatter 类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9ATemplate-%E7%B1%BB"><span class="nav-text">知识点：Template 类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-2-re-%E6%A8%A1%E5%9D%97"><span class="nav-text">10.2 re 模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Are-%E6%A8%A1%E5%9D%97"><span class="nav-text">知识点：re 模块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Are-%E6%A8%A1%E5%9D%97%E7%9A%84%E6%AD%A3%E5%88%99%E8%AF%AD%E6%B3%95"><span class="nav-text">知识点：re 模块的正则语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Are-%E6%A8%A1%E5%9D%97%E7%9A%84%E6%AD%A3%E5%88%99%E6%97%97%E6%A0%87"><span class="nav-text">知识点：re 模块的正则旗标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Are-%E6%A8%A1%E5%9D%97%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：re 模块函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Are-Pattern-%E7%B1%BB"><span class="nav-text">知识点：re.Pattern 类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Are-match-%E7%B1%BB"><span class="nav-text">知识点：re.match 类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Are-match-%E6%96%B9%E6%B3%95"><span class="nav-text">知识点：re.match 方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Are-match-%E6%95%B0%E6%8D%AE%E5%B1%9E%E6%80%A7"><span class="nav-text">知识点：re.match 数据属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Are-%E6%A8%A1%E5%9D%97%E5%BC%82%E5%B8%B8"><span class="nav-text">知识点：re 模块异常</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-4-jieba-%E6%A8%A1%E5%9D%97"><span class="nav-text">10.4 jieba 模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Ajieba-%E6%A8%A1%E5%9D%97"><span class="nav-text">知识点：jieba 模块</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter11-%E6%95%B0%E5%AD%A6%E6%A8%A1%E5%9D%97"><span class="nav-text">Chapter11 数学模块</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#11-1-math-%E6%A8%A1%E5%9D%97"><span class="nav-text">11.1 math 模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-2-deminal-%E6%A8%A1%E5%9D%97"><span class="nav-text">11.2 deminal 模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-3-fractions-%E6%A8%A1%E5%9D%97"><span class="nav-text">11.3 fractions 模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-4-random-%E6%A8%A1%E5%9D%97"><span class="nav-text">11.4 random 模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-5-statistics-%E6%A8%A1%E5%9D%97"><span class="nav-text">11.5 statistics 模块</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter12-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%A8%A1%E5%9D%97"><span class="nav-text">Chapter12 数据分析模块</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#12-1-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8B%E7%BB%8D"><span class="nav-text">12.1 数据分析介绍</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-2-numpy-%E6%A8%A1%E5%9D%97"><span class="nav-text">12.2 numpy 模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-3-pandas-%E6%A8%A1%E5%9D%97"><span class="nav-text">12.3 pandas 模块</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter13-%E5%B9%B6%E5%8F%91%E6%A8%A1%E5%9D%97"><span class="nav-text">Chapter13 并发模块</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter14-%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9D%97"><span class="nav-text">Chapter14 网络模块</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#14-1-urllib-%E6%A8%A1%E5%9D%97"><span class="nav-text">14.1 urllib 模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-1-urllib-%E6%A8%A1%E5%9D%97-1"><span class="nav-text">14.1 urllib 模块</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter15-%E6%B5%8B%E8%AF%95%E6%A8%A1%E5%9D%97"><span class="nav-text">Chapter15 测试模块</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#15-2-unittest-%E6%A8%A1%E5%9D%97"><span class="nav-text">15.2 unittest 模块</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-2"><span class="nav-text">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86-PythonLibrary"><span class="nav-text">第二部分 PythonLibrary</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-3"><span class="nav-text">&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter19-%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86-Internet-Data-Handling"><span class="nav-text">Chapter19 网络数据处理 Internet Data Handling</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#19-2-json-%E6%A8%A1%E5%9D%97"><span class="nav-text">19.2 json 模块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Ajson-%E6%A8%A1%E5%9D%97%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：json 模块介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Ajson-dumps-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：json.dumps 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Ajson-loads-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：json.loads 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Ajson-tool-%E6%A8%A1%E5%9D%97"><span class="nav-text">知识点：json.tool 模块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Ajson-JSONEncoder-%E7%B1%BB"><span class="nav-text">知识点：json.JSONEncoder 类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Ajson-JSONDecoder-%E7%B1%BB"><span class="nav-text">知识点：json.JSONDecoder 类</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">17</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2000/01/01/Blog62-python/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Blog62-python | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Blog62-python
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2000-01-01 00:01:02" itemprop="dateCreated datePublished" datetime="2000-01-01T00:01:02+08:00">2000-01-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-09-09 15:47:55" itemprop="dateModified" datetime="2023-09-09T15:47:55+08:00">2023-09-09</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <hr>
<h1 id="Blog62-python"><a href="#Blog62-python" class="headerlink" title="Blog62-python"></a>Blog62-python</h1><p><a href="#%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86-PythonLanguage"><strong>第一部分 PythonLanguage</strong></a></p>
<p><a href="#%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86-PythonLibrary"><strong>第二部分 PythonLibrary</strong></a></p>
<hr>
<h2 id="帮助"><a href="#帮助" class="headerlink" title="帮助"></a>帮助</h2><ol>
<li><strong>python 官网</strong></li>
</ol>
<ul>
<li>python 官网 <a target="_blank" rel="noopener" href="https://www.python.org/">https://www.python.org/</a></li>
</ul>
<ol start="2">
<li><strong>python 官方文档</strong></li>
</ol>
<ul>
<li>官方文档 <a target="_blank" rel="noopener" href="https://docs.python.org/3/">https://docs.python.org/3/</a></li>
<li>官方文档 初级教程 <a target="_blank" rel="noopener" href="https://docs.python.org/3/tutorial/index.html">https://docs.python.org/3/tutorial/index.html</a></li>
<li>官方文档 语言手册 <a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/index.html">https://docs.python.org/3/reference/index.html</a></li>
<li>官方文档 模块手册 <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/index.html">https://docs.python.org/3/library/index.html</a></li>
<li>官方文档 术语列表 <a target="_blank" rel="noopener" href="https://docs.python.org/3/glossary.html">https://docs.python.org/3/glossary.html</a></li>
<li>官方文档 模块索引 <a target="_blank" rel="noopener" href="https://docs.python.org/3/py-modindex.html">https://docs.python.org/3/py-modindex.html</a></li>
</ul>
<ol start="3">
<li><strong>各种网址</strong></li>
</ol>
<ul>
<li>ieee 编程语言排名 <a target="_blank" rel="noopener" href="https://spectrum.ieee.org/top-programming-languages-2022">https://spectrum.ieee.org/top-programming-languages-2022</a></li>
<li>大牛博客 <a target="_blank" rel="noopener" href="https://smartkeyerror.com/archives/">https://smartkeyerror.com/archives/</a></li>
<li>深入理解 python 虚拟机 <a target="_blank" rel="noopener" href="https://nanguage.gitbook.io/inside-python-vm-cn/">https://nanguage.gitbook.io/inside-python-vm-cn/</a></li>
</ul>
<hr>
<h2 id="未整理"><a href="#未整理" class="headerlink" title="未整理"></a>未整理</h2><ol>
<li><strong>python 核心</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">* 海象运算</span><br><span class="line"></span><br><span class="line">* match 语句</span><br><span class="line"></span><br><span class="line">* inspect 模块</span><br><span class="line"></span><br><span class="line">* 装饰器</span><br><span class="line"></span><br><span class="line">* 描述器</span><br><span class="line"></span><br><span class="line">* 元类</span><br><span class="line"></span><br><span class="line">* 协程 async</span><br><span class="line"></span><br><span class="line">* 命名元组 named tuple</span><br><span class="line"></span><br><span class="line">* 异常</span><br><span class="line">  - 异常类和异常实例</span><br><span class="line">  - traceback 模块</span><br><span class="line">  - assert</span><br><span class="line">  - sys.exc_info()</span><br><span class="line">  - sys.exceptions()</span><br><span class="line">  - sys.last_traceback</span><br><span class="line"></span><br><span class="line">* 沙盒 sandbox</span><br><span class="line"></span><br><span class="line">* 追踪 trace</span><br></pre></td></tr></table></figure></li>
<li><strong>输入输出</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* pprint 模块</span><br><span class="line"></span><br><span class="line">* io 模块</span><br><span class="line"></span><br><span class="line">* with 语句</span><br></pre></td></tr></table></figure></li>
<li><strong>模块</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* import</span><br></pre></td></tr></table></figure></li>
<li><strong>各种模块</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">* 数学模块</span><br><span class="line">  - math</span><br><span class="line">  - deminal</span><br><span class="line">  - fractions</span><br><span class="line">  - random</span><br><span class="line">  - statistics</span><br><span class="line"></span><br><span class="line">* 字符串模块</span><br><span class="line">  - regex</span><br><span class="line"></span><br><span class="line">* 时间日期模块</span><br><span class="line">  - time</span><br><span class="line">  - datetime</span><br><span class="line">  - zoneinfo</span><br><span class="line">  - calender</span><br><span class="line"></span><br><span class="line">* 系统层模块</span><br><span class="line">  - os</span><br><span class="line">  - sys</span><br><span class="line">  - keyword</span><br><span class="line"></span><br><span class="line">* 文本</span><br><span class="line">  - jieba</span><br><span class="line"></span><br><span class="line">* bytes 相关模块</span><br><span class="line">  - array</span><br><span class="line"></span><br><span class="line">* 序列相关</span><br><span class="line">  - collection</span><br><span class="line">  - collection.deque</span><br><span class="line">  - heapq</span><br><span class="line"></span><br><span class="line">* 网络模块</span><br><span class="line">  - urllit</span><br><span class="line">  - request</span><br><span class="line"></span><br><span class="line">* 多线程模块</span><br><span class="line">  - threading</span><br><span class="line">  - multiprocessing</span><br><span class="line">  - concurrent</span><br><span class="line"></span><br><span class="line">* 日志模块</span><br><span class="line">  - logging</span><br><span class="line"></span><br><span class="line">* 第三方库</span><br><span class="line">  - icecream</span><br><span class="line">  - executing</span><br></pre></td></tr></table></figure></li>
<li><strong>其他</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">* 栈 stack，先进后出</span><br><span class="line"></span><br><span class="line">* 队列 queue，先进先出</span><br><span class="line"></span><br><span class="line">* 递归 recursion</span><br><span class="line">  - 并不是 python 的强项</span><br><span class="line">  - 由于 python 内在的递归限制所导致</span><br><span class="line"></span><br><span class="line">* python 源码美化</span><br><span class="line">  - 使空白、断行等符合 pep8</span><br><span class="line"></span><br><span class="line">* pprint 模块</span><br><span class="line">  - 递归的对象，如 l 是一个列表，l.append(l) 或 l.insert(0,l)，pprint.pprint(l) 会显示出 Recursion on list</span><br></pre></td></tr></table></figure></li>
<li><strong>应用</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* python + excel</span><br><span class="line"></span><br><span class="line">* python + database</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="不整理"><a href="#不整理" class="headerlink" title="不整理"></a>不整理</h2><ol>
<li><strong>底层</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">* code object</span><br><span class="line">  - 字节码 bytecode</span><br><span class="line">  - pyc 文件</span><br><span class="line">  - compile() 函数</span><br><span class="line">  - dis 模块</span><br><span class="line">  - 编译时 compile time</span><br><span class="line"></span><br><span class="line">* frame object</span><br><span class="line">  - 帧 frame</span><br><span class="line">  - 调用栈</span><br><span class="line">  - 运行时 run time</span><br><span class="line"></span><br><span class="line">* 编译的过程</span><br><span class="line">  - 读取源码</span><br><span class="line">  - 词法分析 Lexical analysis 生成 token 流</span><br><span class="line">  - 语法分析 Syntax analysis 生成抽象语法树 AST Abstract Syntax Tree</span><br><span class="line">  - 字节码生成器生成生成 code object</span><br><span class="line">  - https://www.bilibili.com/video/BV1aW4y1m73B/?spm_id_from=..search-card.all.click&amp;vd_source=d311f5463498313e83819657b04cc2db</span><br><span class="line"></span><br><span class="line">* 编译过程中的优化</span><br><span class="line"></span><br><span class="line">* GIL</span><br></pre></td></tr></table></figure></li>
<li><strong>上层</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">* 审计事件和审计钩子</span><br><span class="line">  import sys</span><br><span class="line"></span><br><span class="line">  def audit_hook(event, args):</span><br><span class="line">    if event in [&#x27;os.chdir&#x27;]:</span><br><span class="line">      print(&#x27;jjjjjjjjjj&#x27;)</span><br><span class="line">  sys.addaudithook(audit_hook)</span><br><span class="line">  sys.audit(&#x27;os.chdir&#x27;,&#x27;d:/&#x27;)</span><br><span class="line"></span><br><span class="line">* Unicode</span><br><span class="line"></span><br><span class="line">* 描述器 descriptor</span><br><span class="line"></span><br><span class="line">* 字节型</span><br><span class="line">  - bytes</span><br><span class="line">  - bytearray</span><br><span class="line">  - memoryview</span><br><span class="line"></span><br><span class="line">* 元类 metaclass</span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D"><a href="#x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D" class="headerlink" title="&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;"></a>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</h1><h1 id="第一部分-PythonLanguage"><a href="#第一部分-PythonLanguage" class="headerlink" title="第一部分 PythonLanguage"></a>第一部分 PythonLanguage</h1><h1 id="x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-1"><a href="#x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-1" class="headerlink" title="&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;"></a>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</h1><p><a href="#Chapter01-python-%E4%BB%8B%E7%BB%8D"><strong>Chapter01 python 介绍</strong></a></p>
<ul>
<li><a href="#1-1-python-%E7%AE%80%E4%BB%8B">1.1 python 简介</a></li>
</ul>
<p><a href="#Chapter02-python-%E6%A0%B8%E5%BF%83"><strong>Chapter02 python 核心</strong></a></p>
<ul>
<li><a href="#2-1-%E5%90%8D%E7%A7%B0">2.1 名称</a></li>
<li><a href="#2-2-%E5%87%BD%E6%95%B0">2.2 函数</a></li>
<li><a href="#2-3-%E5%AF%B9%E8%B1%A1">2.3 对象</a></li>
<li><a href="#2-4-%E5%B1%9E%E6%80%A7">2.4 属性</a></li>
<li><a href="#2-5-%E7%B1%BB">2.5 类</a></li>
<li><a href="#2-6-%E7%BB%A7%E6%89%BF">2.6 继承</a></li>
<li><a href="#2-7-inspect-%E6%A8%A1%E5%9D%97">2.7 inspect 模块</a></li>
</ul>
<p><a href="#Chapter03-python-%E9%AD%94%E6%B3%95"><strong>Chapter03 python 魔法</strong></a></p>
<ul>
<li><a href="#3-1-%E6%8E%A8%E5%AF%BC%E5%BC%8F">3.1 推导式</a></li>
<li><a href="#3-2-%E8%BF%AD%E4%BB%A3%E5%99%A8">3.2 迭代器</a></li>
<li><a href="#3-3-%E7%94%9F%E6%88%90%E5%99%A8">3.3 生成器</a></li>
<li><a href="#3-4-%E8%A3%85%E9%A5%B0%E5%99%A8">3.4 装饰器</a></li>
<li><a href="#3-5-%E5%BC%82%E6%AD%A5">3.5 异步</a></li>
</ul>
<p><a href="#Chapter04-python-%E8%AF%AD%E6%B3%95"><strong>Chapter04 python 语法</strong></a></p>
<ul>
<li><a href="#4-1-python-%E8%AF%AD%E6%B3%95%E4%BB%8B%E7%BB%8D">4.1 python 语法介绍</a></li>
<li><a href="#4-2-%E8%A1%A8%E8%BE%BE%E5%BC%8F">4.2 表达式</a></li>
<li><a href="#4-3-%E8%AF%AD%E5%8F%A5">4.3 语句</a></li>
</ul>
<p><a href="#Chapter05-%E5%BC%82%E5%B8%B8"><strong>Chapter05 异常</strong></a></p>
<ul>
<li><a href="#5-1-%E5%BC%82%E5%B8%B8">5.1 异常</a></li>
<li><a href="#5-2-traceback-%E6%A8%A1%E5%9D%97">5.2 traceback 模块</a></li>
<li><a href="#5-3-%E5%AE%A1%E8%AE%A1%E4%BA%8B%E4%BB%B6">5.3 审计事件</a></li>
</ul>
<p><a href="#Chapter06-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><strong>Chapter06 数据类型</strong></a></p>
<ul>
<li><a href="#6-1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%BB%8B%E7%BB%8D">6.1 数据类型介绍</a></li>
<li><a href="#6-2-%E6%95%B0%E5%80%BC%E5%9E%8B">6.2 数值型</a></li>
<li><a href="#6-3-%E5%BA%8F%E5%88%97">6.3 序列</a></li>
<li><a href="#6-6-%E9%9B%86%E5%90%88">6.4 集合</a></li>
<li><a href="#6-5-%E5%AD%97%E5%85%B8">6.5 字典</a></li>
<li><a href="#6-6-%E5%AD%97%E7%AC%A6%E4%B8%B2">6.6 字符串</a></li>
<li><a href="#6-7-datetime-%E6%A8%A1%E5%9D%97">6.7 datetime 模块</a></li>
</ul>
<p><a href="#Chapter07-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><strong>Chapter07 输入输出</strong></a></p>
<ul>
<li><a href="#7-1-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E5%87%BD%E6%95%B0">7.1 输入输出函数</a></li>
<li><a href="#7-2-pprint-%E6%A8%A1%E5%9D%97">7.2 pprint 模块</a></li>
<li><a href="#7-3-io-%E6%A8%A1%E5%9D%97">7.3 io 模块</a></li>
</ul>
<p><a href="#Chapter08-%E6%A8%A1%E5%9D%97"><strong>Chapter08 模块</strong></a></p>
<ul>
<li><a href="#8-1-%E6%A8%A1%E5%9D%97">8.1 模块</a></li>
<li><a href="#8-2-%E5%8C%85">8.2 包</a></li>
<li><a href="#8-3-pip">8.3 pip</a></li>
</ul>
<p><a href="#Chapter09-%E5%B8%B8%E7%94%A8%E6%A8%A1%E5%9D%97"><strong>Chapter09 常用模块</strong></a></p>
<ul>
<li><a href="#9-1-sys-%E6%A8%A1%E5%9D%97">9.1 sys 模块</a></li>
<li><a href="#9-2-os-%E6%A8%A1%E5%9D%97">9.2 os 模块</a></li>
<li><a href="#9-3-os-path-%E6%A8%A1%E5%9D%97">9.3 os.path 模块</a></li>
<li><a href="#9-4-pathlib-%E6%A8%A1%E5%9D%97">9.4 pathlib 模块</a></li>
<li><a href="#9-5-time-%E6%A8%A1%E5%9D%97">9.5 time 模块</a></li>
<li><a href="#9-6-functools-%E6%A8%A1%E5%9D%97">9.6 functools 模块</a></li>
</ul>
<p><a href="#Chapter10-%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86%E6%A8%A1%E5%9D%97"><strong>Chapter10 文本处理模块</strong></a></p>
<ul>
<li><a href="#10-1-string-%E6%A8%A1%E5%9D%97">10.1 string 模块</a></li>
<li><a href="#10-2-re-%E6%A8%A1%E5%9D%97">10.2 re 模块</a></li>
<li><a href="#10-3-json-%E6%A8%A1%E5%9D%97">10.3 json 模块</a></li>
<li><a href="#10-4-jieba-%E6%A8%A1%E5%9D%97">10.4 jieba 模块</a></li>
</ul>
<p><a href="#Chapter11-%E6%95%B0%E5%AD%A6%E6%A8%A1%E5%9D%97"><strong>Chapter11 数学模块</strong></a></p>
<ul>
<li><a href="#11-1-math-%E6%A8%A1%E5%9D%97">11.1 math 模块</a></li>
<li><a href="#11-2-deminal-%E6%A8%A1%E5%9D%97">11.2 deminal 模块</a></li>
<li><a href="#11-3-fractions-%E6%A8%A1%E5%9D%97">11.3 fractions 模块</a></li>
<li><a href="#11-4-random-%E6%A8%A1%E5%9D%97">11.4 random 模块</a></li>
<li><a href="#11-5-statistics-%E6%A8%A1%E5%9D%97">11.5 statistics 模块</a></li>
</ul>
<p><a href="#Chapter12-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%A8%A1%E5%9D%97"><strong>Chapter12 数据分析模块</strong></a></p>
<ul>
<li><a href="#12-1-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8B%E7%BB%8D">12.1 数据分析介绍</a></li>
<li><a href="#12-2-numpy-%E6%A8%A1%E5%9D%97">12.2 numpy 模块</a></li>
<li><a href="#12-3-pandas-%E6%A8%A1%E5%9D%97">12.3 pandas 模块</a></li>
</ul>
<p><a href="#Chapter13-%E5%B9%B6%E5%8F%91%E6%A8%A1%E5%9D%97"><strong>Chapter13 并发模块</strong></a></p>
<p><a href="#Chapter14-%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9D%97"><strong>Chapter14 网络模块</strong></a></p>
<ul>
<li><a href="#14-1-urllib-%E6%A8%A1%E5%9D%97">14.1 urllib 模块</a></li>
</ul>
<p><a href="#Chapter15-%E6%B5%8B%E8%AF%95%E6%A8%A1%E5%9D%97"><strong>Chapter15 测试模块</strong></a></p>
<ul>
<li><a href="#15-2-unittest-%E6%A8%A1%E5%9D%97">15.2 unittest 模块</a></li>
</ul>
<hr>
<h1 id="Chapter01-python-介绍"><a href="#Chapter01-python-介绍" class="headerlink" title="Chapter01 python 介绍"></a>Chapter01 python 介绍</h1><hr>
<h2 id="1-1-python-简介"><a href="#1-1-python-简介" class="headerlink" title="1.1 python 简介"></a>1.1 python 简介</h2><h3 id="知识点：python-介绍"><a href="#知识点：python-介绍" class="headerlink" title="知识点：python 介绍"></a>知识点：python 介绍</h3><ol>
<li><strong>python 历史</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 1989年，Guido van Rossum</span><br><span class="line">* 1991年，公开发行</span><br><span class="line">* 1999年，Guido 说明了他对 python 的目标</span><br><span class="line">  - 一门简单直观的语言并与主要竞争者一样强大</span><br><span class="line">  - 开源，以便任何人都可以为它做贡献</span><br><span class="line">  - 代码像纯英语那样容易理解</span><br><span class="line">  - 适用于短期开发的日常任务</span><br><span class="line">* 2001年，Python2</span><br><span class="line">* 2008年，Python3</span><br></pre></td></tr></table></figure></li>
<li><strong>python ide</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* IDLE</span><br><span class="line">  - python 提供的基础 IDE</span><br><span class="line">  - 精简，但功能较少</span><br><span class="line"></span><br><span class="line">* pycharm</span><br><span class="line">  - 适合开发</span><br><span class="line">  - 适合项目管理</span><br><span class="line"></span><br><span class="line">* spyder</span><br><span class="line">  - 适合数据分析</span><br><span class="line">  - anaconda+spyder</span><br><span class="line">  - 可以实时变量的值的变化情况</span><br><span class="line"></span><br><span class="line">* vscode</span><br><span class="line">  - 好用不解释</span><br></pre></td></tr></table></figure></li>
<li><strong>python 应用方向</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 人工智能</span><br><span class="line">  - 图像识别</span><br><span class="line">  - 图像处理</span><br><span class="line">  - 语音识别</span><br><span class="line">  - 机器学习</span><br><span class="line">  - 深度学习</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：python-特性"><a href="#知识点：python-特性" class="headerlink" title="知识点：python 特性"></a>知识点：python 特性</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* python 的三个重要特性</span><br><span class="line">  - 解释型语言</span><br><span class="line">  - 动态类型</span><br><span class="line">  - 面向对象</span><br></pre></td></tr></table></figure></li>
<li><strong>编译型语言和解释型语言</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">* 编译型语言 Compilation programming language</span><br><span class="line">  - 提前一次性编译出目标二进制程序文件</span><br><span class="line">  - 在计算机上运行时仅需要二进制程序文件</span><br><span class="line"></span><br><span class="line">* 优点</span><br><span class="line">  - 性能高</span><br><span class="line"></span><br><span class="line">* 缺点</span><br><span class="line">  - 跨平台要重新编译</span><br><span class="line">  - debug 需要保留源代码</span><br><span class="line"></span><br><span class="line">* 应用场景</span><br><span class="line">  - 适合对效率、运行速度有要求的场景</span><br><span class="line">  - 适合大型场景，如大型应用程序、数据库系统等</span><br><span class="line"></span><br><span class="line">* 常见语言</span><br><span class="line">  - C</span><br><span class="line">  - C++</span><br><span class="line">  - Java</span><br><span class="line">  - C#</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">* 解释型语言 Interpretation programming language</span><br><span class="line">  - 执行时编译，在计算机上运行时将代码逐条转换成二进制代码，同时逐条执行</span><br><span class="line">  - 每次运行程序都需要源代码和解释器</span><br><span class="line">  - 也称为脚本语言</span><br><span class="line"></span><br><span class="line">* 优点</span><br><span class="line">  - 源代码明文，便于维护和传播</span><br><span class="line">  - 跨平台可移植性好</span><br><span class="line">  - 重视可读性</span><br><span class="line"></span><br><span class="line">* 缺点</span><br><span class="line">  - 性能较差</span><br><span class="line"></span><br><span class="line">* 应用场景</span><br><span class="line">  - 适合小型场景，如网页脚本、服务器脚本、辅助开发接口等</span><br><span class="line">  - 适合对跨平台兼容性有要求的场景</span><br><span class="line"></span><br><span class="line">* 常见语言</span><br><span class="line">  - python</span><br><span class="line">  - PHP</span><br><span class="line">  - JavaScript</span><br><span class="line">  - Perl</span><br><span class="line">  - Ruby</span><br><span class="line">  - SQL</span><br></pre></td></tr></table></figure></li>
<li><strong>静态类型和动态类型</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 静态类型 Statically typed</span><br><span class="line">  - 使用变量时，必须提前声明变量的数据类型</span><br><span class="line">  - 变量的生命期中，变量的数据类型不可变更</span><br><span class="line">  - 通常都是编译型语言</span><br><span class="line"></span><br><span class="line">* 动态类型 dynamically typed</span><br><span class="line">  - 变量使用之前不强制要求提前声明数据类型，代码运行时解释器可以自动确定数据类型</span><br><span class="line">  - 变量的生命期中数据类型可以随意改变</span><br><span class="line">  - 通常为解释型语言</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：python-解释器"><a href="#知识点：python-解释器" class="headerlink" title="知识点：python 解释器"></a>知识点：python 解释器</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* python 解释器 interpreter</span><br><span class="line">  - 解释器是执行 python 源码的程序，会根据源码进行编译，并执行编译后的结果</span><br><span class="line"></span><br><span class="line">* 解释器的结构</span><br><span class="line">  - 编译器 parser，读取源码、进行编译、生成字节码</span><br><span class="line">  - 虚拟机 virtual machine，执行字节码所对应的机器码</span><br><span class="line"></span><br><span class="line">* Python 解释器设计为两层的目的</span><br><span class="line">  - 将程序的执行与底层硬件进一步地分离</span><br><span class="line">  - 无需担心程序的编译、汇编以及链接过程</span><br><span class="line">  - 使 Python 程序相较于 C 程序而言更加易于移植</span><br></pre></td></tr></table></figure></li>
<li><strong>解释器的实现</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* CPython</span><br><span class="line">  - 使用 C 语言实现的 python</span><br><span class="line">  - 最基础、最常见的 python 解释器</span><br><span class="line">  - 相当于 python 的实际标准，所有新功能都是先在 cpython 中添加，然后其他实现再进行跟进</span><br><span class="line"></span><br><span class="line">* Jython</span><br><span class="line">  - 使用 Java 实现的 python</span><br><span class="line"></span><br><span class="line">* Python for .NET</span><br><span class="line"></span><br><span class="line">* IronPython</span><br><span class="line"></span><br><span class="line">* PyPy</span><br><span class="line">  - 使用 python 实现的 python</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：python-交互模式"><a href="#知识点：python-交互模式" class="headerlink" title="知识点：python 交互模式"></a>知识点：python 交互模式</h3><ol>
<li><strong>交互模式 Interactive Mode</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* 提示符 prompt</span><br><span class="line">  - 主提示符 primary prompt，三个大于号 three greater-than signs (&gt;&gt;&gt;)</span><br><span class="line">  - 二级提示符 secondary prompt，三个句点 three dots (...)</span><br><span class="line"></span><br><span class="line">* 输出</span><br><span class="line">  - 交互模式的输出默认采用 repr() 函数</span><br><span class="line"></span><br><span class="line">* 行编辑特性 line-editing features</span><br><span class="line">  - interactive editing</span><br><span class="line">  - completion</span><br><span class="line">  - history</span><br></pre></td></tr></table></figure></li>
<li><strong>交互模式操作</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">* 退出交互模式</span><br><span class="line">  - end-of-file character</span><br><span class="line">    - C-D，Unix</span><br><span class="line">    - C-Z，Windows</span><br><span class="line">  - quit()</span><br><span class="line">  - exit()</span><br><span class="line"></span><br><span class="line">* 空行</span><br><span class="line">  - 使用一个空行用来表示 mulit-lines 语句的结束</span><br><span class="line"></span><br><span class="line">* 变量 &#x27;_&#x27;</span><br><span class="line">  - 在交互模式中，变量 &#x27;_&#x27; 用来编程上一次输出的表达式的结果</span><br><span class="line">  - 此变量应当作为一个 readonly 变量使用</span><br></pre></td></tr></table></figure></li>
<li><strong>命令行选项</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* python [OPTIONS] [-c command | -m module-name | script | - ] [args]</span><br><span class="line"></span><br><span class="line">* [-bBdEhiIOqsSuvVWx?]</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：python-代码风格建议"><a href="#知识点：python-代码风格建议" class="headerlink" title="知识点：python 代码风格建议"></a>知识点：python 代码风格建议</h3><ol>
<li><strong>代码风格 coding style</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - PEP 8 是 python 官方的推荐代码风格手册</span><br><span class="line"></span><br><span class="line">* 缩进 indent</span><br><span class="line">  - 使用 4 个 space</span><br><span class="line">  - 不要使用 tab</span><br><span class="line"></span><br><span class="line">* 行 line</span><br><span class="line">  - 每行的字符尽量不要超过 79 个</span><br><span class="line"></span><br><span class="line">* 代码块 code block</span><br><span class="line">  - 使用空行 blank line 来间隔代码块，如函数定义、类定义</span><br><span class="line"></span><br><span class="line">* 注释 comment</span><br><span class="line">  - 每一行的注释尽量放在当前行</span><br><span class="line"></span><br><span class="line">* 函数 function</span><br><span class="line">  - 函数添加 docstring</span><br><span class="line"></span><br><span class="line">* 空白 space</span><br><span class="line">  - 在操作符左右添加 space，如 a + b 而不是 a+b</span><br><span class="line">  - 在逗号之后添加 space，如 f(1, 2) 而不是 f(1,2)</span><br><span class="line">  - 在括号、中括号等前后不要添加 space，如 (a + b) 而不是 ( a + b )</span><br><span class="line"></span><br><span class="line">* 名称 name</span><br><span class="line">  - 类名，采用驼峰式命名法 UpperCamelCase</span><br><span class="line">  - 函数名、方法名，采用匈牙利式命名法 lowercase_with_underscores</span><br><span class="line">  - 名称中尽量不要采用 non-ascii 字符</span><br><span class="line">  - 方法中的 self 参数命名采用 &#x27;self&#x27;</span><br><span class="line">  - 类方法中的 class 参数命名采用 &#x27;cls&#x27;</span><br><span class="line"></span><br><span class="line">* 编码 encoding</span><br><span class="line">  - 尽量使用 utf-8，至少也是 ascii</span><br><span class="line">  - 不要使用奇怪的 encoding</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：查看-python-字节码"><a href="#知识点：查看-python-字节码" class="headerlink" title="知识点：查看 python 字节码"></a>知识点：查看 python 字节码</h3><ol>
<li><strong>查看函数字节码</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> dis</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>():</span></span><br><span class="line">  <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">dis.dis(func)</span><br></pre></td></tr></table></figure></li>
<li><strong>查看模块字节码</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> dis</span><br><span class="line"></span><br><span class="line">f=<span class="string">&#x27;demo01.py&#x27;</span></span><br><span class="line">file=<span class="built_in">open</span>(f,encoding=<span class="string">&#x27;utf-8&#x27;</span>).read()</span><br><span class="line">co=<span class="built_in">compile</span>(file,f,<span class="string">&#x27;exec&#x27;</span>)</span><br><span class="line"></span><br><span class="line">dis.dis(co)</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h1 id="Chapter02-面向对象"><a href="#Chapter02-面向对象" class="headerlink" title="Chapter02 面向对象"></a>Chapter02 面向对象</h1><hr>
<h2 id="2-1-名称"><a href="#2-1-名称" class="headerlink" title="2.1 名称"></a>2.1 名称</h2><h3 id="知识点：名称"><a href="#知识点：名称" class="headerlink" title="知识点：名称"></a>知识点：名称</h3><ol>
<li><strong>名称 name</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 也称为标识符 identifier</span><br><span class="line">  - 用于指代对象</span><br><span class="line">  - 通过 name 来引用对象</span><br><span class="line"></span><br><span class="line">* 名称的命名规则</span><br><span class="line">  - 以大写字母、小写字母、下划线开头</span><br><span class="line">  - 后跟大写字母、小写字母、下划线、数字</span><br><span class="line">  - 名称的命名规则的完整 Notion https://docs.python.org/3/reference/lexical_analysis.html#identifiers</span><br></pre></td></tr></table></figure></li>
<li><strong>保留标识符类 Reserved classes of identifiers</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 一类具有特殊功能的名称格式</span><br><span class="line">  - 当名符合特定格式时，此标识符会自动被 python 赋予特殊含义，或具有特殊的操作</span><br><span class="line">  - 形式上都是以 &#x27;_&#x27; 开头或结尾</span><br><span class="line"></span><br><span class="line">* &#x27;_&#x27;</span><br><span class="line">  - 在 match 语句中，用作 wildcard</span><br><span class="line">  - 在交互模式中，用作变量，储存最近一次 available evaluation 的结果</span><br><span class="line"></span><br><span class="line">* &#x27;_XXX&#x27;</span><br><span class="line">  - 模块的私有属性</span><br><span class="line">  - 模块的属性的名称若符合此格式，则执行 &#x27;from module import *&#x27; 语句时不会导入此属性</span><br><span class="line">  - 也可以表示类的私有属性，但只是代码习惯，不具备 python 功能</span><br><span class="line"></span><br><span class="line">* &#x27;__XXX&#x27;</span><br><span class="line">  - 前缀至少两个 &#x27;_&#x27;，后缀至多一个 &#x27;_&#x27;</span><br><span class="line">  - 类私有名称 Class-private names</span><br><span class="line">  - 在执行类的定义 class definition 时自动对此 name 进行转换</span><br><span class="line"></span><br><span class="line">* &#x27;__XXX__;</span><br><span class="line">  - 系统定义名称 System-defined names，通常简称为 &quot;dunder&quot;</span><br><span class="line">  - 多用来表示特殊属性、特殊方法</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：名称的使用"><a href="#知识点：名称的使用" class="headerlink" title="知识点：名称的使用"></a>知识点：名称的使用</h3><ol>
<li><strong>名称绑定 binding</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 将 name 与对象关联起来，并记录在 namespace 中</span><br><span class="line">  - 所有的名称绑定均发生在 current namespace 中</span><br><span class="line"></span><br><span class="line">* 名称的绑定通过以下行为来实现</span><br><span class="line">  - 赋值语句</span><br><span class="line">  - 赋值表达式</span><br><span class="line">  - import 语句               --&gt; 将 name 与模块对象绑定</span><br><span class="line">  - 类定义                    --&gt; 将 name 与类对象绑定</span><br><span class="line">  - 函数定义                  --&gt; 将 name 与函数对象绑定</span><br><span class="line">  - 函数的正式参数</span><br><span class="line">  - for 循环                  --&gt; 将 name 与 iterator 的返回对象绑定</span><br><span class="line">  - with 语句中的 as clause   --&gt; 将 name 与文件对象绑定</span><br><span class="line">  - expect 语句中的 as clause --&gt; 将 name 与 Exception 实例绑定</span><br><span class="line">  - match 语句中的 as clause</span><br><span class="line"></span><br><span class="line">* 解除绑定</span><br><span class="line">  - del 语句</span><br><span class="line"></span><br><span class="line">* 其他</span><br><span class="line">  - python 没有显式的声明语句，绑定操作会自动进行声明</span><br></pre></td></tr></table></figure></li>
<li><strong>变量 variable</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 局部变量 local variable</span><br><span class="line">  - 在代码块中进行名称绑定，则 name 会成为该代码块的局部变量</span><br><span class="line">  - 在函数调用时被创建，在函数调用结束时被销毁</span><br><span class="line"></span><br><span class="line">* 全局变量 global variable</span><br><span class="line">  - 模块的局部变量是此模块中所有代码块的全局变量</span><br><span class="line"></span><br><span class="line">* 自由变量 free variable</span><br><span class="line">  - 如果一个变量可以在代码块中被使用，但不是在其中定义的，则称此变量为自由变量</span><br><span class="line">  - 通常是从 Enclosing Scope 中继承的变量</span><br></pre></td></tr></table></figure></li>
<li><strong>引用 reference</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 也称为访问 access</span><br><span class="line">  - 在 literial 上指定 name，则在程序执行时返回其对应的对象</span><br><span class="line"></span><br><span class="line">* 直接引用 direct reference</span><br><span class="line">  - 直接通过 name 来引用对象</span><br><span class="line">  - 程序执行时，在 namespace 中搜索名称</span><br><span class="line">    - 如果搜索到，则返回名称对应的对象</span><br><span class="line">    - 如果未搜索到，抛出异常 name undefined</span><br><span class="line">  - 直接引用的搜索顺序</span><br><span class="line">    - current namespace --&gt; local namespace --&gt; global namespace --&gt; builtin namespace</span><br><span class="line"></span><br><span class="line">* 点式引用 dotted reference</span><br><span class="line">  - 用来跨作用域、命名空间来引用对象</span><br><span class="line">  - 点式引用法会被 python 转化为对字典的搜索，即，X.c 相当于 X.__dict__[&quot;c&quot;]</span><br><span class="line">  - 格式:</span><br><span class="line">    object_name.attribute_name</span><br><span class="line">    object_name.subobject_name[.attribute_name]</span><br><span class="line">  - 执行过程:</span><br><span class="line">    首先对 object_name 进行名称解析，中找到对应的 object</span><br><span class="line">    然后在 object 的命名空间中进行搜索，找到相应的 attribute_name</span><br><span class="line">    最终返回 attribute_name 所执行的对象</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：命名空间"><a href="#知识点：命名空间" class="headerlink" title="知识点：命名空间"></a>知识点：命名空间</h3><ol>
<li><strong>命名空间 namespace</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 也称为符号表 symbol table</span><br><span class="line">  - 由名称和其绑定的对象形成的映射组成的集合</span><br><span class="line">  - 目前，python 的命名空间是以字典的形式实现，未来可能会变更</span><br><span class="line"></span><br><span class="line">* 命名空间的特性</span><br><span class="line">  - 同一个命名空间之下，不允许存在重复的 name</span><br><span class="line">  - 不同的命名空间之间相互不影响</span><br><span class="line">    - 不同的命名空间之间，可以存在同样的 name，并且可以指向不同的对象</span><br><span class="line">    - 不同的命名空间在不同的时刻创建，也具有不同的生命期 lifetime</span><br><span class="line"></span><br><span class="line">* 对象的命名空间</span><br><span class="line">  - 对于 user defined 对象，每个对象均具有其自己的命名空间</span><br><span class="line">  - 记录了对象的所有属性</span><br><span class="line">  - 作为 object.__dict__ 而存在</span><br></pre></td></tr></table></figure></li>
<li><strong>常见命名空间</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">* 当前命名空间 current namespace</span><br><span class="line">  - 在程序执行时，当进行名称绑定时，记录名称与对象的映射的命名空间</span><br><span class="line"></span><br><span class="line">* 内置命名空间 builtin namespace</span><br><span class="line">  - 包含了所有的 builtin 属性，如内置函数、内置类型、内置异常等</span><br><span class="line">  - 在 python interpreter 启动时创建</span><br><span class="line">  - 生命期与解释器相同</span><br><span class="line">  - 是名称解析时最后搜索的命名空间</span><br><span class="line">  - 默认以只读的形式提供给对其他的代码</span><br><span class="line">    - 无法直接查看</span><br><span class="line">    - 可以通过 import builtins 来查看，如 vars(builtins)</span><br><span class="line"></span><br><span class="line">* 全局命名空间 global namespace</span><br><span class="line">  - 储存在模块中所进行的绑定</span><br><span class="line">  - 当 python 执行模块的顶层语句时，current namespace 就是模块的 global namespace</span><br><span class="line">  - 在模块中所绑定的 name 成为模块的属性</span><br><span class="line">  - 作为 module.__dict__ 而存在</span><br><span class="line">  - 全局命名空间中包含模块中除了 __dict__ 以外的所有属性</span><br><span class="line">  - 在模块的定义 module definition 被读入时创建</span><br><span class="line">  - 生命期直到解释器退出</span><br><span class="line">  - 对于函数</span><br><span class="line">    - 在任何情况下，函数的全局命名空间，都是定义此函数的 module 的命名空间，而非运行此函数的 module 的命名空间</span><br><span class="line">    - 例如 import math，sin 的 global namespace 是 math.__dict__，而非 main.__dict__</span><br><span class="line"></span><br><span class="line">* 局部命名空间 local namespace</span><br><span class="line">  - 储存在 function body 中所进行的名称绑定</span><br><span class="line">  - 当 python 在执行 function body 时，current namespace 就是函数的 local namespace</span><br><span class="line">  - 在 function body 中所绑定的 name 成为函数的局部变量</span><br><span class="line">  - 在函数被调用时创建</span><br><span class="line">  - 在函数运行结束时删除</span><br><span class="line">  - 对于递归调用 recursive invocation</span><br><span class="line">    - 在递归调用中，每个被递归调用的函数都具有自己单独的 local namespace，即使他们都是同一个函数对象</span><br><span class="line"></span><br><span class="line">* 类命名空间 class namespace</span><br><span class="line">  - 类的私有命名空间，储存 class body 中所进行的绑定</span><br><span class="line">  - 当 python 在执行 class body 时，current namespace 就是类的 class namespace</span><br><span class="line">  - 在 class body 中所绑定的 name 成为类的属性</span><br><span class="line">  - 储存类中定义的所有类属性</span><br><span class="line">    - 不包括从父类处继承的属性</span><br><span class="line">    - 不包含函数体中属于函数的私有变量</span><br><span class="line">  - 在创建类时创建</span><br><span class="line"></span><br><span class="line">* 主命名空间 __main__ namespace</span><br><span class="line">  - main 模块的 global namespace</span><br><span class="line">  - 由 python 提供，作为顶层调用 top-level invocation 的 current namespace</span><br><span class="line">    - 顶层调用的语句，实际上是加载到 main 模块中执行的</span><br><span class="line">    - 因此 __main__ namespace 也就是 top-level 程序的 global namespace</span><br><span class="line">    - 包括，脚本运行的主脚本，交互式界面</span><br><span class="line">    - 同样，此时的 __name__ 中会记录当前模块为 &#x27;__main__&#x27;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：作用域"><a href="#知识点：作用域" class="headerlink" title="知识点：作用域"></a>知识点：作用域</h3><ol>
<li><strong>作用域 scope</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 表示一个名称针对代码块的可见性</span><br><span class="line">  - 在作用域内，可以通过直接引用来访问对象</span><br><span class="line">  - 在作用域外，无法通过直接引用来访问对象，会抛出 name undefined</span><br><span class="line"></span><br><span class="line">* 作用域的扩展 extend</span><br><span class="line">  - name 的作用域会自动进行扩展</span><br><span class="line">  - 在代码块中定义的变量，其作用域自动会扩展到所有的子代码块</span><br><span class="line">  - 在代码块中使用变量，则会尝试向外围作用域中进行解析</span><br><span class="line"></span><br><span class="line">* 环境 environment</span><br><span class="line">  - 一个代码块所有可见的作用域，称为代码块的环境</span><br><span class="line">  - 对于直接引用，代码块只能直接引用其环境中的 name</span><br></pre></td></tr></table></figure></li>
<li><strong>名称解析 name resolution</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 在代码块的环境中搜索名称</span><br><span class="line">  - 也称为作用域的动态使用</span><br><span class="line"></span><br><span class="line">* 编译优化</span><br><span class="line">  - 只要代码块中出现了赋值行为，python 就会认为此 name 是一个局部变量</span><br><span class="line">  - 此特性是与代码块/CodeObject/frame 所绑定的，即当 python 执行此代码块的第一条语句之前就确认，不论赋值行为发生在代码块的何位置</span><br><span class="line">  - 底层逻辑为，python 在生成字节码时时会自动解析为 LOAD_FAST 而不是 LOAD_GLOBAL</span><br><span class="line"></span><br><span class="line">* 名称解析的过程</span><br><span class="line">  - 在程序执行的任意时刻，至少有 3-4 层嵌套的作用域存在</span><br><span class="line">  - 搜索标识符时，从最内层开始，由内向外依次进行搜索</span><br><span class="line">  - 当在某一层搜索不到时，再搜索外面一层</span><br><span class="line">  - 当在某一层搜索到后，则返回搜索到的结果，不会再搜索外层的作用域</span><br><span class="line"></span><br><span class="line">* 最内层作用域 innermost scope</span><br><span class="line">  - 对应 current namespace</span><br><span class="line">  - 搜索 name 时会最先从此开始搜索</span><br><span class="line"></span><br><span class="line">* 外围函数作用域 enclosing functions scope</span><br><span class="line">  - 每存在一层外围函数，就存在一个与之对相应的外围作用域</span><br><span class="line">  - 可以有多层</span><br><span class="line">  - 其中的 name 称为 non-local names</span><br><span class="line">  - 不包含 global names</span><br><span class="line">  - 搜索时，从 nearest enclosing 开始搜索，当未搜索到结果，才继续搜索下一层</span><br><span class="line"></span><br><span class="line">* 全局作用域 global scope</span><br><span class="line">  - 对应模块的 global namespace</span><br><span class="line">  - 包含 global names</span><br><span class="line">  - 是搜索时的倒数第二层 scope</span><br><span class="line"></span><br><span class="line">* 内置作用域 builtin scope</span><br><span class="line">  - 对应 builtin namespace</span><br><span class="line">  - 最后一层作用域</span><br><span class="line">  - 最后搜索</span><br><span class="line">  - 由于此 scope 的存在，buintin names 可以在程序的任意部分直接引用</span><br><span class="line">  - 对所有 scope 都是永远 read-only</span><br><span class="line"></span><br><span class="line">* 多层 scope 之间的关系</span><br><span class="line">  1. 若多层 scope 中存在相同的 name，则选择最近的一层</span><br><span class="line">  2. 只有 innermost scope 或者说 current namespace 对于当前程序是可写的，其他所有外围的 scope 对于当前执行程序都是只读的</span><br><span class="line">  3. 若修改 outer scope 中的某个名称，则实际过程为:</span><br><span class="line">    - 在 current namespace 新建此 name，再对此 name 进行绑定</span><br><span class="line">    - outer namespace 中的 name 保持未改变</span><br></pre></td></tr></table></figure></li>
<li><strong>类定义中的环境和作用域</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* 作用域的扩展</span><br><span class="line">  - 在类定义代码块中，作用域不会进行扩展</span><br><span class="line">  - 绑定的名称会成为类的属性，其作用域仅限于类定义代码块，不会扩展到类定义中的子代码块如函数体、推导式、生成器表达式等</span><br><span class="line"></span><br><span class="line">* 名称解析</span><br><span class="line">  - 在类定义中的名称解析，不会搜索全局名称空间，而是搜索父类的命名空间</span><br><span class="line">  - 搜索基于 mro 链进行</span><br><span class="line"></span><br><span class="line">* 类中的函数的名称解析</span><br><span class="line">  - 对于类中的函数，在进行名称解析时，不会搜索类的 namespace，而是搜索 global namespace</span><br><span class="line">  - 类的属性，对于类中的函数是不可见的，需要通过 class.attribute 来进行引用</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：global、nonlocal-语句"><a href="#知识点：global、nonlocal-语句" class="headerlink" title="知识点：global、nonlocal 语句"></a>知识点：global、nonlocal 语句</h3><ol>
<li><strong>global 语句</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">* 作用</span><br><span class="line">  - 在函数的代码块中，将一个 identifier 声明到 global namespace 中</span><br><span class="line">  - 使用了 global 语句后，在当前代码块层级中 global 语句之后的部分，此 identifier 变为可写 writeable</span><br><span class="line">  - 可以对此 identifier 进行赋值，并且都实际指向的是 global namespace 的项</span><br><span class="line">  - identifier 可以是 global namespace 中不存在的项</span><br><span class="line"></span><br><span class="line">* 限制 restriction</span><br><span class="line">  - 必须保证在当前代码块的文本中，global 语句之前从没有出现过此 identifier，此条限制是文本级别的 textually</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  global identifier</span><br><span class="line">  global identifier, identifier</span><br><span class="line"></span><br><span class="line">* 其他限制</span><br><span class="line">  - CPython 目前并没有强制执行如下的这些限制，但推荐程序员在编程时避免这样用，因为未来版本中可能会强制执行这些限制</span><br><span class="line">  - Names listed in a global statement must not be defined :</span><br><span class="line">    - as formal parameters</span><br><span class="line">    - as targets in with statements or except clauses</span><br><span class="line">    - in a for target list, class definition, function definition, import statement, or variable annotation.</span><br></pre></td></tr></table></figure></li>
<li><strong>nonlocal 语句</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* 作用</span><br><span class="line">  - 在函数的代码块中，将一个 identifier 声明到 enclosing functions namespace 中</span><br><span class="line">  - 使用了 nonlocal 语句后，在当前代码块层级中 nonlocal 语句之后的部分，此 identifier 变为可写 writeable</span><br><span class="line">  - 可以对此 identifier 进行赋值，并且都实际指向的是 enclosing functions namespace 的项</span><br><span class="line">  - 如果 identifier 在多层 enclosing functions namespace 都存在，则绑定到 nearest scope 中</span><br><span class="line"></span><br><span class="line">* 限制</span><br><span class="line">  - 必须保证在当前代码块层级中，nonlocal 语句之前从没有出现过此 identifier，此限制是文本级别的 textually</span><br><span class="line">  - identifier 必须已经在外围某一层 enclosing functions namespace 中存在 pre-existing</span><br><span class="line">      - 否则，无法确定新建的 identifier binding 应该放在哪一层</span><br><span class="line">  -  nonlocal 语句只作用于 enclosing functions namespace，不对 global namespace 作用</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  nonlocal identifier</span><br><span class="line">  nonlocal identifier, identifier</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：dir-、vars-函数"><a href="#知识点：dir-、vars-函数" class="headerlink" title="知识点：dir()、vars() 函数"></a>知识点：dir()、vars() 函数</h3><ol>
<li><strong>dir() 函数</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">* 功能</span><br><span class="line">  - 返回对于 object 来说其所有可用的 names 组成的列表</span><br><span class="line">  - 结果为尽最大努力的方式，不保证结果的准确性</span><br><span class="line"></span><br><span class="line">* dir()</span><br><span class="line">  - 返回 current namespace 中的 names</span><br><span class="line">  - 不会包含 builtin 中的 names</span><br><span class="line"></span><br><span class="line">* dir(object)</span><br><span class="line">  - 对象的属性、对象的类的属性、类的基类的属性</span><br><span class="line"></span><br><span class="line">* dir(class)</span><br><span class="line">  - 类的属性、基类的属性</span><br><span class="line"></span><br><span class="line">* dir(module)</span><br><span class="line">  - 模块的属性</span><br><span class="line"></span><br><span class="line">* dir(builtins)</span><br><span class="line">  - builtin namespace 中的 names</span><br><span class="line">  - 需要先 import builtins</span><br></pre></td></tr></table></figure></li>
<li><strong>vars() 函数</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 返回 object.namespace 字典</span><br><span class="line">  - 通过调用 __dict__ 来实现</span><br><span class="line">  - 要求对象必须具有 __dict__ 属性，否则会抛出 TypeError</span><br><span class="line"></span><br><span class="line">* vars()</span><br><span class="line">  - 返回 current namespace 字典</span><br><span class="line">  - 相当于 locals()</span><br><span class="line"></span><br><span class="line">* vars(object)</span><br><span class="line">  - 返回 object namespace 字典</span><br><span class="line">  - 相当于 object.__dict__</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：global-、locals-函数"><a href="#知识点：global-、locals-函数" class="headerlink" title="知识点：global()、locals() 函数"></a>知识点：global()、locals() 函数</h3><ol>
<li><strong>global() 函数</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* globals()</span><br><span class="line">  - 返回 current module 的 global namespace 字典</span><br></pre></td></tr></table></figure></li>
<li><strong>locals() 函数</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* locals()</span><br><span class="line">  - 返回 current function 的 local namespace 字典</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="2-2-函数"><a href="#2-2-函数" class="headerlink" title="2.2 函数"></a>2.2 函数</h2><h3 id="知识点：可调用对象"><a href="#知识点：可调用对象" class="headerlink" title="知识点：可调用对象"></a>知识点：可调用对象</h3><ol>
<li><strong>可调用对象 callable</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* 可调用对象包括:</span><br><span class="line">  - user-defined functions</span><br><span class="line">  - built-in functions</span><br><span class="line">  - class objects，调用后返回 class 的一个新的实例对象</span><br><span class="line">  - methods of class instances，调用相关的用户定义函数，并且第一个参数是实例对象 self</span><br><span class="line">  - methods of built-in objects</span><br><span class="line">  - all objects having a __call__() method，调用对象的 __call__() 所代表的函数，并且第一个参数是实例对象 self</span><br><span class="line"></span><br><span class="line">* 调用永远有返回值</span><br><span class="line">  - 如果 callable 中未指定返回值，则默认返回 None</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>调用 callable 的格式</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  objectname([ParameterList])</span><br><span class="line">  primary.objectname([ParameterList])</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：callable-函数"><a href="#知识点：callable-函数" class="headerlink" title="知识点：callable() 函数"></a>知识点：callable() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  callable(object, /)</span><br><span class="line"></span><br><span class="line">* 介绍</span><br><span class="line">  - 检查 object 是否是一个可调用对象，返回 True/False</span><br><span class="line">  - 注意，如果返回 True，object 仍可能无法调用，如果返回 False，则 object 必然无法调用</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：函数"><a href="#知识点：函数" class="headerlink" title="知识点：函数"></a>知识点：函数</h3><ol>
<li><strong>函数 function</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 函数用来代表操作</span><br><span class="line"></span><br><span class="line">* 函数对象是一类对象 first-class objects，一类对象具有如下特权</span><br><span class="line">  - 可以被赋值给一个变量</span><br><span class="line">  - 可以嵌入到数据结构中</span><br><span class="line">  - 可以作为参数传递给函数</span><br><span class="line">  - 可以作为值被函数返回</span><br><span class="line"></span><br><span class="line">* 结束函数的执行</span><br><span class="line">  - 函数的执行结束后，控制权会移交给调用者</span><br><span class="line">  - 函数在两种情况下会结束执行:</span><br><span class="line">    执行了 return</span><br><span class="line">    抛出了 handled exception</span><br><span class="line"></span><br><span class="line">* 嵌套函数</span><br><span class="line">  - 通过在函数定义内嵌套函数定义，来定义一个局部函数 local function</span><br><span class="line">  - 局部函数可以用来被返回或传递 passed around</span><br><span class="line">  - 局部函数中的自由变量可以引用外部函数的局部变量</span><br></pre></td></tr></table></figure></li>
<li><strong>函数的返回值 return value</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 函数必然有返回值</span><br><span class="line">  - 若 function body 全部执行完成后，没有指定返回值，则返回值为 None</span><br><span class="line">  - 函数执行错误也会返回 None</span><br><span class="line"></span><br><span class="line">* 使用 return 语句用来给函数指定返回值</span><br></pre></td></tr></table></figure></li>
<li><strong>用户定义函数 User-defined functions</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">* 函数属性</span><br><span class="line">  - 函数对象也支持设置属性</span><br><span class="line">  - 目前只有用户定义函数支持设置属性，builtin 函数暂不支持</span><br><span class="line"></span><br><span class="line">* 特殊属性</span><br><span class="line">  __doc__</span><br><span class="line">  __name__        函数名</span><br><span class="line">  __qualname__    函数的 qualified name</span><br><span class="line">  __module__      定义函数的模块</span><br><span class="line">  __defaults__    参数的默认值</span><br><span class="line">  __code__        函数的 code object</span><br><span class="line">  __globals__     指向函数的 global namespace</span><br><span class="line">  __dict__        函数的 namespace</span><br><span class="line">  __closure__</span><br><span class="line">  __annotations__ 参数注解</span><br><span class="line">  __kwdefaults__  关键字参数的默认值</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：形参"><a href="#知识点：形参" class="headerlink" title="知识点：形参"></a>知识点：形参</h3><ol>
<li><strong>形参 parameter</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 函数所有的形参称为函数的正式形参列表 formal parameter list</span><br><span class="line">  - 在调用函数时需要向形参传递实参</span><br><span class="line">  - 编译期 compile time 确定形参</span><br><span class="line">  - 运行期 run time 确定形参的实参</span><br><span class="line"></span><br><span class="line">* 传递参数的要求</span><br><span class="line">  - 不可以为同一个参数重复指定值</span><br><span class="line">  - 不可以指定未定义的参数</span><br><span class="line">  - 每个参数都必须向其传递值，不可以缺失</span><br></pre></td></tr></table></figure></li>
<li><strong>函数的形参列表</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  def f(pos1, pos2, /, pos_or_kwd, *, kwd1, kwd2)</span><br><span class="line"></span><br><span class="line">* pos1, pos2</span><br><span class="line">  - 仅位置方式参数 Positional only parameters</span><br><span class="line">  - 只能使用位置参数</span><br><span class="line">  - 注意，如果使用了 &#x27;/&#x27;，则必须指定至少一个仅位置方式参数</span><br><span class="line"></span><br><span class="line">* pos_or_kwd</span><br><span class="line">  - Positional or keyword parameters</span><br><span class="line">  - 既可以使用位置参数，也可以使用关键字参数</span><br><span class="line"></span><br><span class="line">* kwd1, kwd2</span><br><span class="line">  - 仅关键字方式参数 Keyword only parameters</span><br><span class="line">  - 只能使用关键字参数</span><br><span class="line">  - 注意，如果使用了 &#x27;*&#x27;，则必须指定至少一个仅关键字方式参数</span><br></pre></td></tr></table></figure></li>
<li><strong>变长参数 variable parameter</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 也称为任意参数 Arbitrary Argument</span><br><span class="line">  - python 提供的一种特殊形参，在调用函数时，可以将超出的实参 excess arguments 收集起来</span><br><span class="line">  - 变长参数在函数定义中属于仅关键字方式参数，但在调用函数时不可以作为关键字参数显式指定</span><br><span class="line"></span><br><span class="line">* 定义格式</span><br><span class="line">  def f(pos1, pos2, /, pos_or_kwd, *[args], kwd1, kwd2[, **keys])</span><br><span class="line"></span><br><span class="line">* *args</span><br><span class="line">  - 变长位置参数 variable positional parameter</span><br><span class="line">  - 收集所有超出的位置参数，储存方式为 tuple</span><br><span class="line">  - 若不存在超出的位置参数，则为 empty tuple</span><br><span class="line">  - 注意</span><br><span class="line">    - 在语法上，*args 的星号，就是用来界定 Keyword only parameters 的那个星号</span><br><span class="line">    - 如果使用了 *args 形式，则可以不再添加 Keyword only parameters</span><br><span class="line"></span><br><span class="line">* **keys</span><br><span class="line">  - 变长关键字参数 variable keyword parameter</span><br><span class="line">  - 收集所有超出的关键字参数，储存方式为 dict</span><br><span class="line">  - 若不存在超出的关键字参数，则为 empty dict</span><br><span class="line">  - 注意，如果使用，则只能作为最后一个形参</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f01</span>(<span class="params">a,b,/,c,d,*args,**keys</span>):</span></span><br><span class="line">  <span class="keyword">pass</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：实参"><a href="#知识点：实参" class="headerlink" title="知识点：实参"></a>知识点：实参</h3><ol>
<li><strong>实参 argument</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 在运行函数时，实际传递给函数的值</span><br><span class="line">  - 实参在运行期 run time 确定</span><br><span class="line">  - 实参传递的实际上是对对象的引用，即对象的地址</span><br><span class="line">  - 实参可以是表达式，调用函数时，会先计算出实参的值，再进行函数的调用</span><br><span class="line"></span><br><span class="line">* 三种传递实参的方式</span><br><span class="line">  - 位置参数 positional argument</span><br><span class="line">  - 关键字参数 keyword argument，在调用函数时，所有的关键字参数要放在位置参数之后</span><br><span class="line">  - 默认值 default value</span><br><span class="line"></span><br><span class="line">* 实参列表可以以一个 trailing comma 结尾，并不影响语义</span><br></pre></td></tr></table></figure></li>
<li><strong>位置参数 positional argument</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 在调用函数时，按照参数的位置来传递实参</span><br></pre></td></tr></table></figure></li>
<li><strong>关键字参数 keyword argument</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 也称为 named arguments</span><br><span class="line">  - 在调用函数时，采用 keyword=value 的方式向来传递实参</span><br><span class="line">  - 关键字参数要放在位置参数之后</span><br><span class="line">  - 关键字参数的顺序不重要</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  func(keyword=value)</span><br></pre></td></tr></table></figure></li>
<li><strong>实参解包 Unpacking Argument Lists</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 通过解包的方式向函数传递实参</span><br><span class="line">  - 解包的对象必须是 iterable，可以是 list、tuple、dict 等</span><br><span class="line">  - 解包后的参数如果超出，则也会导致抛出异常 TypeError，除非对超出参数设置了收集</span><br><span class="line"></span><br><span class="line">* *name</span><br><span class="line">  - 将 iterable 的元素解包为位置参数进行传递</span><br><span class="line">  - 适用于 list、tuple 等</span><br><span class="line">  - 一个坑</span><br><span class="line">    - python 在对 slot 进行填充时，是先处理 *name 方式的实参，再处理 keyword 方式的实参</span><br><span class="line">    - 此行为会导致，当 *name 实参出现在 keyword 实参之后时，实际的填充顺序并不符合实参出现的顺序，继而可能导致重复填充，见范例三</span><br><span class="line">    - 规避方法，在调用函数时不要同时指定 keyword 实参和 *name 形式的实参</span><br><span class="line"></span><br><span class="line">* **name</span><br><span class="line">  - 将 iterable 的元素解包为关键字参数进行传递</span><br><span class="line">  - 适用于 mapping，如 dict</span><br><span class="line">  - mapping 的每一个 key 必须是 string</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例一</span></span><br><span class="line"><span class="comment"># 序列解包</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">3</span>, <span class="number">10</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">list</span>(<span class="built_in">range</span>(*a))</span><br><span class="line">[<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例二</span></span><br><span class="line"><span class="comment"># 字典解包</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=&#123;<span class="string">&#x27;file&#x27;</span>:<span class="string">&#x27;1.txt&#x27;</span>, <span class="string">&#x27;mode&#x27;</span>:<span class="string">&#x27;a+&#x27;</span>, <span class="string">&#x27;encoding&#x27;</span>:<span class="string">&#x27;gb2312&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">open</span>(**a)</span><br><span class="line">&lt;_io.TextIOWrapper name=<span class="string">&#x27;1.txt&#x27;</span> mode=<span class="string">&#x27;a+&#x27;</span> encoding=<span class="string">&#x27;gb2312&#x27;</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=&#123;<span class="string">&#x27;exp&#x27;</span>:<span class="number">2</span>, <span class="string">&#x27;base&#x27;</span>:<span class="number">10</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">pow</span>(**a)</span><br><span class="line"><span class="number">100</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例三</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">a, b</span>):</span></span><br><span class="line">  <span class="built_in">print</span>(a, b)</span><br><span class="line"></span><br><span class="line">f(b=<span class="number">1</span>, *(<span class="number">2</span>,))   <span class="comment"># 执行正常</span></span><br><span class="line">f(a=<span class="number">1</span>, *(<span class="number">2</span>,))   <span class="comment"># 执行报错，因为参数 a 已经被赋值为 2 了</span></span><br></pre></td></tr></table></figure></li>
<li><strong>实参的传递过程</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">* 针对函数的所有形参，python 会组成一个未填充的 slot 列表 unfilled slot list</span><br><span class="line">  - 列表中的每一个 slot 与相应的 parameter 对应</span><br><span class="line"></span><br><span class="line">* 首先将 positional argument 填充到前 N 个 slot 中，N 是 positional argument 的个数</span><br><span class="line"></span><br><span class="line">* 然后将 keyword argument 填充到相应的 slot 中</span><br><span class="line">  - 如果存在 slot 已被填充，则抛出异常 TypeError</span><br><span class="line">  - 如果存在 keyword argument 不与任何 parameter 匹配，则抛出异常 TypeError</span><br><span class="line"></span><br><span class="line">* 当所有实参都传递结束后，若仍存在 unfilled 的 slot，则使用默认值填充相应的 slot</span><br><span class="line"></span><br><span class="line">* 若仍存在 unfilled slot，则抛出异常 TypeError</span><br><span class="line"></span><br><span class="line">* 当所有 slot 均填充后，若仍有超出的位置参数，且未设置 variable positional parameter，则抛出异常 TypeError</span><br><span class="line"></span><br><span class="line">* 当所有 slot 均填充后，若仍有超出的关键字参数，且未设置 variable keyword parameter，则抛出异常 TypeError</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：参数默认值"><a href="#知识点：参数默认值" class="headerlink" title="知识点：参数默认值"></a>知识点：参数默认值</h3><ol>
<li><strong>参数默认值 default values</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 在调用函数时，如果没有显式向参数传递实参，则采用默认值</span><br><span class="line">  - 若参数没有默认值，则调用函数时必须显式指定参数值，此类参数称为 required argument</span><br><span class="line"></span><br><span class="line">* 限制</span><br><span class="line">  - 在定义函数时，如果一个形参具有默认值，则从此形参开始，直到 &#x27;*&#x27; 符号，之间的所有形参都需要有默认值</span><br><span class="line">  - 即，若一个 pos_only/pos_or_kwd 形参具有默认值，则其右边的所有 pos_only/pos_or_kwd 形参都必须有默认值</span><br><span class="line">  - python 官方文档中说明，此条限制并没有被 grammar notion 明确的指出</span><br></pre></td></tr></table></figure></li>
<li><strong>默认值的计算</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 默认值的计算</span><br><span class="line">  - 默认值是在编译期执行函数定义 function defination 时所计算和绑定的，并且只计算一次</span><br><span class="line">  - 因此，无论在任何时刻调用函数，使用的默认值都是同一个对象</span><br><span class="line"></span><br><span class="line">* 默认值的计算导致的一个坑，当默认值是一个可变数据类型时</span><br><span class="line">  - 因为每次函数调用，若使用默认值会使用同一个对象，因此若对可变数据类型的默认值进行修改时，会影响之后所有的函数调用，见范例二</span><br><span class="line">  - 大坑，当配合 __init__ 函数时，则可能导致不同对象间的数据干涉，此为非常隐蔽的 bug，见范例三</span><br><span class="line">  - 规避方式</span><br><span class="line">    1. 尽量不要将可变数据类型作为函数的默认值</span><br><span class="line">    2. 若必须使用可变数据类型，则将默认值设置为 None，之后在函数体中显式的执行 if is None 判断，再对形参进行相应的赋值</span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f01</span>(<span class="params">a=<span class="number">1</span>, b=<span class="number">2</span>, c=<span class="number">3</span></span>):</span></span><br><span class="line">  <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例二</span></span><br><span class="line"><span class="comment"># 默认值采用可变数据类型，导致每次函数调用返回的结果不同</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">a, L=[]</span>):</span></span><br><span class="line">  L.append(a)</span><br><span class="line">  <span class="keyword">return</span> L</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(f(<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(f(<span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(f(<span class="number">3</span>))</span><br><span class="line"><span class="comment"># 会依次输出：</span></span><br><span class="line"><span class="comment"># [1]</span></span><br><span class="line"><span class="comment"># [1, 2]</span></span><br><span class="line"><span class="comment"># [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 规避方式</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">a, L=<span class="literal">None</span></span>):</span></span><br><span class="line">  <span class="keyword">if</span> L <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">    L = []</span><br><span class="line">  L.append(a)</span><br><span class="line">  <span class="keyword">return</span> L</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例三</span></span><br><span class="line"><span class="comment"># 在 __init__() 中默认值采用可变数据类型，导致不同的对象的数据相互影响</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,name,items=[]</span>):</span></span><br><span class="line">    self.name=name</span><br><span class="line">    self.items=items</span><br><span class="line"></span><br><span class="line">a=C(<span class="string">&#x27;cat&#x27;</span>)</span><br><span class="line">b=C(<span class="string">&#x27;dog&#x27;</span>)</span><br><span class="line"></span><br><span class="line">a.items.append(<span class="string">&#x27;apple&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(b.items)</span><br><span class="line"><span class="comment"># 会发现，对 a 对象的修改造成 b 对象的属性发生了更改</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 原因，函数的定义语句是在导入函数时执行的，即 compile time</span></span><br><span class="line"><span class="comment"># 函数的使用是 runtime</span></span><br><span class="line"><span class="comment"># 函数的默认值的绑定，是在 compile time 执行的</span></span><br><span class="line"><span class="comment"># 因此，对于 __init__ 函数，只要使用默认值，则绑定的都是在 compile time 时 items 参数绑定的那个对象</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 规避方式</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self,name,items=<span class="literal">None</span></span>):</span></span><br><span class="line">    self.name=name</span><br><span class="line">    <span class="keyword">if</span> items <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">      self.items=items</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：lambda-表达式"><a href="#知识点：lambda-表达式" class="headerlink" title="知识点：lambda 表达式"></a>知识点：lambda 表达式</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* lambda 表达式，用来定义一个匿名函数 anonymous functions</span><br><span class="line">  - 匿名函数，是指没有与名称绑定的函数对象</span><br><span class="line"></span><br><span class="line">* lambda 表达式本质上是 def 语句的语法糖 syntactic sugar</span><br><span class="line">  - lambda 表达式与 def 语句一样，在解析为字节码时也是 MAKE_FUNCTION 指令</span><br><span class="line">  - lambda 表达式在结构上被限定为只能包含一个表达式</span><br><span class="line">  - lambda 表达式的结果为一个函数对象，可以出现在任何需要出现函数对象的地方</span><br><span class="line"></span><br><span class="line">* 格式：lambda ParameterList : Expression</span><br><span class="line">  - ParameterList，用来指定参数列表，格式与 def 语句相同</span><br><span class="line">  - Expression，用来指定匿名函数的计算式，并将计算结果作为返回值返回</span><br><span class="line"></span><br><span class="line">* 等价语法:</span><br><span class="line">  def &lt;lambda&gt;(parameters):</span><br><span class="line">  return expression</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 输出结果 100</span></span><br><span class="line">funx=<span class="keyword">lambda</span> x : x**<span class="number">2</span></span><br><span class="line"><span class="built_in">print</span>(funx(<span class="number">10</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将匿名函数作为参数进行传递</span></span><br><span class="line">squares = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x: x**<span class="number">2</span>, <span class="built_in">range</span>(<span class="number">10</span>)))</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：函数的注解"><a href="#知识点：函数的注解" class="headerlink" title="知识点：函数的注解"></a>知识点：函数的注解</h3><ol>
<li><strong>文档字符串 Documentation Strings</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 也称为 docstring</span><br><span class="line">  - 文档字符串可以提供给一些解析工具来生成函数的帮助文档</span><br><span class="line">  - 文档字符串储存在函数的 function.__doc__ 属性中</span><br><span class="line"></span><br><span class="line">* 文档字符串的形式</span><br><span class="line">  - 函数定义的第一个语句，如果是一个字符串，就视其为函数的文档字符串</span><br><span class="line">  - 文档字符串通常不止一行，因此通常采用长字符串 &#x27;&#x27;&#x27;XXX&#x27;&#x27;&#x27;</span><br><span class="line">  - 文档字符串从第二行开始，第一个非空行的缩进，决定了整个文档字符串在转化为帮助文档后的缩进</span><br><span class="line"></span><br><span class="line">* 习惯</span><br><span class="line">  - 第一行应当是对函数的一个简略的描述</span><br><span class="line">  - 第二行应当是一个空行，以区分描述和 docstring 的其他内容</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_function</span>():</span></span><br><span class="line">  <span class="string">&quot;&quot;&quot;Do nothing, but document it.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">      No, really, it doesn&#x27;t do anything.</span></span><br><span class="line"><span class="string">  &quot;&quot;&quot;</span></span><br><span class="line">  <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(my_function.__doc__)</span><br></pre></td></tr></table></figure></li>
<li><strong>函数注解 Function Annotations</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 函数注解是函数的可选元数据，提供给 user-defined functions</span><br><span class="line">  - 函数注解可以是任何有效的 python 表达式，但通常仅为字符串并仅用作 Type Hints，用来提示参数或返回值的类型</span><br><span class="line">  - 函数注解是在执行函数定义时被求值</span><br><span class="line">  - 函数注解与注释类似，并不改变代码的语义，不对具备任何实际程序上的功能</span><br><span class="line">  - 函数注解会以 dict 的形式，储存在 function.__annotations__ 中</span><br><span class="line">  - 主要目的</span><br><span class="line">    1. 在读取源码时更清晰</span><br><span class="line">    2. 提供给 ide 软件，继而实现各种高亮和提示</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 形参注解 Parameter annotations</span><br><span class="line">  - 为形参指定注解，用于高亮形参的类型</span><br><span class="line">  - 函数的任意参数都可以拥有注解，包括 *identifier 和 **identifier</span><br><span class="line"></span><br><span class="line">* 格式: def func(a:expression) :</span><br><span class="line">  - 在 def 语句的参数列表中，在形参名后以 &#x27;:expression&#x27; 来指定形参注解</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 返回值注解 Return annotations</span><br><span class="line">  - 为函数的返回值指定注解，用于高亮返回值的类型</span><br><span class="line"></span><br><span class="line">* 格式: def func(a,b) -&gt; expression :</span><br><span class="line">  - 在 def 语句的参数列表与 &#x27;:&#x27; 之间，以 &#x27;-&gt; expression&#x27; 的形式指定</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 范例</span><br><span class="line">def f01(a:&#x27;int&#x27;=10) -&gt; &#x27;the return value is XXX&#x27; :</span><br><span class="line">  pass</span><br><span class="line"></span><br><span class="line">Print(f01.__annotations__)    # 会输出 &#123;&#x27;a&#x27;: &#x27;apple&#x27;, &#x27;return&#x27;: &#x27;this is an apple&#x27;&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：return-语句"><a href="#知识点：return-语句" class="headerlink" title="知识点：return 语句"></a>知识点：return 语句</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 功能</span><br><span class="line">  - 在函数定义中，用来指定返回值，并结束函数的执行</span><br><span class="line">  - 当省略返回值时，返回 None</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  return [expression_list]</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：def-语句"><a href="#知识点：def-语句" class="headerlink" title="知识点：def 语句"></a>知识点：def 语句</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 创建 user-defined 函数对象，并在 current namespace 中将 FunctionName 与函数对象绑定</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  [decorators] def FunctionName ( [ParameterList] ) : Suite</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：内置函数"><a href="#知识点：内置函数" class="headerlink" title="知识点：内置函数"></a>知识点：内置函数</h3><ol>
<li><strong>内置函数介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - builtin functions</span><br><span class="line">  - 内置函数对象 built-in function object，是对于 C 函数的外部封装 wrapper</span><br><span class="line"></span><br><span class="line">* 内置函数的特殊属性</span><br><span class="line">  __doc__</span><br><span class="line">  __name__</span><br><span class="line">  __self__</span><br><span class="line">  __module__</span><br><span class="line"></span><br><span class="line">* 内置方法 Built-in methods，如 list.append()</span><br></pre></td></tr></table></figure></li>
<li><strong>基本函数</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* help()</span><br><span class="line">  - help()            进入 help 界面，支持 vi 兼容操作命令</span><br><span class="line">  - help(object)</span><br><span class="line"></span><br><span class="line">* eval()、exec()</span><br><span class="line">  - eval(expression[, globals[, locals]])</span><br><span class="line">  - exec(object[, globals[, locals]])</span><br></pre></td></tr></table></figure></li>
<li><strong>对象相关函数</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* object()</span><br><span class="line">  - object</span><br><span class="line">    - Return a new featureless object.</span><br><span class="line">    - object is a base for all classes. It has methods that are common to all instances of Python classes.</span><br><span class="line">    - This function does not accept any arguments.</span><br><span class="line">    - Note: object does not have a __dict__, so you can’t assign arbitrary attributes to an instance of the object class.</span><br></pre></td></tr></table></figure></li>
<li><strong>迭代相关函数</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* aiter()、anext()</span><br><span class="line">  - aiter(async_iterable)</span><br><span class="line">  - anext(async_iterator[, default])</span><br></pre></td></tr></table></figure></li>
<li><strong>其他函数</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* breakpoint()</span><br><span class="line"></span><br><span class="line">* compile()</span><br><span class="line"></span><br><span class="line">* slice()</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="2-3-对象"><a href="#2-3-对象" class="headerlink" title="2.3 对象"></a>2.3 对象</h2><h3 id="知识点：python-面向对象"><a href="#知识点：python-面向对象" class="headerlink" title="知识点：python 面向对象"></a>知识点：python 面向对象</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* python 对面向对象编程 Object Oriented Programming 的实现</span><br><span class="line">  - 继承 inheritance</span><br><span class="line">  - 多重继承 multiple inheritance</span><br><span class="line">  - 覆盖 override</span><br><span class="line"></span><br><span class="line">* 面向对象的三大特征，封装、多态、继承</span><br></pre></td></tr></table></figure></li>
<li><strong>python 的标准类型层级结构 the standard type hierarchy</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">* None</span><br><span class="line">* NotImplemented</span><br><span class="line">* Ellipsis</span><br><span class="line">* numbers.Number</span><br><span class="line">  - numbers.Integral</span><br><span class="line">    - int</span><br><span class="line">    - bool</span><br><span class="line">  - numbers.Real</span><br><span class="line">    - float</span><br><span class="line">  - numbers.Complex</span><br><span class="line">    - complex</span><br><span class="line">* Sequences</span><br><span class="line">  - Immutable sequences</span><br><span class="line">    - Strings</span><br><span class="line">    - Tuples</span><br><span class="line">    - Bytes</span><br><span class="line">  - Mutable sequences</span><br><span class="line">    - Lists</span><br><span class="line">    - Byte Arrays</span><br><span class="line">* Set types</span><br><span class="line">  - Sets</span><br><span class="line">  - Frozen sets</span><br><span class="line">* Mappings</span><br><span class="line">  - Dictionaries</span><br><span class="line">* Callable types</span><br><span class="line">  - User-defined functions</span><br><span class="line">  - Instance methods</span><br><span class="line">  - Generator functions</span><br><span class="line">  - Coroutine functions</span><br><span class="line">  - Asynchronous generator functions</span><br><span class="line">  - Built-in functions</span><br><span class="line">  - Built-in methods</span><br><span class="line">  - Classes</span><br><span class="line">  - Class Instances</span><br><span class="line">* Modules</span><br><span class="line">* Custom classes</span><br><span class="line">* I/O objects (also known as file objects)</span><br><span class="line">* Internal types</span><br><span class="line">  - Code objects</span><br><span class="line">  - Frame objects</span><br><span class="line">  - Traceback objects</span><br><span class="line">  - Slice objects</span><br><span class="line">  - Static method objects</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：对象"><a href="#知识点：对象" class="headerlink" title="知识点：对象"></a>知识点：对象</h3><ol>
<li><strong>对象 object</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 对象，是对数据的抽象</span><br><span class="line">  - python 中一切皆对象，一切数据均使用对象表示</span><br><span class="line">    - 数据是对象</span><br><span class="line">    - 函数是对象</span><br><span class="line">    - 类是对象</span><br><span class="line">    - 模块是对象</span><br><span class="line">  - 所有的对象相互独立</span><br><span class="line">  - 每个对象均有身份 identity、类型 type、值 value</span><br><span class="line"></span><br><span class="line">* 对象的身份 identity</span><br><span class="line">  - identity 用于标识对象</span><br><span class="line">  - identity 在创建对象时确定，在对象的生命期内不会改变</span><br><span class="line">  - 在 cpython 中，identity 就是对象的内存地址</span><br><span class="line">  - 操作符 is 通过比较 identity 是否相同来检查两个 name 是否指向同一个对象</span><br><span class="line"></span><br><span class="line">* 对象的类型 type</span><br><span class="line">  - 对象的类型决定了对象支持的操作和值</span><br><span class="line">  - 对象的类型在创建对象时确定，在对象的生命期内不会改变</span><br><span class="line">  - 对象的类型储存在 object.__class__ 中</span><br><span class="line"></span><br><span class="line">* 对象的值 value</span><br><span class="line">  - 在 python 中，对象的值是一个非常抽象的概念</span><br><span class="line">    - 对象的值并没有一个直接的定义规范</span><br><span class="line">    - 对象的值并没有一个规范的访问方法</span><br><span class="line">    - 对象的值并不要求具有特定的构建方式，例如由其全部数据属性组成等</span><br><span class="line">  - 只有比较运算针对对象的值实现一些特定的概念，因此，某种程度上可以认为通过实现对象的比较运算的方法，间接定义了对象的值</span><br><span class="line">  - 对象的值有些可以改变，有些不能改变</span><br><span class="line">    - 可以改变值的对象，称为 mutable</span><br><span class="line">    - 不可以改变值的对象，称为 immutable</span><br></pre></td></tr></table></figure></li>
<li><strong>对象的删除</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* 本质上，对象并不是被删除，而是被忘记 forgeted</span><br><span class="line">  - 每个对象都维持了一个引用计数器 reference counter，用于记录当前与多少个 name 绑定</span><br><span class="line">  - 每次赋值/绑定，对象的计数器加一</span><br><span class="line">  - 每次删除/忘记，对象的计数器减一</span><br><span class="line">  - 当对象的计数器降为 0 时，对象就处于不可见状态</span><br><span class="line">  - 不可见状态的对象并未被删除，仍存在于内存中，等待垃圾回收</span><br><span class="line"></span><br><span class="line">* 垃圾回收</span><br><span class="line">  - 对象无法被显式的摧毁，只能被垃圾回收</span><br><span class="line">  - python 自己维护了一个垃圾回收机制，不定期在内存中搜索不可见状态的数据，并删除</span><br><span class="line">  - 可以通过导入垃圾回收器模块 gc，执行 gc.collect() 来强制收集和回收垃圾</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：id-函数"><a href="#知识点：id-函数" class="headerlink" title="知识点：id() 函数"></a>知识点：id() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 作用</span><br><span class="line">  - 返回对象的 identity，形式为一个 integer</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  id(object)</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="2-4-属性"><a href="#2-4-属性" class="headerlink" title="2.4 属性"></a>2.4 属性</h2><h3 id="知识点：属性"><a href="#知识点：属性" class="headerlink" title="知识点：属性"></a>知识点：属性</h3><ol>
<li><strong>属性 attribute</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 对象的属性，是指对象中所包含的其他的对象，也称为对象的成员</span><br><span class="line">  - 属性用来表示对象的某个性质</span><br><span class="line">  - 属性不是对象的值</span><br><span class="line">  - 属性记录在对象的 namespace 中</span><br><span class="line">  - 属性可以是 read-only，也可以是 writable</span><br><span class="line">    - 对于 user-defied 对象，对象可以包含任意数量、任意类型的属性，可以任意添加、任意修改、任意删除属性</span><br><span class="line">    - 对于 builtin data types 对象，属性是固定的，不可随意更改、添加</span><br><span class="line">    - 模块对象的属性都是 writable 的</span><br><span class="line">  - 可以使用 del 语句来删除对象的属性</span><br><span class="line"></span><br><span class="line">* 对象的属性有两种</span><br><span class="line">  - 数据属性 data attribute</span><br><span class="line">    - 用来表示对象的数据特性</span><br><span class="line">    - 相当于 Smalltalk 中的 instance variables</span><br><span class="line">    - 相当于 C++ 中的 data members</span><br><span class="line">  - 方法 method</span><br><span class="line">    - 用来表示对象的行为特性</span><br><span class="line"></span><br><span class="line">* 使用点式引用法 dotted reference 来引用对象的属性</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：hasattr-、getattr-、setattr-、delattr-函数"><a href="#知识点：hasattr-、getattr-、setattr-、delattr-函数" class="headerlink" title="知识点：hasattr()、getattr()、setattr()、delattr() 函数"></a>知识点：hasattr()、getattr()、setattr()、delattr() 函数</h3><ol>
<li><strong>hasattr()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  hasattr(object, name, /)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 检查对象 object 是否具有属性 name，返回 True/False</span><br><span class="line">  - 通过调用 getattr() 函数来实现</span><br><span class="line"></span><br><span class="line">* 参数 name</span><br><span class="line">  - 类型为 str，用于指定属性的名称</span><br></pre></td></tr></table></figure></li>
<li><strong>getattr()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  getattr(object, name, /)</span><br><span class="line">  getattr(object, name, default, /)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回对象 object 的属性 name 所代表的对象</span><br><span class="line">  - 作用与 object.name 等价</span><br><span class="line"></span><br><span class="line">* 参数 name</span><br><span class="line">  - 类型为 str，用于指定属性的名称</span><br></pre></td></tr></table></figure></li>
<li><strong>setattr()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  setattr(object, name, value, /)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 设置对象 object 的属性 name 的值</span><br><span class="line">  - 作用与 object.name=value 等价</span><br><span class="line"></span><br><span class="line">* 参数 name</span><br><span class="line">  - 类型为 str，用于指定属性的名称</span><br><span class="line">  - 可以是 object 并不具有的属性</span><br><span class="line"></span><br><span class="line">* 参数 value</span><br><span class="line">  - 用于指定属性所需要绑定的对象，可以是任意类型</span><br></pre></td></tr></table></figure></li>
<li><strong>delattr()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  delattr(object, name, /)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 删除对象的某个属性</span><br><span class="line">  - 作用与 del object.name 等价</span><br></pre></td></tr></table></figure></li>
<li><strong>反射 reflaction</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* 反射，是指基于字符串而不是代码来引用和操作对象的属性</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例，通过用户的输入访问相应的页面</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Web</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">home</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;欢迎来到主页&quot;</span>)</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">login</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;欢迎来到登录页面&quot;</span>)</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">product</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;欢迎来到产品页面&quot;</span>)</span><br><span class="line"></span><br><span class="line">w=Web()</span><br><span class="line"></span><br><span class="line">choose=<span class="built_in">input</span>(<span class="string">&quot;请输入要访问的页面：&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">hasattr</span>(w,choose):</span><br><span class="line">  <span class="built_in">getattr</span>(w, choose)()</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：私有属性"><a href="#知识点：私有属性" class="headerlink" title="知识点：私有属性"></a>知识点：私有属性</h3><ol>
<li><strong>私有属性</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">* 公共属性 public</span><br><span class="line">  - 是指可以从对象外部访问和操作的属性</span><br><span class="line">  - 本质上，python 中对象的属性都是公共的</span><br><span class="line"></span><br><span class="line">  类的属性是公共的 public，即类的所有属性都可以从类的外部进行访问</span><br><span class="line"></span><br><span class="line">* 私有属性 Private Variables</span><br><span class="line">  - 是指只能在对象内部进行访问和操作的属性，并不对外暴露</span><br><span class="line">  - python 本质上并没有私有属性的概念，而是通过名称改写机制来满足对私有属性的需求</span><br><span class="line">  - 私有属性都是在类中进行定义</span><br><span class="line">  - 类私有属性可以避免与父类或子类的属性发生名称冲突</span><br><span class="line"></span><br><span class="line">* 名称改写机制 mangling</span><br><span class="line">  - python 规定，在类中定义的属性，如果名称 name 符合特定的格式，则会自动进行改写</span><br><span class="line">    1. 如果一个属性以一个 &#x27;_&#x27; 开头，则习惯上应认为此属性是 non-public 的，此为一条编程习惯</span><br><span class="line">    2. 如果一个属性以至少两个 &#x27;_&#x27; 开头，以至多一个 &#x27;_&#x27; 结尾，则 python 会自动对此属性的 identifier 进行改写</span><br><span class="line">  - 改写发生在编译期，在执行 class definition 完成</span><br><span class="line">  - 改写的方式</span><br><span class="line">    - 在 identifier 在前面加上 &#x27;_classname&#x27; 的前缀，如 __spam_ 改写后为 _classname__spam_</span><br><span class="line">  - 在类的 __init__() 中定义私有属性，可以为实例对象设置私有属性</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：property-类型"><a href="#知识点：property-类型" class="headerlink" title="知识点：property 类型"></a>知识点：property 类型</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* property 类型</span><br><span class="line">  - 也称为特性</span><br><span class="line">  - python 提供的类型，作用是对属性引用进行转移</span><br><span class="line">  - property 对象通常放在 class 中，用来对私有属性提供外部的访问接口</span><br><span class="line"></span><br><span class="line">* constructor</span><br><span class="line">  class property(fget=None, fset=None, fdel=None, doc=None)</span><br><span class="line"></span><br><span class="line">* 属性</span><br><span class="line">  - getter，储存函数，当对 property 对象进行 get 操作时，返回对此函数的调用</span><br><span class="line">  - setter，储存函数，当对 property 对象进行 set 操作时，返回对此函数的调用</span><br><span class="line">  - deleter，储存函数，当对 property 对象进行 delete 操作时，返回对此函数的调用</span><br><span class="line">  - fget，储存 constructor 中的 fget 参数</span><br><span class="line">  - fset，储存 constructor 中的 fset 参数</span><br><span class="line">  - fdel，储存 constructor 中的 fdel 参数</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="comment"># 私有属性 __x 通过 property 对象 x 提供了外部的操作接口</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">    self.__x = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">getx</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">return</span> self.__x</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">setx</span>(<span class="params">self, value</span>):</span></span><br><span class="line">    self.__x = value</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">delx</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">del</span> self.__x</span><br><span class="line"></span><br><span class="line">  x = <span class="built_in">property</span>(getx, setx, delx)</span><br></pre></td></tr></table></figure></li>
<li><strong>装饰器用法</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* &#x27;@property&#x27; 形式</span><br><span class="line">  - 创建一个 property 对象，同时设置 property 对象的 getter</span><br><span class="line">  - property 对象的名称与 getter 函数的名称相同</span><br><span class="line">  - 只能对 get 函数进行装饰</span><br><span class="line">  - 参数 doc 默认会读取参数 fget 的 docstring</span><br><span class="line"></span><br><span class="line">* &#x27;@x.getter&#x27;</span><br><span class="line">* &#x27;@x.setter&#x27;</span><br><span class="line">* &#x27;@x.deleter&#x27;</span><br><span class="line">  - 将相应的函数设置为 property 对象 x 的 getter、setter、deleter</span><br><span class="line">  - 此种用法，所有的函数名必须与 property 对象同名</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">    self._x = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">  x=<span class="built_in">property</span>()        <span class="comment"># 此处也可以使用 @property</span></span><br><span class="line">                      <span class="comment">#</span></span><br><span class="line"><span class="meta">  @x.getter           </span><span class="comment">#</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">x</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;I&#x27;m the &#x27;x&#x27; property.&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> self._x</span><br><span class="line"></span><br><span class="line"><span class="meta">  @x.setter</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">x</span>(<span class="params">self, value</span>):</span></span><br><span class="line">    self._x = value</span><br><span class="line"></span><br><span class="line"><span class="meta">  @x.deleter</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">x</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">del</span> self._x</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：特殊属性"><a href="#知识点：特殊属性" class="headerlink" title="知识点：特殊属性"></a>知识点：特殊属性</h3><ol>
<li><strong>特殊属性 special attribute</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 特殊属性，即具有特殊意义的属性，在某些情况下 python 会自动调用这些属性</span><br><span class="line">  - 形式上都是以 __XXXX__ 格式命名</span><br><span class="line">  - 特殊方法属性也被称为特殊方法 special method</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="2-5-类"><a href="#2-5-类" class="headerlink" title="2.5 类"></a>2.5 类</h2><h3 id="知识点：类"><a href="#知识点：类" class="headerlink" title="知识点：类"></a>知识点：类</h3><ol>
<li><strong>类 class</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 类，用来将数据和功能绑定在一起</span><br><span class="line"></span><br><span class="line">* 类对象支持两种操作</span><br><span class="line">  1. 属性引用 attribute references</span><br><span class="line">  2. 实例化 instantiation</span><br><span class="line">    - 生成一个新的对象，即实例对象</span><br></pre></td></tr></table></figure></li>
<li><strong>类的特殊属性</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* __name__        类名</span><br><span class="line"></span><br><span class="line">* __module__      定义类的模块的模块名</span><br><span class="line"></span><br><span class="line">* __dict__        类的命名空间字典</span><br><span class="line"></span><br><span class="line">* __bases__       类的基类，形式为 tuple</span><br><span class="line"></span><br><span class="line">* __doc__</span><br><span class="line"></span><br><span class="line">* __annotations__</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：实例对象"><a href="#知识点：实例对象" class="headerlink" title="知识点：实例对象"></a>知识点：实例对象</h3><ol>
<li><strong>实例对象 Class instances</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 类在执行实例化 instantiation 操作后，会创建一个实例对象</span><br><span class="line"></span><br><span class="line">* 实例对象只支持一个操作，即属性引用 attribute references</span><br><span class="line">  - 实例对象引用的属性，既可以是自己的属性，也可以是类的属性</span><br><span class="line">  - 属性既可以是数据属性，也可以是函数属性</span><br><span class="line">  - 属性引用的过程</span><br><span class="line">    - 首先在实例对象的 namespace 搜索</span><br><span class="line">    - 如果没有找到，则会搜索类对象的 namespace</span><br><span class="line"></span><br><span class="line">* 特殊属性</span><br><span class="line">  __class__   对象的类对象</span><br><span class="line">  __dict__    对象的命名空间字典</span><br></pre></td></tr></table></figure></li>
<li><strong>实例对象的属性</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 类属性</span><br><span class="line">  - 类的属性是被类所有的实例对象所共享</span><br><span class="line">  - 若某一个实例对象对类的属性进行修改，则会影响所有的实例对象</span><br><span class="line"></span><br><span class="line">* 实例属性</span><br><span class="line">  - 实例属性为实例对象所私有的</span><br><span class="line">  - 对实例属性所做的修改不会影响到其他的实例对象</span><br><span class="line">  - 实例属性应当在 __init__() 进行初始化</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tricks 为类属性</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name</span>):</span></span><br><span class="line">    self.name = name</span><br><span class="line">  tricks = []</span><br><span class="line"></span><br><span class="line"><span class="comment"># tricks 为实例私有属性，每一个实例对象都会具有自己的空列表对象</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name</span>):</span></span><br><span class="line">    self.name = name</span><br><span class="line">    self.tricks = []</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：class-语句"><a href="#知识点：class-语句" class="headerlink" title="知识点：class 语句"></a>知识点：class 语句</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 定义类的语句</span><br><span class="line">  - 创建一个新的类，并在 current namespace 中绑定 class_name</span><br><span class="line"></span><br><span class="line">* 类需要先定义，才能生效</span><br><span class="line">  - 因此定义类的语句要放在使用类的语句之前</span><br><span class="line"></span><br><span class="line">* 新建类时，会同时新建类的 namespace</span><br><span class="line">  - 在创建类的过程中，current namespace 为类的 local namespace</span><br><span class="line">  - 在类中创建的对象都绑定在类的 namespace 中</span><br><span class="line">  - 当类创建完成后，退出类的 local namespace，返回执行语句时的 current namespace，并使用类名作为 identifier 绑定类对象储存在其中</span><br></pre></td></tr></table></figure></li>
<li><strong>格式</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ClassName</span>:</span> Suite</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ClassName</span>(<span class="params">BaseClass[, ...]</span>):</span> Suite</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：构造器"><a href="#知识点：构造器" class="headerlink" title="知识点：构造器"></a>知识点：构造器</h3><ol>
<li><strong>构造器 constructor</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 执行类的实例化操作，创建一个类的实例对象</span><br><span class="line">  - 函数名默认为类名</span><br></pre></td></tr></table></figure></li>
<li><strong><strong>new</strong>() 方法</strong></li>
<li><strong><strong>init</strong>() 方法</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 在类的定义中，使用 __init__() 方法来指定对新创建的实例对象的初始化操作，如初始化数据属性</span><br><span class="line">  - 用户自定义的类默认具有 __init__() 方法</span><br><span class="line">  - __init__() 方法的第一个是 self</span><br><span class="line">  - __init__() 方法的参数决定了类的构造器 constructor 的参数</span><br><span class="line">  - 若不指定 __init__() 方法，则默认的 __init__() 方法为一个空函数</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">    self.x=<span class="number">1</span></span><br><span class="line">    self.y=<span class="number">2</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：方法"><a href="#知识点：方法" class="headerlink" title="知识点：方法"></a>知识点：方法</h3><ol>
<li><strong>方法 method</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 方法，就是在类中定义的函数对象</span><br><span class="line">  - 方法会作为类的一个属性而存在，记录在类的 namespace 中</span><br><span class="line">  - 方法的意义，是将操作与类进行绑定</span><br><span class="line"></span><br><span class="line">* 类的所有方法，均可以通过常规方式 class.method() 进行调用</span><br></pre></td></tr></table></figure></li>
<li><strong>实例方法 instance method</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 对实例对象进行的操作</span><br><span class="line">  - 类中的函数，如果不加任何装饰，默认都是实例方法</span><br><span class="line"></span><br><span class="line">* object.method()</span><br><span class="line">  - 实例方法具有的特有的调用方式</span><br><span class="line">  - 此方式具有特有的参数传递方式: 在调用时会自动将 object 作为第一个参数传递给方法</span><br><span class="line">    - 因此，在定义实例方法时，习惯将第一个形参写为 self</span><br><span class="line">    - 因此，实例方法必须至少有一个形参，以对应 self</span><br><span class="line">  - 本质上与 class.method(object,*) 相同</span><br><span class="line"></span><br><span class="line">* 其他</span><br><span class="line">  1. 方法中可以通过 class.method() 的方式引用同一个类中的其他方法，前提是另一个方法需要是 textually 在之前已经出现过</span><br><span class="line">  2. 如果实例对象具有自己的额外的属性，且与方法重名，则会将方法覆盖，此时只能使用 class.method(*) 的方式调用方法</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">fun_c</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure></li>
<li><strong>类方法 class method</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 类方法，默认将 class 对象作为第一个参数传给函数</span><br><span class="line">  - 因此，在定义类方法时，习惯将第一个形参写为 cls</span><br><span class="line">  - 因此，类方法必须至少有一个形参，对应 cls</span><br><span class="line"></span><br><span class="line">* 类方法可以通过 object.method() 方式进行调用，也可以通过 class.method() 方式进行调用</span><br><span class="line">  - 无论哪种调用方式，都会将 class object 作为第一个实参传递给函数</span><br><span class="line"></span><br><span class="line">* 使用装饰器 @classmethod 来定义类方法</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span></span><br><span class="line"><span class="meta">  @classmethod</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">fun_c</span>(<span class="params">cls</span>):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure></li>
<li><strong>静态方法 static method</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 静态方法，不会额外传递任何参数，即与普通函数相同，因此静态方法可以没有形参</span><br><span class="line">  - 静态方法只能通过 class.method() 方式进行调用</span><br><span class="line"></span><br><span class="line">* 使用装饰器 @staticmethod 来定义类方法</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span></span><br><span class="line"><span class="meta">  @staticmethod</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">fun_c</span>():</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure></li>
<li><strong>方法对象 instance method object</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 方法在执行过程中的中间态对象</span><br><span class="line">  - 将类对象、实例对象、函数对象打包，组成一个方法对象</span><br><span class="line">  - 每一次通过实例对象来调用实例方法，都会进行一次方法对象的生成</span><br><span class="line"></span><br><span class="line">* 实例方法对象的特殊属性</span><br><span class="line">  __doc__</span><br><span class="line">  __name__    方法的 name</span><br><span class="line">  __self__    返回调用方法的对象，如果调用的是实例方法则返回实例对象，如果调用的是类方法则返回类对象</span><br><span class="line">  __func__    返回对应的函数对象</span><br><span class="line">  __module__  方法所在的模块</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：type-函数"><a href="#知识点：type-函数" class="headerlink" title="知识点：type() 函数"></a>知识点：type() 函数</h3><ol>
<li><strong>格式一</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  class type(object, /)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回对象的类对象</span><br><span class="line">  - 通常就是 object.__class__</span><br></pre></td></tr></table></figure></li>
<li><strong>格式二</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  class type(name, bases, dict, /, **kwds)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 创建一个新的类</span><br><span class="line">  - 相当于 class 语句的动态形式</span><br><span class="line"></span><br><span class="line">* 参数 name</span><br><span class="line">  - str 类型，指定类名</span><br><span class="line"></span><br><span class="line">* 参数 bases</span><br><span class="line">  - tuple 类型，指定基类</span><br><span class="line"></span><br><span class="line">* 参数 dict</span><br><span class="line">  - dict 类型，为类指定属性和方法</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：isinstance-函数"><a href="#知识点：isinstance-函数" class="headerlink" title="知识点：isinstance() 函数"></a>知识点：isinstance() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  isinstance(object, classinfo)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 检查 object 是否是 class 的实例对象，或者是 class 的某个子孙类的实例对象</span><br><span class="line">  - 返回值为 True/False</span><br><span class="line"></span><br><span class="line">* 参数 classinfo</span><br><span class="line">  - 可以是一个类对象</span><br><span class="line">  - 可以是一个元素为类对象的 tuple，只要有一个类对象返回 True 则函数返回 True</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="2-6-继承"><a href="#2-6-继承" class="headerlink" title="2.6 继承"></a>2.6 继承</h2><h3 id="知识点：继承"><a href="#知识点：继承" class="headerlink" title="知识点：继承"></a>知识点：继承</h3><ol>
<li><strong>继承 Inheritance</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 在已知类的基础上，创建新的类，以减少代码的重复性</span><br><span class="line">  - 已知类称为基类 bash class 或父类 parent class</span><br><span class="line">  - 新类称为派生类 derived class</span><br><span class="line">  - 继承的作用</span><br><span class="line">    - 派生类的实例对象可以引用父类的属性</span><br><span class="line">    - 派生类的类定义中可以使用 super() 函数来引用父类的属性</span><br><span class="line"></span><br><span class="line">* 多重继承 Multiple Inheritance</span><br><span class="line">  - 在创建类时，使用多个基类</span><br><span class="line">  - 派生类会继承所有基类的属性</span><br><span class="line"></span><br><span class="line">* 覆盖 override</span><br><span class="line">  - 在派生类的定义中，如果指定了一个属性与某个基类的某个属性同名，则基类的此属性会被覆盖</span><br><span class="line">  - 当实例对象引用属性时，将会指向派生类的属性而不是基类的属性</span><br><span class="line">  - 此时，仍可以通过 BaseClass.attribute 来直接引用基类的属性</span><br><span class="line">  - 对于方法，还可以使用 super().method 来引用基类的方法</span><br></pre></td></tr></table></figure></li>
<li><strong>语法</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DerivedClassName</span>(<span class="params">BaseClassName[,BaseClassName]</span>):</span> Suite</span><br><span class="line"></span><br><span class="line"><span class="comment"># BaseClassName 可以是类名，也可以是一个表达式</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：object-类"><a href="#知识点：object-类" class="headerlink" title="知识点：object 类"></a>知识点：object 类</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">* object 类</span><br><span class="line">  - 在 python 中，object 类是所有类的祖先类，它为类提供了所有的通用的方法</span><br><span class="line">  - 如果一个类没有指定基类，则默认其基类是 object</span><br><span class="line"></span><br><span class="line">* object 类没有 __dict__，因此不支持为 object 类的实例对象添加属性</span><br><span class="line"></span><br><span class="line">* constructor</span><br><span class="line">  class object()</span><br><span class="line"></span><br><span class="line">* object 提供的通用方法</span><br><span class="line">  &#x27;__class__&#x27;</span><br><span class="line">  &#x27;__new__&#x27;</span><br><span class="line">  &#x27;__init__&#x27;</span><br><span class="line">  &#x27;__dir__&#x27;</span><br><span class="line">  &#x27;__doc__&#x27;</span><br><span class="line">  &#x27;__format__&#x27;</span><br><span class="line">  &#x27;__gt__&#x27;</span><br><span class="line">  &#x27;__ge__&#x27;</span><br><span class="line">  &#x27;__lt__&#x27;</span><br><span class="line">  &#x27;__le__&#x27;</span><br><span class="line">  &#x27;__eq__&#x27;</span><br><span class="line">  &#x27;__ne__&#x27;</span><br><span class="line">  &#x27;__getattribute__&#x27;</span><br><span class="line">  &#x27;__setattr__&#x27;</span><br><span class="line">  &#x27;__delattr__&#x27;</span><br><span class="line">  &#x27;__getstate__&#x27;</span><br><span class="line">  &#x27;__hash__&#x27;</span><br><span class="line">  &#x27;__init_subclass__&#x27;</span><br><span class="line">  &#x27;__reduce__&#x27;</span><br><span class="line">  &#x27;__reduce_ex__&#x27;</span><br><span class="line">  &#x27;__sizeof__&#x27;</span><br><span class="line">  &#x27;__repr__&#x27;</span><br><span class="line">  &#x27;__str__&#x27;</span><br><span class="line">  &#x27;__subclasshook__&#x27;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：MRO-链"><a href="#知识点：MRO-链" class="headerlink" title="知识点：MRO 链"></a>知识点：MRO 链</h3><ol>
<li><strong>MRO 链 method resolution order</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 当引用类的 method 时，如果需要向基类/基类的基类中进行解析，则基类的解析的顺序就是 mro 链</span><br><span class="line">  - 在创建类时，会记住所有的基类以及基类的顺序，以构建 mro 链</span><br><span class="line">  - mro 链以元组的储存在 class.__mro__ 中</span><br><span class="line">  - mro 链原则上遵循 depth-first、left-to-right 的原则</span><br><span class="line"></span><br><span class="line">* mro 链的构建原则，是对类的继承结构扁平化后得到的一个线性顺序，以压缩 diamond relationships</span><br><span class="line">  - 保证每个基类只会被搜索一次</span><br><span class="line">  - mro 链的最后一个类为一定为 object 类</span><br><span class="line"></span><br><span class="line">* mro 链支持动态顺序改变 Dynamic ordering，以适应基类变动，以保证稳定性和可扩展性</span><br><span class="line">  - python 的这种解析算法，结合了单继承 single-inheritance 的 super call 和多继承的 call-next-method，称为 C3 MRO(C3 method resolution)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：issubclass-函数"><a href="#知识点：issubclass-函数" class="headerlink" title="知识点：issubclass() 函数"></a>知识点：issubclass() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  issubclass(class, classinfo)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 检查 class 是否是 classinfo 的子类，或者是 classinfo 的某个子类的子类</span><br><span class="line"></span><br><span class="line">* 参数 classinfo</span><br><span class="line">  - 可以是一个类对象</span><br><span class="line">  - 可以是一个元素为类对象的 tuple，只要有一个类对象返回 True 则函数返回 True</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：super-函数"><a href="#知识点：super-函数" class="headerlink" title="知识点：super() 函数"></a>知识点：super() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* 作用</span><br><span class="line">  - 返回一个 super 对象</span><br><span class="line">  - super 对象是 python 的内置对象，用于指导如何在 mro 链上进行解析</span><br><span class="line">  - super 对象会在指定的 mro 链上搜索方法，并将搜索到的方法作指定的对象上</span><br><span class="line"></span><br><span class="line">* super() 最常用的场景，就是导入基类的 __init__()</span><br><span class="line">  - 如果不导入，则基类的 __init__() 会被派生类的 __init__() 覆盖，则派生类的实例对象无法获得基类的属性</span><br><span class="line"></span><br><span class="line">* 一个难点</span><br><span class="line">  - super() 套 super() 的情况，在多重继承时，可能产生一个反直觉的现象，即类的 super() 函数并不会返回父类的方法</span><br><span class="line">  - 见范例三</span><br></pre></td></tr></table></figure></li>
<li><strong>用法</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  class super([type[, object-or-type]])</span><br><span class="line"></span><br><span class="line">* super().method()</span><br><span class="line">  - 指定 super 对象在 mro 链中搜索哪个方法</span><br><span class="line"></span><br><span class="line">* 参数 type</span><br><span class="line">  - 指定从 mro 链上哪个项以后开始搜索</span><br><span class="line">  - 例如，mro 链为 D -&gt; C -&gt; B -&gt; A -&gt; object，则 super(C) 表示从 C 之后开始搜索，即 B -&gt; A -&gt; object</span><br><span class="line">  - 黑魔法，设定默认值</span><br><span class="line">    - 当 python 检测到 super() 是用在一个 class definition 中时，会将 type 参数的默认值设置为这个 class</span><br><span class="line">    - 其他情况则 type 参数不可省略</span><br><span class="line"></span><br><span class="line">* 参数 object-or-type</span><br><span class="line">  - 可以是一个对象，或者是一个类</span><br><span class="line">  - 两个作用</span><br><span class="line">    1. 使用哪个对象的 mro 链来搜索方法</span><br><span class="line">    2. 将搜索到的方法作用于哪个对象上，并将此对象作为搜索到的方法的第一个实参</span><br><span class="line">      - 即达成的效果为 super().method(object-or-type, XXXX)</span><br><span class="line">  - 黑魔法，设定默认值</span><br><span class="line">    1. 当 python 检测到 super() 是用在一个 class definition 中的某个 function definition 时，会将 object-or-type 的默认值设定为此 function 的第一个参数</span><br><span class="line">      - 例如，当 super() 用在 def __init__(self) 中时，则 object-or-type 的默认值就是 self</span><br><span class="line">    2. 其他情况，object-or-type 不可省略</span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例一</span></span><br><span class="line"><span class="comment"># 常用方式，通过 super 来获得基类的属性</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 基类 A</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">    self.xa = <span class="string">&#x27;A&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 基类 B</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>(<span class="params">A</span>):</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="built_in">super</span>().__init__()    <span class="comment"># 保证 B 的实例对象可以获得 A 的属性 xa</span></span><br><span class="line">    self.xb=<span class="string">&#x27;B&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 派生类 C</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>(<span class="params">B</span>):</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="built_in">super</span>().__init__()    <span class="comment"># 保证 C 的实例对象可以获得 B 的属性</span></span><br><span class="line">                          <span class="comment"># 因为 B 已经获得 A 的属性，所以 C 可以同时获得 xa、xb</span></span><br><span class="line">    self.xc=<span class="string">&#x27;C&#x27;</span></span><br><span class="line"></span><br><span class="line">o=C()</span><br><span class="line"><span class="built_in">print</span>(o.xa,o.xb,o.xc)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例二</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, age</span>):</span></span><br><span class="line">    self.age=age</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">Animal</span>):</span></span><br><span class="line">  def__init__(self, age, name):</span><br><span class="line">    <span class="built_in">super</span>().__init__(age)           <span class="comment"># 相当于 super(Person, self).__init__(age)</span></span><br><span class="line">    self.name=name</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Male</span>(<span class="params">Person</span>):</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, age, name</span>):</span></span><br><span class="line">    <span class="built_in">super</span>().__init__(age, name)     <span class="comment"># 相当于 super(Male, self).__init__(age, name)</span></span><br><span class="line">    self.gender=<span class="string">&quot;Male&quot;</span></span><br><span class="line"></span><br><span class="line">m=M(<span class="number">15</span>, <span class="string">&quot;jack&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># super 过程解析：</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># m 对象在创建时，执行 Male.__init__(m, 15, &quot;jack&quot;)</span></span><br><span class="line"><span class="comment">#   * m 获得属性 m.gender=&quot;Male&quot;</span></span><br><span class="line"><span class="comment">#   * 执行其中的 super() 函数，格式为 super(Male, m).__init__(15, &quot;jack&quot;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># super(M, m).__init__(15, &quot;jack&quot;) 会找到 Person.__init__() 函数，然后以格式 Person.__init__(m, 15, &quot;jack&quot;) 执行此函数</span></span><br><span class="line"><span class="comment">#   * m 获得属性 m.name=&quot;jack&quot;</span></span><br><span class="line"><span class="comment">#   * 执行其中的 super() 函数，格式为 super(Person, m).__init__(15)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># super(Person, m).__init__(15) 会找到 Animal.__init__() 函数，然后以格式 Animal.__init__(m, 15) 执行此函数</span></span><br><span class="line"><span class="comment">#   * m 获得属性 m.age=15</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例三</span></span><br><span class="line"><span class="comment"># 使用 super()，导致 B 继承到与它完全没有继承关系的类 C 的方法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">say</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;A&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span>(<span class="params">A</span>):</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">say</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="built_in">super</span>().say()         <span class="comment"># 相当于 super(B, self).say()</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>(<span class="params">A</span>):</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">say</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;C&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">M</span>(<span class="params">B,C</span>):</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">say</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="built_in">super</span>().say()         <span class="comment"># 相当于 super(M, self).say()</span></span><br><span class="line"></span><br><span class="line">m=M()</span><br><span class="line">m.say()</span><br><span class="line"><span class="comment"># 输出的结果为 &#x27;C&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 执行过程：</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># * m.say()，实际执行 M.say(m)</span></span><br><span class="line"><span class="comment"># * M.say(m)，会执行其中的 super() 函数，格式为 super(M, m).say()</span></span><br><span class="line"><span class="comment">#     - 使用 m 的 mro 链，即 M -&gt; B -&gt; C -&gt; A</span></span><br><span class="line"><span class="comment">#     - 从 M 以后开始搜索，即搜索的 mro 链实际为 B -&gt; C -&gt; A</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># * super(M, m).say() 在 B 中找到函数 B.say()，执行它，格式为 B.say(m)</span></span><br><span class="line"><span class="comment"># * B.say(m) 会执行其中的 super() 函数，格式为 super(B, m).say()</span></span><br><span class="line"><span class="comment">#     - 使用 m 的 mro 链，即 M -&gt; B -&gt; C -&gt; A</span></span><br><span class="line"><span class="comment">#     - 从 B 以后开始搜索，即搜索的 mro 链实际为 C -&gt; A</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># * super(B, m).say() 在 C 中找到函数 C.say()，执行它，则最终输出 &#x27;C&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 反直觉的地方：</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># * M super 到 B 后，B 的 super() 并没有返回 B 的父类的方法，而是返回了一个与 B 不相关的类的方法</span></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="2-7-inspect-模块"><a href="#2-7-inspect-模块" class="headerlink" title="2.7 inspect 模块"></a>2.7 inspect 模块</h2><hr>
<h1 id="Chapter03-python-魔法"><a href="#Chapter03-python-魔法" class="headerlink" title="Chapter03 python 魔法"></a>Chapter03 python 魔法</h1><hr>
<h2 id="3-1-推导式"><a href="#3-1-推导式" class="headerlink" title="3.1 推导式"></a>3.1 推导式</h2><h3 id="知识点：推导式"><a href="#知识点：推导式" class="headerlink" title="知识点：推导式"></a>知识点：推导式</h3><ol>
<li><strong>推导式 comprehension</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 推导式，是用来快速构建列表、集合等数据结构的一种方式</span><br><span class="line">  - 本质上是 python 提供的语法糖，用来对包含 for-loop 的 function 的一种简化，在底层也会解析出 MAKE_FUNCTION 的字节码指令</span><br><span class="line">  - 执行的过程，是先建立一个临时的函数对象，然后以迭代的方式反复调用此函数，收集所有的返回值并最终组成希望的数据结构</span><br><span class="line">  - 常见用处，列表推导式、集合推导式、生成器推导式</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  expression for_clause [for_clause|if_clause]*</span><br><span class="line"></span><br><span class="line">* expression</span><br><span class="line">  - 为最底层的代码，用来确定元素的计算方式</span><br><span class="line">  - 为推导式必须</span><br><span class="line"></span><br><span class="line">* for_clause</span><br><span class="line">  - 最外层的 for-loop，用来确定迭代的方式</span><br><span class="line">  - 为推导式必须</span><br><span class="line">  - 在 complie time 就会进行求值并确定，结果会作为常量储存在 code object 中</span><br><span class="line">  - 在 run time 中无论如何调用推导式，此部分不会改变</span><br><span class="line"></span><br><span class="line">* for_clause|if_clause</span><br><span class="line">  - 可选的多个 for_clause 或 if_clause</span><br><span class="line">  - 在底层对应嵌套的循环或判断，按从左向右的顺序进行嵌套</span><br><span class="line">  - 在 run time 实际调用推导式时才会进行求值</span><br><span class="line">  - 左边的子句中的变量可以作为右边的子句中的运算参数</span><br><span class="line">    - 例如，[(i,j,k) for i in range(5,10) for j in range(i,i+5) for k in range(i,j+5)]</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：列表推导式"><a href="#知识点：列表推导式" class="headerlink" title="知识点：列表推导式"></a>知识点：列表推导式</h3><ol>
<li><strong>列表推导式 list comprehension</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 快速返回一个列表对象</span><br><span class="line">  - 在底层调用 list.append() 来向列表中添加元素</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  [ expression for_clause [for_clause|if_clause]* ]</span><br><span class="line"></span><br><span class="line">* &#x27;[ ]&#x27;</span><br><span class="line">  - 中括号是列表推导式的标志</span><br><span class="line"></span><br><span class="line">* expression</span><br><span class="line">  - expression 的结果就是列表中的元素</span><br><span class="line">  - 如果 list 的元素是 list，则必须对 expression 加中括号</span><br><span class="line">  - 如果 list 的元素是 tuple，则必须对 expression 加括号</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例一</span></span><br><span class="line">list01 = [x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 范例二</span></span><br><span class="line">list01 = [(x, y) <span class="keyword">for</span> x <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>] <span class="keyword">for</span> y <span class="keyword">in</span> [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>] <span class="keyword">if</span> x != y]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 等价代码</span></span><br><span class="line">list01 = []</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]:</span><br><span class="line">  <span class="keyword">for</span> y <span class="keyword">in</span> [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]:</span><br><span class="line">    <span class="keyword">if</span> x != y:</span><br><span class="line">      list01.append((x, y))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 范例三</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>vec = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>], [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>[num <span class="keyword">for</span> elem <span class="keyword">in</span> vec <span class="keyword">for</span> num <span class="keyword">in</span> elem]</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br></pre></td></tr></table></figure></li>
<li><strong>嵌套列表推导式 Nested List Comprehensions</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 列表推导式中的 expression 本身就是一个列表推导式</span><br><span class="line">  - 嵌套列表推导式的结果是一个多阶矩阵，取决于嵌套的层级</span><br><span class="line">  - 与普通列表推导式相比</span><br><span class="line">    - 内层的列表推导式属于外层列表推导式的子层</span><br><span class="line">    - 内层的列表推导式的结果，通过一个传递变量，传递给外层的列表推导式作为元素</span><br><span class="line">  - 不推荐使用，对于会用到嵌套列表推导式的场景，推荐改用 zip() 函数</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="comment"># 使用嵌套列表推导式来进行矩阵转置</span></span><br><span class="line">matrix = [</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">[<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>],</span><br><span class="line">[<span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>]]</span><br><span class="line"></span><br><span class="line">rev_matrix=[[row[i] <span class="keyword">for</span> row <span class="keyword">in</span> matrix] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>)]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(rev_matrix)</span><br><span class="line"><span class="comment"># [[1, 5, 9], [2, 6, 10], [3, 7, 11], [4, 8, 12]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 等价代码</span></span><br><span class="line">list01=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">  transposed=[]</span><br><span class="line">  <span class="keyword">for</span> row <span class="keyword">in</span> matrix:</span><br><span class="line">    transposed.append(row[i])</span><br><span class="line">  list01.append(transposed)</span><br><span class="line"></span><br><span class="line"><span class="comment"># zip() 等价代码</span></span><br><span class="line"><span class="built_in">list</span>(<span class="built_in">zip</span>(*matrix))</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：其他推导式"><a href="#知识点：其他推导式" class="headerlink" title="知识点：其他推导式"></a>知识点：其他推导式</h3><ol>
<li><strong>集合推导式</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 快速返回一个集合对象</span><br><span class="line">  - 用法大体上与列表推导式相同，唯一的区别是最外层的括号为 &#x27;&#123; &#125;&#x27;</span><br></pre></td></tr></table></figure></li>
<li><strong>字典推导式</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  &#123; key_expr : value_expr for_clause [for_clause|if_clause] &#125;</span><br><span class="line"></span><br><span class="line">* 字典中元素的顺序按照在推导式中生成的顺序储存</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>d=&#123;x: x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> (<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>)&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(d)</span><br><span class="line">&#123;<span class="number">2</span>: <span class="number">4</span>, <span class="number">4</span>: <span class="number">16</span>, <span class="number">6</span>: <span class="number">36</span>&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例，从 cookies 中提取元素储存为字典</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>cookies = <span class="string">&quot;anonymid=jy0ui55o-u6f6zd; depovince=GW; _r01_=1; JSESSIONID=abcMktGLRGjLtdhBk7OVw; ick_login=a9b557b8-8138-4e9d-8601-de7b2a633f80; _ga=GA1.2.1307141854.1562980962; _gid=GA1.2.201589596.1562980962; _c1=-100; first_login_flag=1; ln_uact=18323008898; ln_hurl=http://head.xiaonei.com/photos/0/0/men_main.gif; jebe_key=88f1340c-592c-4dd6-a738-128a76559f45%7Cad33b3c730fcdc8df220648f0893e840%7C1562981108370%7C1%7C1562981106763; jebe_key=88f1340c-592c-4dd6-a738-128a76559f45%7Cad33b3c730fcdc8df220648f0893e840%7C1562981108370%7C1%7C1562981106765; jebecookies=793eb32e-92c6-470d-b9d0-5f924c335d30|||||; _de=E77807CE44886E0134ABF27E72CFD74F; p=a00d65b1f779614cd242dc719e24c73e0; t=292ba8729a4151c1a357e176d8d91bff0; societyguester=292ba8729a4151c1a357e176d8d91bff0; id=969937120; xnsid=1700b2cc; ver=7.0; loginfrom=null; wp_fold=0&quot;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>cookies_dict = &#123;cookie.split(<span class="string">&quot;=&quot;</span>)[<span class="number">0</span>]:cookie.split(<span class="string">&quot;=&quot;</span>)[<span class="number">1</span>] <span class="keyword">for</span> cookie <span class="keyword">in</span> cookies.split(<span class="string">&quot;; &quot;</span>)&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(cookies_dict)</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="3-2-迭代器"><a href="#3-2-迭代器" class="headerlink" title="3.2 迭代器"></a>3.2 迭代器</h2><h3 id="知识点：可迭代对象"><a href="#知识点：可迭代对象" class="headerlink" title="知识点：可迭代对象"></a>知识点：可迭代对象</h3><ol>
<li><strong>迭代 iteration</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - python 中的迭代操作，是指对对象的元素进行遍历</span><br><span class="line">  - 每次访问一个元素，从第一个元素开始，直到所有的元素都被访问完结束</span><br><span class="line">  - 只能向前，不能后退</span><br><span class="line"></span><br><span class="line">* python 中通过迭代器来实现迭代操作</span><br><span class="line">  - 每次迭代操作，都是先创建一个 iterator，然后不断调用 iterator.__next__()，直到 iterator 耗尽</span><br><span class="line">  - 例如，在 for 循环中，python 会创建一个临时匿名变量 temporary unnamed variable 保存迭代器</span><br><span class="line"></span><br><span class="line">* 常见迭代操作</span><br><span class="line">  - for 循环</span><br><span class="line">  - in 运算，通过迭代并调用 __eq__() 方法实现</span><br><span class="line"></span><br><span class="line">* 标准模块 itertools 中，提供了更多高级的迭代操作，如笛卡尔积 cartesian product 等</span><br></pre></td></tr></table></figure></li>
<li><strong>可迭代对象 iterable</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 可迭代对象，是指可以用来创建迭代器的对象</span><br><span class="line">  - 可迭代对象必须可以一个一个的返回其成员</span><br><span class="line">  - 通常是容器型数据，如 list、tuple</span><br><span class="line">  - 需要具有 __iter__() 方法，或者序列的 __getitem__() 方法</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：迭代器"><a href="#知识点：迭代器" class="headerlink" title="知识点：迭代器"></a>知识点：迭代器</h3><ol>
<li><strong>迭代器 iterator</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 迭代器，是实际执行迭代操作的对象，在逻辑上表示一个数据流 stream of data</span><br><span class="line">  - 重复对迭代器执行 iterator.next()，会依次返回数据流中的元素，直到迭代器耗尽</span><br><span class="line">  - iterable 储存数据，但不储存状态</span><br><span class="line">  - iterator 储存状态，但不储存数据</span><br><span class="line"></span><br><span class="line">* 迭代器可以基于 iterable 创建，也可以基于函数创建</span><br><span class="line">  - 若迭代器通过 iterable 创建，则迭代器本质上是一个指针，指向 iterable 中的元素</span><br><span class="line">    - 当原始 iterable 发生变化，迭代器会实时反映 iterable 的变化，即迭代器返回的是发生变化后的数据，而不是创建迭代器时 iterable 中的原始数据</span><br><span class="line">  - 若迭代器时通过函数创建，则迭代器中保存的是函数的结构和函数的执行状态，返回的数据由函数动态生成</span><br><span class="line"></span><br><span class="line">* 迭代器的方法</span><br><span class="line">  - iterator.__next__()，返回迭代器的下一个数据</span><br><span class="line">  - iterator.__iter__()，返回迭代器本身</span><br><span class="line">    - 目的是让迭代器自己也可以作为一个 iterable 来使用</span><br><span class="line">    - 缺少的话，不影响迭代器的 next() 功能，但迭代器无法用来创建新的迭代器，例如无法将迭代器用在 for loop 上</span><br><span class="line"></span><br><span class="line">* 迭代器耗尽 exhausted</span><br><span class="line">  - 当迭代器中没有元素可以返回时，则称为耗尽</span><br><span class="line">  - 此时会抛出 StopIteration</span><br><span class="line">  - 重复对耗尽的迭代器调用 iterator.__next__()，则每次都会抛出 StopIteration</span><br><span class="line"></span><br><span class="line">* 迭代器的工作流程</span><br><span class="line">  - 调用 iterable.__iter__()，创建一个 iterator</span><br><span class="line">  - 调用 iterator.__next__()，返回下一个数据</span><br><span class="line">  - 重复调用 iterator.__next__()，直到迭代器耗尽</span><br><span class="line">  - 迭代器耗尽，抛出 StopIteration</span><br><span class="line">  - 外部程序捕获到 StopIteration，终止迭代操作</span><br><span class="line"></span><br><span class="line">* 优点，占用空间少</span><br><span class="line">  - 若直接使用数据对象，需要提前在内存中存储好全部的元素</span><br><span class="line">  - 迭代器的数据是动态生成的，不需要提前储存，理论上可以表示无限长度的数据</span><br></pre></td></tr></table></figure></li>
<li><strong>迭代器相关方法</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* class.__iter__()</span><br><span class="line">  - 返回一个基于 instance object 创建的迭代器</span><br><span class="line">  - 用来使实例对象支持迭代操作，只要 class 中定义了 __iter__() 方法，instance object 就可以支持迭代操作</span><br><span class="line"></span><br><span class="line">* container.__iter__()</span><br><span class="line">  - 容器型对象创建迭代器的方法</span><br><span class="line"></span><br><span class="line">* 迭代器协议 iterator protocol</span><br><span class="line">  - iterator 均支持以下两种方法，合计称为迭代器协议</span><br><span class="line">  - iterator.__iter__()</span><br><span class="line">    - 返回 iterator object 自己</span><br><span class="line">    - 目的是为了让 iterator 可以在 for 和 in 上可以使用</span><br><span class="line">  - iterator.__next__()</span><br><span class="line">    - 返回 iterator 的下一个项</span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例一</span></span><br><span class="line">a=<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span></span><br><span class="line">b=a.__iter__()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(b))            <span class="comment"># 输出 &lt;class &#x27;tuple_iterator&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(b.__next__())       <span class="comment"># 输出 1</span></span><br><span class="line"><span class="built_in">print</span>(b.__next__())       <span class="comment"># 输出 2</span></span><br><span class="line"><span class="built_in">print</span>(b.__next__())       <span class="comment"># 输出 3，此时迭代器 b 已耗尽</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(b.__next__())       <span class="comment"># 会抛出 StopIteration，由于未被捕获，最终抛出至 top-level</span></span><br><span class="line"><span class="comment"># Traceback (most recent call last):</span></span><br><span class="line"><span class="comment">#   File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span></span><br><span class="line"><span class="comment"># StopIteration</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例二</span></span><br><span class="line"><span class="comment"># 迭代器对象并不储存数据，而是储存的指针</span></span><br><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">b=a.__iter__()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(b.__next__())       <span class="comment"># 输出 1</span></span><br><span class="line"><span class="built_in">print</span>(b.__next__())       <span class="comment"># 输出 2</span></span><br><span class="line"></span><br><span class="line">a[<span class="number">2</span>]=<span class="number">15</span>                   <span class="comment"># 修改 a 中的下一个数据</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(b.__next__())       <span class="comment"># 输出为 15，而不是 a 中原来的数据 3</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例三</span></span><br><span class="line"><span class="comment"># 重复在 for 上使用 iterator</span></span><br><span class="line">a=<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span></span><br><span class="line">b=a.__iter__()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> b:       <span class="comment"># 第一次使用</span></span><br><span class="line">  <span class="built_in">print</span>(i)        <span class="comment"># 会依次输出 1、2、3、4</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> b:       <span class="comment"># 再次使用 iterator</span></span><br><span class="line">  <span class="built_in">print</span>(i)        <span class="comment"># 用于此时 iterator 已经耗尽，故无数据输出</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例四</span></span><br><span class="line"><span class="comment"># 在 in 上使用 iterator</span></span><br><span class="line">a=<span class="built_in">range</span>(<span class="number">1</span>,<span class="number">100</span>)</span><br><span class="line">b=a.__iter__()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bool</span>(<span class="number">98</span> <span class="keyword">in</span> b))    <span class="comment"># 输出 True</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(b.__next__())     <span class="comment"># 输出 99</span></span><br><span class="line">                        <span class="comment"># 用于在 in 中已经对 iterator 进行了迭代到了 98，故 b 的下一个项到了 99</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：iter-函数"><a href="#知识点：iter-函数" class="headerlink" title="知识点：iter() 函数"></a>知识点：iter() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">* 作用</span><br><span class="line">  - 针对 iterable，创建一个迭代器</span><br><span class="line">  - 本质上是调用 object.__iter__()</span><br><span class="line"></span><br><span class="line">* 格式一: iter(object)</span><br><span class="line">  - 通过 iterable 来创建迭代器</span><br><span class="line">  - object 必须是一个支持 __iter__() 的 collection 对象，或者是支持 sequence protocol 的对象</span><br><span class="line"></span><br><span class="line">* 格式二: iter(callable, sentinel)</span><br><span class="line">  - 通过函数来创建迭代器</span><br><span class="line">    - 每次 next 迭代器时，都会以无参数的形式调用 callable</span><br><span class="line">    - 当 callable 的返回与 sentinel 一样时，迭代器停止</span><br><span class="line">  - 参数 callable</span><br><span class="line">    - 表示一个可调用对象，并且必须支持无参方式调用</span><br><span class="line">  - 参数 sentinel</span><br><span class="line">    - 用来指定终止值</span><br><span class="line">  - 一个有用的应用场景，创建 block-reader，sentinel 指定为 b&#x27;&#x27;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：next-函数"><a href="#知识点：next-函数" class="headerlink" title="知识点：next() 函数"></a>知识点：next() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 返回迭代器的数据</span><br><span class="line"></span><br><span class="line">* 格式: next(iterator[, default])</span><br><span class="line"></span><br><span class="line">* 参数 default</span><br><span class="line">  - 若指定了 default 参数时，则当迭代器耗尽时，返回 default 的值而不是抛出 StopIteration</span><br><span class="line">  - 若未指定 default，则当迭代器耗尽时抛出 StopIteration</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：any-、all-函数"><a href="#知识点：any-、all-函数" class="headerlink" title="知识点：any()、all() 函数"></a>知识点：any()、all() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  any(iterable, /)</span><br><span class="line">  all(iterable, /)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - any(): 如果 iterable 至少有一个元素表示 Ture，则返回 True，empty 返回 False</span><br><span class="line">  - all(): 如果 iterable 所有元素都表示 True，则返回 True，empty 返回 False</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：enumerate-函数"><a href="#知识点：enumerate-函数" class="headerlink" title="知识点：enumerate() 函数"></a>知识点：enumerate() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  enumerate(iterable, start=0)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回一个枚举对象</span><br><span class="line">  - 枚举对象也是一个可迭代对象，其每一个元素都是一个二元组，元组的第一个元素是序号，第二个元素是 iterable 中的元素</span><br><span class="line"></span><br><span class="line">* 参数 start</span><br><span class="line">  - 指定枚举对象中第一个元素的序号的值</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：zip-函数"><a href="#知识点：zip-函数" class="headerlink" title="知识点：zip() 函数"></a>知识点：zip() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  zip(*iterables, strict=False)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 同时对多个 iterable 进行迭代，返回一个 zip 对象</span><br><span class="line">  - zip 对象也是一个可迭代对象，其中的元素都是元组，第 i 个元组中的元素分别对象每一个 iterable 的第 i 个元素</span><br><span class="line"></span><br><span class="line">* 参数 strict</span><br><span class="line">  - strict=False，则 iterable 之间的长度可以不相等，返回的 zip 对象的长度等于最短的 iterable 的长度</span><br><span class="line">  - strict=True，则 zip() 函数会检查所有的 iterable 的长度是否相等，如果不等则会抛出 ValueError</span><br><span class="line"></span><br><span class="line">* 其他</span><br><span class="line">  - zip() 常用来进行矩阵转置 matrix transposing</span><br><span class="line">  - zip() 是延迟执行的，即</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">b=<span class="string">&#x27;abc&#x27;</span></span><br><span class="line">c=<span class="built_in">zip</span>(a,b)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> c:</span><br><span class="line">  <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出为：</span></span><br><span class="line"><span class="comment"># (1, &#x27;a&#x27;)</span></span><br><span class="line"><span class="comment"># (2, &#x27;b&#x27;)</span></span><br><span class="line"><span class="comment"># (3, &#x27;c&#x27;)</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：map-函数"><a href="#知识点：map-函数" class="headerlink" title="知识点：map() 函数"></a>知识点：map() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  map(function, iterable, *iterables)</span><br><span class="line"></span><br><span class="line">* 介绍</span><br><span class="line">  - map 函数，用来创建迭代器</span><br><span class="line">  - 从 iterable 中读取值，作为 function 的参数，并返回函数的运算结果</span><br><span class="line">  - 如果 function 需要多个参数，则需要提供多个 iterable，函数的每个参数与一个 iterable 对应</span><br><span class="line">  - 对于多个 iterable 的情况，map 函数的结果取决于最短的 iterable</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># map() 范例</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">af</span>(<span class="params">num</span>):</span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">pow</span>(num,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">map</span>(af,(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)):</span><br><span class="line">  <span class="built_in">print</span>(i)</span><br><span class="line"><span class="comment"># 输出为 1，4，9</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：filter-函数"><a href="#知识点：filter-函数" class="headerlink" title="知识点：filter() 函数"></a>知识点：filter() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  filter(function, iterable)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - filter 函数，用来创建迭代器</span><br><span class="line">  - 迭代器中返回的元素，为 iterable 中参与 function 的运算后结果为 True 的元素</span><br><span class="line"></span><br><span class="line">* 参数 function</span><br><span class="line">  - 如果为 None，则表示使用 iterable 的元素的 identity，此时相当于从 iterable 中过滤表示为 False 的元素</span><br><span class="line"></span><br><span class="line">* 等价形式</span><br><span class="line">  - filter 函数相当于一个生成器表达式</span><br><span class="line">  - function 不为 None，(item for item in iterable if function(item))</span><br><span class="line">  - function 为 None，(item for item in iterable if item)</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 过滤 3 的倍数</span><br><span class="line">def f(x):</span><br><span class="line">  return x % 3</span><br><span class="line"></span><br><span class="line">m=range(10)</span><br><span class="line"></span><br><span class="line">for i in filter(f,m):</span><br><span class="line">  print(i)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：高天范例之链表"><a href="#知识点：高天范例之链表" class="headerlink" title="知识点：高天范例之链表"></a>知识点：高天范例之链表</h3><ol>
<li><strong>高天代码之自定义一个链表</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NodeIter</span>:</span>                   <span class="comment"># 迭代器定义</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, node</span>):</span></span><br><span class="line">    self.curr_node = node</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__next__</span>(<span class="params">self,</span>):</span></span><br><span class="line">    <span class="keyword">if</span> self.curr_node <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">      <span class="keyword">raise</span> StopIteration</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">      node, self.curr_node = self.curr_node, self.curr_node.<span class="built_in">next</span></span><br><span class="line">      <span class="keyword">return</span> node</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span>:</span>                       <span class="comment"># 可迭代对象定义</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name</span>):</span></span><br><span class="line">    self.name = name</span><br><span class="line">    self.<span class="built_in">next</span> = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">return</span> NodeIter(self)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用链表</span></span><br><span class="line">node1=Node(<span class="string">&#x27;node1&#x27;</span>)</span><br><span class="line">node2=Node(<span class="string">&#x27;node2&#x27;</span>)</span><br><span class="line">node3=Node(<span class="string">&#x27;node3&#x27;</span>)</span><br><span class="line"></span><br><span class="line">node1.<span class="built_in">next</span>=node2</span><br><span class="line">node2.<span class="built_in">next</span>=node3</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> node <span class="keyword">in</span> node1:</span><br><span class="line">  <span class="built_in">print</span>(node.name)</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="3-3-生成器"><a href="#3-3-生成器" class="headerlink" title="3.3 生成器"></a>3.3 生成器</h2><h3 id="知识点：生成器"><a href="#知识点：生成器" class="headerlink" title="知识点：生成器"></a>知识点：生成器</h3><ol>
<li><strong>生成器 generator</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 生成器是一种特殊的迭代器，作用也是通过 next() 来进行迭代</span><br><span class="line">  - 本质上是创建一个临时函数对象，在底层对应 MAKE_FUNCTION 字节码指令</span><br><span class="line">  - 生成器的返回一个值的行为在底层对应 YIELD_VALUE 字节码指令</span><br><span class="line"></span><br><span class="line">* 生成器的工作流程</span><br><span class="line">  - 生成器启动</span><br><span class="line">  - 当生成器运行到 yield 语句/表达式时，就会生成一个值 yeild a value 并向调用者返回这个值，然后生成器暂停 suspended，并将然后将控制权返回给调用者</span><br><span class="line">  - 注意，生成器暂停的位置是 yield 语句/表达式之后</span><br><span class="line">  - 每当生成器暂停，都会保存所有的局部状态 local state，包括:</span><br><span class="line">    - 局部变量的当前绑定 current bindings of local variables</span><br><span class="line">    - 指令指针 the instruction pointer</span><br><span class="line">    - 内部求值栈 he internal evaluation stack</span><br><span class="line">    - 任何异常处理 the state of any exception handling</span><br><span class="line">  - 当生成器恢复运行 resume 时，会重新加载局部变量和执行状态，然后从 yield 语句/表达式的位置继续运行，直到下一次遇到 yield 关键字</span><br><span class="line">  - 当生成器结束时，它会自动抛出 StopIteration</span><br><span class="line"></span><br><span class="line">* 生成器与迭代器的不同</span><br><span class="line">  - 迭代器是把迭代的状态保存到一个对象中</span><br><span class="line">  - 生成器是把迭代的状态保存到一个 frame 中</span><br><span class="line"></span><br><span class="line">* 生成器的一个特点，可以通过与生成器沟通来更改生成器的状态，继而对迭代操作进行调整</span><br><span class="line">  - generator.send()</span><br><span class="line">  - generator.throw()</span><br></pre></td></tr></table></figure></li>
<li><strong>生成器方法</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">* generator.__next__()</span><br><span class="line">  - 开始/恢复一个生成器的执行</span><br><span class="line">  - for-loop 或 next() 函数会隐式的调用此方法</span><br><span class="line"></span><br><span class="line">* generator.send(value)</span><br><span class="line">  - 只有在生成器是由含有 yield 表达式的生成器函数创建的时才有用</span><br><span class="line">  - 向生成器发送一个值 value，value 会作为当前 yield 表达式的计算结果，然后恢复生成器的运行，直到生成器返回下一个值，然后再次暂停</span><br><span class="line">  - 默认情况下，yield 表达式的计算结果为 None</span><br><span class="line">  - 也可以用来启动生成器，不过此时 vaule 必须是 None，因为此时没有可以接收值的 yield 表达式</span><br><span class="line">  - 如果没有下一个值，则抛出 StopIteration</span><br><span class="line"></span><br><span class="line">* generator.throw(value)</span><br><span class="line">* generator.throw(type[, value[, traceback]])</span><br><span class="line">  - 在生成器暂停的位置抛出一个异常，并返回该生成器函数所产生的下一个值</span><br><span class="line">  - 如果生成器没有产生下一个值就退出，并抛出 StopIteration</span><br><span class="line">  - 参数 type，指定一个异常类</span><br><span class="line">  - 参数 value，指定一个异常的值</span><br><span class="line"></span><br><span class="line">* generator.close()</span><br><span class="line">  - 关闭/退出生成器</span><br><span class="line">  - 会在生成器暂停的位置抛出 GeneratorExit，正常情况下会被调用者自动捕获</span><br><span class="line">  - 如果生成器已经由于异常或正常退出，则 close() 不会做任何事</span><br><span class="line">  - 如果生成器产生了一个值，则关闭会引发 RuntimeError</span><br><span class="line">  - 如果生成器抛出了任何其他异常，则会被传播给调用者</span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例一</span></span><br><span class="line"><span class="comment"># 高天代码，使用 send 来控制生成器</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gen</span>(<span class="params">num</span>):</span></span><br><span class="line">  <span class="keyword">while</span> num &gt; <span class="number">0</span>:</span><br><span class="line">    tmp = <span class="keyword">yield</span> num</span><br><span class="line">    <span class="keyword">if</span> tmp <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">      num = tmp</span><br><span class="line">    num -=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">g=gen(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(g))        <span class="comment"># 输出 5</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(g))        <span class="comment"># 输出 4</span></span><br><span class="line"><span class="built_in">print</span>(g.send(<span class="number">10</span>))     <span class="comment"># 输出 9</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(g))        <span class="comment"># 输出 8</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：生成器表达式"><a href="#知识点：生成器表达式" class="headerlink" title="知识点：生成器表达式"></a>知识点：生成器表达式</h3><ol>
<li><strong>生成器表达式 generator expression</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 本质上应该称为生成器推导式 generator comprehension</span><br><span class="line">  - 用来简洁快速的创建一个生成器</span><br><span class="line">  - 生成器表达式与生成器函数不同，其中不可以包含 yield 关键字</span><br><span class="line"></span><br><span class="line">* 生成器表达式具有推导式的各种性质</span><br><span class="line">  - 本质上，也一个语法糖，是对生成器函数的简化</span><br><span class="line">  - 理解上，生成器表达式也可以按照一个简化的 for-loop 来理解</span><br><span class="line">  - 格式上，生成器表达式的外括号使用 &#x27;( )&#x27;</span><br><span class="line">  - 执行上，先建立一个临时的生成器函数，再执行这个生成器函数，最终返回一个生成器对象</span><br><span class="line">  - 与其他的推导式相同，只有最外层的 for-loop 的 exp 是在创建生成器时立即求值，其他的层的 exp 都是直到使用生成器时才求值</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  expression for_loop [for_clause|if_clause]*           # 只有作为函数的参数时可以使用此格式</span><br><span class="line">  ( expression for_loop [for_clause|if_clause]* )</span><br><span class="line"></span><br><span class="line">* 当生成器表达式包含 async for 子句或 await 表达式，则称为异步生成器表达式 asynchronous generator expression，并返回一个异步生成器对象 asynchronous generator object</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例一</span></span><br><span class="line">g = ( x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>) )</span><br><span class="line"></span><br><span class="line"><span class="comment"># 等价代码：</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__gen</span>(<span class="params">exp</span>):</span></span><br><span class="line">  <span class="keyword">for</span> x <span class="keyword">in</span> exp</span><br><span class="line">    <span class="keyword">yield</span> x**<span class="number">2</span></span><br><span class="line"></span><br><span class="line">g = __gen(<span class="built_in">range</span>(<span class="number">10</span>))</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例二</span></span><br><span class="line"><span class="comment"># 计算平方和</span></span><br><span class="line"><span class="built_in">sum</span>(i*i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>))</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例三</span></span><br><span class="line"><span class="comment"># 计算向量的数量积 dot product</span></span><br><span class="line">xvec = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line">yvec = [<span class="number">7</span>, <span class="number">5</span>, <span class="number">3</span>]</span><br><span class="line"><span class="built_in">sum</span>(x*y <span class="keyword">for</span> x,y <span class="keyword">in</span> <span class="built_in">zip</span>(xvec, yvec))</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例四</span></span><br><span class="line"><span class="comment"># 对文件中的 word 进行去重</span></span><br><span class="line">file = <span class="built_in">open</span>(<span class="string">&#x27;XXX.txt&#x27;</span>)</span><br><span class="line">unique_words = <span class="built_in">set</span>(word <span class="keyword">for</span> word <span class="keyword">in</span> file.readline().split())</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：生成器函数"><a href="#知识点：生成器函数" class="headerlink" title="知识点：生成器函数"></a>知识点：生成器函数</h3><ol>
<li><strong>生成器函数 generator function</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 用于创建生成器</span><br><span class="line">  - 调用生成器函数，返回一个生成器</span><br><span class="line">  - 调用生成器函数时，传递的实参决定了返回的生成器的性质</span><br><span class="line"></span><br><span class="line">* yield 语句/表达式</span><br><span class="line">  - 在生成器函数中指导生成器如何返回值以及暂停</span><br><span class="line">  - 生成器函数由 yield 关键字决定，只要函数中包含了 yield 关键字，则 python 就认为函数是一个生成器函数</span><br><span class="line">  - 生成器在运行时，每当执行到 yield 时就会进行返回值并暂停</span><br><span class="line">  - 生成器函数中可以包含多个 yield 语句/表达式</span><br><span class="line"></span><br><span class="line">* return 语句</span><br><span class="line">  - 在生成器函数中指定生成器何时结束</span><br><span class="line">  - 当生成器执行到 return 语句时，会自动抛出 StopIteration</span><br><span class="line">  - return 语句的返回值会储存在抛出的 StopIteration 的 StopIteration.vaule 属性中</span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 范例一</span><br><span class="line">def gen(num):         # 生成器函数</span><br><span class="line">  while num &gt;0:</span><br><span class="line">    yield num</span><br><span class="line">    num-=1</span><br><span class="line">  return</span><br><span class="line"></span><br><span class="line">x=gen(10)             # 创建生成器对象</span><br><span class="line"></span><br><span class="line">for i in x:           # 使用生成器</span><br><span class="line">  print(i)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：yield-语句-x2F-表达式"><a href="#知识点：yield-语句-x2F-表达式" class="headerlink" title="知识点：yield 语句&#x2F;表达式"></a>知识点：yield 语句&#x2F;表达式</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - yield 语句/表达式只能用在生成器函数中，用来指导生成器如何向调用者返回值</span><br><span class="line">  - yield 表达式的计算结果为 None</span><br><span class="line">  - 用在 async def 中会创建一个 asynchronous generator function</span><br><span class="line"></span><br><span class="line">* yield 语句与 yield 表达式的唯一的区别，是 yield 表达式可以作为一个计算式，向某个变量赋值，继而来储存 generator.send() 传递来的 value</span><br><span class="line"></span><br><span class="line">* 格式一，通过表达式的计算结果来确定产生的值</span><br><span class="line">  yield expression</span><br><span class="line"></span><br><span class="line">* 格式二，通过 iterable 来确定产生的值</span><br><span class="line">  yield from iterable</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="3-4-装饰器"><a href="#3-4-装饰器" class="headerlink" title="3.4 装饰器"></a>3.4 装饰器</h2><h3 id="知识点：闭包"><a href="#知识点：闭包" class="headerlink" title="知识点：闭包"></a>知识点：闭包</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">* 闭包 closure</span><br><span class="line">  - 嵌套函数的一种形式</span><br><span class="line">  - 内部函数使用了外部函数的变量</span><br><span class="line">  - 外部函数的返回值为内部函数，称为闭包或者闭包函数</span><br><span class="line"></span><br><span class="line">* 闭包函数在组建时，会将外部函数的实参作为常量进行储存</span><br><span class="line">  - 外部函数的实参也称为闭包函数的调用环境</span><br><span class="line"></span><br><span class="line">* 闭包的两种形式</span><br><span class="line">  - 外部函数嵌套内部函数</span><br><span class="line">  - 外部函数嵌套类，类嵌套内部函数，此时内部函数为闭包函数</span><br><span class="line"></span><br><span class="line">* 优点</span><br><span class="line">  - 闭包机制可以当做函数/类的模板，用于生成具有类似结构的函数对象/类对象</span><br><span class="line">    - 创建的函数对象/类对象具有什么样的功能和特性，取决于调用闭包函数时传递的实参</span><br><span class="line">    - 内部函数的代码块根据外部函数的实参，创建相应的对象</span><br><span class="line">  - 闭包函数中如果使用 nonlocal 对外部变量进行声明，则可以用外部变量来储存函数的执行状态</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例一</span></span><br><span class="line"><span class="comment"># 利用闭包组装具有类似功能的函数</span></span><br><span class="line"><span class="comment"># 计算输入的 n 次幂的函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outer</span>(<span class="params">n</span>):</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">inner</span>(<span class="params">num</span>):</span></span><br><span class="line">    <span class="keyword">return</span> num **n</span><br><span class="line">  <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line">a=outer(<span class="number">3</span>)</span><br><span class="line">b=outer(<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(a(<span class="number">10</span>))</span><br><span class="line"><span class="built_in">print</span>(b(<span class="number">10</span>))</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例二</span></span><br><span class="line"><span class="comment"># 闭包储存函数的执行状态</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outer</span>(<span class="params">n</span>):</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">inner</span>():</span></span><br><span class="line">    <span class="keyword">nonlocal</span> n</span><br><span class="line">    <span class="keyword">if</span> n &gt; <span class="number">0</span>:</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">f&#x27;还剩 <span class="subst">&#123;n&#125;</span> 次机会&#x27;</span>)</span><br><span class="line">      n -=<span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&#x27;已经没有机会了&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line">f=outer(<span class="number">3</span>)</span><br><span class="line">f()   <span class="comment"># 还剩 3 次机会</span></span><br><span class="line">f()   <span class="comment"># 还剩 2 次机会</span></span><br><span class="line">f()   <span class="comment"># 还剩 1 次机会</span></span><br><span class="line">f()   <span class="comment"># 已经没有机会了</span></span><br></pre></td></tr></table></figure></li>
<li><strong>闭包相关属性</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* closure.__closure__</span><br><span class="line">  - 闭包函数中储存调用环境的属性</span><br><span class="line">  - 形式为一个由 cell object 组成的元素</span><br><span class="line">  - 可以通过对 closure.__closure__ 中的 cell object 进行修改，来修改闭包函数的功能</span><br><span class="line"></span><br><span class="line">* cell object</span><br><span class="line">  - python 提供的，专门用于储存闭包调用环境的对象</span><br><span class="line"></span><br><span class="line">* cell.cell_contents</span><br><span class="line">  - cell object 中实际储存闭包的调用环境的值的地方</span><br><span class="line">  - 通过对其进行修改，可以修改闭包的功能</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outer</span>(<span class="params">n</span>):</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">inner</span>(<span class="params">num</span>):</span></span><br><span class="line">    <span class="keyword">return</span> num **n</span><br><span class="line">  <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line">f=outer(<span class="number">3</span>)                          <span class="comment"># f 的作用为返回输入的 3 次幂</span></span><br><span class="line"><span class="built_in">print</span>(f(<span class="number">10</span>))</span><br><span class="line">f.__closure__[<span class="number">0</span>].cell_contents=<span class="number">4</span>    <span class="comment"># 修改 f 的功能为返回输入的 4 次幂</span></span><br><span class="line"><span class="built_in">print</span>(f(<span class="number">10</span>))</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：装饰器"><a href="#知识点：装饰器" class="headerlink" title="知识点：装饰器"></a>知识点：装饰器</h3><ol>
<li><strong>装饰器 decorator</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">* 装饰器是闭包的一种使用场景，用来对函数对象/类对象进行添加功能</span><br><span class="line">  - 在底层会解析为闭包的字节码，并添加闭包的特殊属性</span><br><span class="line">  - 函数装饰器，装饰函数对象，输入/输出通常都是函数，也可以是其他东西</span><br><span class="line">  - 类装饰器，装饰类对象，输入/输出通常都是类对象，也可以是其他东西</span><br><span class="line"></span><br><span class="line">* 优点</span><br><span class="line">  - 装饰器可以实现开放封闭原则</span><br><span class="line">    - 开放，即原始函数可以添加新的功能</span><br><span class="line">    - 封闭，即原始函数的代码不可以动</span><br><span class="line">    - 使用装饰器可以在不改变函数/类的原始代码的情况下，添加新的功能</span><br><span class="line">    - 例如，一个函数，某些场景下需要具有新功能，某些场景下不需要具有新功能</span><br><span class="line"></span><br><span class="line">* 装饰器的最内层，通常取名为 wrapper</span><br><span class="line">  - 对于函数装饰，wrapper 函数的参数需要与原函数的参数相同</span><br><span class="line">  - 万能的 wrapper</span><br><span class="line">    - 可以将 wrapper 函数定义为 wrapper(*args, **kwds)</span><br><span class="line">    - 在 wrapper 调用原函数时使用 f(*args, **kwds)</span><br></pre></td></tr></table></figure></li>
<li><strong>装饰器的通用公式</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* 装饰器的调用格式</span><br><span class="line">  @deco</span><br><span class="line">  def/class name XXXX</span><br><span class="line"></span><br><span class="line">* 等价代码</span><br><span class="line">  name=deco(name)</span><br><span class="line"></span><br><span class="line">* 介绍</span><br><span class="line">  - &#x27;@deco&#x27; 的写法是一个语法糖</span><br><span class="line">  - &#x27;@deco&#x27; 下一行的 def/class 语句中的对象名 name，会作为第一个参数传递给装饰器</span><br><span class="line">  - 返回的对象再与原 name 绑定，即会覆盖原 name 原来绑定的函数对象/类对象</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以下三个代码块完全等价</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1</span></span><br><span class="line"><span class="meta">@deco</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">double</span>(<span class="params">x</span>):</span></span><br><span class="line">  <span class="keyword">return</span> x * <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2</span></span><br><span class="line">double=deco(<span class="keyword">lambda</span> x: x *<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">double</span>(<span class="params">x</span>):</span></span><br><span class="line">  <span class="keyword">return</span> x * <span class="number">2</span></span><br><span class="line"></span><br><span class="line">double=deco(double)</span><br></pre></td></tr></table></figure></li>
<li><strong>带参数的装饰器</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  @deco(arg [, arg])</span><br><span class="line">  def/class name</span><br><span class="line"></span><br><span class="line">* 等价代码</span><br><span class="line">  name=deco(arg)(name)</span><br><span class="line"></span><br><span class="line">* 介绍</span><br><span class="line">  - 带参数的装饰器，就是多了一层的函数调用</span><br><span class="line">  - 无参的装饰器为两层的嵌套函数，外层接收函数，内存接收函数的参数</span><br><span class="line">  - 带参的装饰器为三层的嵌套函数，最外层提供装饰器的参数，中间层接收函数，内存接收函数的参数</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@deco(<span class="params"><span class="number">10</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span> (<span class="params">XXXX</span>):</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 先计算 deco(10)，返回一个中间参数，例如 inner</span></span><br><span class="line"><span class="comment"># 再计算 inner(f)，返回最终的参数对象</span></span><br><span class="line"><span class="comment"># 等价于 f=deco(10)(f)</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deco</span>(<span class="params">num</span>):</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">inner</span>(<span class="params">f</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>():</span></span><br><span class="line">      f()</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">f&#x27;装修，用了 <span class="subst">&#123;num&#125;</span> 天&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line">  <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="meta">@deco(<span class="params"><span class="number">10</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">house</span>():</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;毛坯房&#x27;</span>)</span><br><span class="line"></span><br><span class="line">house()</span><br></pre></td></tr></table></figure></li>
<li><strong>多层装饰器</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  @deco2</span><br><span class="line">  @deco1</span><br><span class="line">  def/class name XXXX</span><br><span class="line"></span><br><span class="line">* 等价代码</span><br><span class="line">  name=deco2(deco1(name))</span><br><span class="line"></span><br><span class="line">* 介绍</span><br><span class="line">  - 多层装饰器，每一层的装饰都会叠加到下层的装饰器和函数之上</span><br><span class="line">  - 下方的装饰器先执行</span><br><span class="line">  - 上方的装饰器后执行</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deco1</span>(<span class="params">f</span>):</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>():</span></span><br><span class="line">    f()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;简单装修&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deco2</span>(<span class="params">f</span>):</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>():</span></span><br><span class="line">    f()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;深入装修&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="meta">@deco2</span></span><br><span class="line"><span class="meta">@deco1</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">house</span>():</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;毛坯房&quot;</span>)</span><br><span class="line"></span><br><span class="line">house()</span><br><span class="line"><span class="comment"># 毛坯房</span></span><br><span class="line"><span class="comment"># 简单装修</span></span><br><span class="line"><span class="comment"># 深入装修</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：类装饰器"><a href="#知识点：类装饰器" class="headerlink" title="知识点：类装饰器"></a>知识点：类装饰器</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* 指可以用来装饰类的装饰器</span><br></pre></td></tr></table></figure>

<h3 id="知识点：装饰器类"><a href="#知识点：装饰器类" class="headerlink" title="知识点：装饰器类"></a>知识点：装饰器类</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* 指可以用来作为装饰器的类</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="3-5-异步"><a href="#3-5-异步" class="headerlink" title="3.5 异步"></a>3.5 异步</h2><h3 id="知识点：协程（未整理）"><a href="#知识点：协程（未整理）" class="headerlink" title="知识点：协程（未整理）"></a>知识点：协程（未整理）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* In an asynchronous generator function,</span><br><span class="line">an empty return statement indicates that the asynchronous generator is done and will cause StopAsyncIteration to be raised.</span><br><span class="line">A non-empty return statement is a syntax error in an asynchronous generator function.</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="Chapter04-python-语法"><a href="#Chapter04-python-语法" class="headerlink" title="Chapter04 python 语法"></a>Chapter04 python 语法</h1><hr>
<h2 id="4-1-python-语法介绍"><a href="#4-1-python-语法介绍" class="headerlink" title="4.1 python 语法介绍"></a>4.1 python 语法介绍</h2><h3 id="知识点：python-语法介绍"><a href="#知识点：python-语法介绍" class="headerlink" title="知识点：python 语法介绍"></a>知识点：python 语法介绍</h3><ol>
<li><strong>语法体系</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* token --&gt; expression --&gt; statement</span><br><span class="line"></span><br><span class="line">* lexical analyzer</span><br><span class="line">  - 将输入的 source code 解析为 token stream</span><br><span class="line"></span><br><span class="line">* parser</span><br><span class="line">  - 读取 token stream，解析为 python 字节码</span><br></pre></td></tr></table></figure></li>
<li><strong>tokens</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">* tokens</span><br><span class="line">  - NEWLINE</span><br><span class="line">  - INDENT</span><br><span class="line">  - DEDENT</span><br><span class="line">  - identifiers</span><br><span class="line">  - keywords</span><br><span class="line">  - literals</span><br><span class="line">  - operators</span><br><span class="line">  - delimiters</span><br><span class="line"></span><br><span class="line">* 空白字符 Whitespace</span><br><span class="line">  - 空白字符不会被解析为 token，而是用来间隔 token</span><br><span class="line">  - 空白字符包括 space、tab</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：python-行结构"><a href="#知识点：python-行结构" class="headerlink" title="知识点：python 行结构"></a>知识点：python 行结构</h3><ol>
<li><strong>行结构 Line structure</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* 物理行 Physical lines</span><br><span class="line">  - 被 end-of-line 间隔的字符序列</span><br><span class="line">    - Unix 使用 ASCII LF (linefeed)</span><br><span class="line">    - Windows 使用 ASCII sequence CR LF (return followed by linefeed)</span><br><span class="line">    - old Macintosh 使用 ASCII CR (return)</span><br><span class="line">    - end-of-input 字符</span><br><span class="line">    - 所有的 end-of-line 在所有平台自动兼容</span><br><span class="line"></span><br><span class="line">* 逻辑行 logical lines</span><br><span class="line">  - 一个 NEWLINE token，标识一个逻辑行的结尾</span><br><span class="line">  - 一个逻辑行可以只是一个物理行，也可以是经过显示/隐式行拼接后的多个物理行</span><br><span class="line">  - python 程序会被分隔为多个逻辑行</span><br></pre></td></tr></table></figure></li>
<li><strong>行拼接 line joining</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 显式行拼接 Explicit line joining</span><br><span class="line">  - 以 &#x27;\&#x27; 字符结尾的物理行，会与下一个物理行进行拼接</span><br><span class="line">  - &#x27;\&#x27; 字符不能放在注释中</span><br><span class="line">  - &#x27;\&#x27; 字符对除了 string literals 以外的其他 token，不会将两个 token 拼接为一个 token</span><br><span class="line">  - &#x27;\&#x27; 字符放在 string literals 中，用于跳脱 newline</span><br><span class="line"></span><br><span class="line">* 隐式行拼接 Implicit line joining</span><br><span class="line">  - 对于出现在括号、方括号、大括号、长字符串中的表达式，python 会自动将其拼接为一个逻辑行，不需要手动添加 &#x27;\&#x27; 字符</span><br><span class="line">  - 隐式行拼接的缩进不需要考虑缩进，可以包括空行，可以以注释结尾</span><br><span class="line">  - 隐式行拼接不会自动添加逗号 &#x27;,&#x27;，上一行需要手动添加最后一个逗号</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例，隐式行拼接</span></span><br><span class="line">month_names = [ <span class="string">&#x27;Januari&#x27;</span>, <span class="string">&#x27;Februari&#x27;</span>, <span class="string">&#x27;Maart&#x27;</span>,      <span class="comment"># These are the</span></span><br><span class="line">                <span class="string">&#x27;April&#x27;</span>,   <span class="string">&#x27;Mei&#x27;</span>,      <span class="string">&#x27;Juni&#x27;</span>,       <span class="comment"># Dutch names</span></span><br><span class="line">                <span class="string">&#x27;Juli&#x27;</span>,    <span class="string">&#x27;Augustus&#x27;</span>, <span class="string">&#x27;September&#x27;</span>,  <span class="comment"># for the months</span></span><br><span class="line">                <span class="string">&#x27;Oktober&#x27;</span>, <span class="string">&#x27;November&#x27;</span>, <span class="string">&#x27;December&#x27;</span>]   <span class="comment"># of the year</span></span><br></pre></td></tr></table></figure></li>
<li><strong>空行 Blank lines</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 只包含 spaces、tabs 的行，视为空行</span><br><span class="line">  - 空行会被自动忽略</span><br></pre></td></tr></table></figure></li>
<li><strong>注释 comments</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 使用井号字符 &#x27;#&#x27; 来表示注释</span><br><span class="line">  - 注释的内容为从 &#x27;#&#x27; 字符直到物理行的末尾</span><br><span class="line">  - 对于逻辑行中的多个物理行，每一个物理行都可以包含自己的注释</span><br><span class="line">  - &#x27;#&#x27; 字符若出现在 string literal 中，不表示注释</span><br></pre></td></tr></table></figure></li>
<li><strong>编码声明 encoding declaration</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 编码声明 encoding declaration</span><br><span class="line">  - python 默认采用 utf-8 encoding</span><br><span class="line">  - 可以在 source code 中添加编码声明，可以通知 python 采用合适的 encoding</span><br><span class="line">  - 编码声明须只要符合正则 &#x27;coding[=:]\s*([-\w.]+)&#x27; 即可</span><br><span class="line">    - # -*- coding: &lt;encoding-name&gt; -*-, which is recognized also by GNU Emacs</span><br><span class="line">    - # vim:fileencoding=&lt;encoding-name&gt;, which is recognized by Bram Moolenaar’s VIM.</span><br><span class="line">  - 无 shebang 时，编码声明放在第一行</span><br><span class="line">  - 有 shebang 时，编码声明放在第二行</span><br><span class="line">  - 关于 python 支持的 encoding，可以查看 codecs 模块</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: encoding -*-</span></span><br><span class="line"><span class="comment"># 单独的编码声明</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8-*-</span></span><br><span class="line"><span class="comment"># 带 shebang 的编码声明</span></span><br></pre></td></tr></table></figure></li>
<li><strong>缩进 indentation</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - python 源码中使用缩进来组织语句</span><br><span class="line">  - 逻辑行的前导空白，不论是 space 还是 tab，会被用来计算此行的缩进层级，继而决定了语句的组织</span><br><span class="line">  - 不推荐使用 tab 来进行缩进</span><br><span class="line">    - 在计算缩进时，tab 会被转换为 space，具体转换为多少个 space 取决于平台，转换的结果通常为为向八对齐</span><br><span class="line">    - 如果源码的缩进中同时使用了 tab 和 space 来进行缩进，则此缩进会被拒绝，因为具体的计算结果会取决于平台将 tab 识别为多少个 space</span><br><span class="line">    - 混用 tab 和 space 会抛出 TabError</span><br><span class="line">  - 缩进在源码解析时会通过 stack 来产生 INDENT 和 DEDENT tokens</span><br><span class="line"></span><br><span class="line">* 计算缩进层级的过程</span><br><span class="line">  1. Before the first line of the file is read, a single zero is pushed on the stack; this will never be popped off again.</span><br><span class="line">    - The numbers pushed on the stack will always be strictly increasing from bottom to top.</span><br><span class="line">  2. At the beginning of each logical line, the line’s indentation level is compared to the top of the stack.</span><br><span class="line">    - If it is equal, nothing happens.</span><br><span class="line">    - If it is larger, it is pushed on the stack, and one INDENT token is generated.</span><br><span class="line">    - If it is smaller, it must be one of the numbers occurring on the stack; all numbers on the stack that are larger are popped off, and for each number popped off a DEDENT token is generated.</span><br><span class="line">  3. At the end of the file, a DEDENT token is generated for each number remaining on the stack that is larger than zero.</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：关键字"><a href="#知识点：关键字" class="headerlink" title="知识点：关键字"></a>知识点：关键字</h3><ol>
<li><strong>关键字 keywords</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* 也称为保留字 reserved words</span><br><span class="line"></span><br><span class="line">* 3.10 包含 35 个</span><br><span class="line"></span><br><span class="line">* 区分大小写</span><br><span class="line"></span><br><span class="line">  False      await      else       import     pass</span><br><span class="line">  None       break      except     in         raise</span><br><span class="line">  True       class      finally    is         return</span><br><span class="line">  and        continue   for        lambda     try</span><br><span class="line">  as         def        from       nonlocal   while</span><br><span class="line">  assert     del        global     not        with</span><br><span class="line">  async      elif       if         or         yield</span><br><span class="line"></span><br><span class="line">* Soft Keywords</span><br><span class="line">  - 3.10 新特性</span><br><span class="line">  - 仅在特定上下文中，才会被认为是关键字</span><br><span class="line">  - 包括: match、case、_，仅在 pattern matching statement 才会被认为是关键字</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="4-2-表达式"><a href="#4-2-表达式" class="headerlink" title="4.2 表达式"></a>4.2 表达式</h2><h3 id="知识点：表达式"><a href="#知识点：表达式" class="headerlink" title="知识点：表达式"></a>知识点：表达式</h3><ol>
<li><strong>表达式 expression</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 也可以称为计算式</span><br><span class="line">  - 可以用于计算求值 evaluation，并返回计算结果</span><br><span class="line">  - 可以用于呼叫一个过程 procedure，则返回 None</span><br><span class="line"></span><br><span class="line">* 表达式列表 expression list</span><br><span class="line">  - 使用 &#x27;,&#x27; 来间隔多个表达式</span><br></pre></td></tr></table></figure></li>
<li><strong>操作符 operator</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 一元操作符 unary operator</span><br><span class="line">  - 二元操作符 binary operatro</span><br><span class="line">  - 操作数 operand</span><br><span class="line"></span><br><span class="line">* 操作符</span><br><span class="line">  +  -  *  **  /  //  %  @</span><br><span class="line">  &lt;   &gt;   &lt;=  &gt;=  ==  !=</span><br><span class="line">  &lt;&lt;  &gt;&gt;  &amp;  |  ^  ~</span><br><span class="line">  :=</span><br><span class="line"></span><br><span class="line">* 界定符 Delimiters</span><br><span class="line">  ( ) 括号 parentheses</span><br><span class="line">  [ ] 方括号 square brackets</span><br><span class="line">  &#123; &#125; 大括号 curly braces</span><br><span class="line">  ,  :  .  ;  @</span><br><span class="line">  =  -&gt;</span><br><span class="line">  +=  -=  *=  /=  //=  %=  @=  &amp;=  |=  ^=  &gt;&gt;=  &lt;&lt;=  **=</span><br></pre></td></tr></table></figure></li>
<li><strong>原子和原型</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 原子 atom</span><br><span class="line">  - 原子是表达式的最基本构成元素</span><br><span class="line">  - 最简单的原子是标识符和字面值</span><br><span class="line">  - 以圆括号、方括号、花括号包括的形式在语法上也被归类为原子</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  atom      ::=  identifier | literal | enclosure</span><br><span class="line">  enclosure ::=  parenth_form | list_display | dict_display | set_display | generator_expression | yield_atom</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 原型 primary</span><br><span class="line">  - 原型代表编程语言中最紧密绑定的操作</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  primary ::=  atom | attributeref | subscription | slicing | call</span><br></pre></td></tr></table></figure></li>
<li><strong>括号 Parenthesized</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 括号可以提高表达式的优先级</span><br><span class="line">  - 如果括号中为 expression list，则返回一个 tuple</span><br><span class="line"></span><br><span class="line">* 空括号返回 empty tuple</span><br></pre></td></tr></table></figure></li>
<li><strong>可迭代对象解包 iterable unpacking</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 从可迭代对象重拆解出迭代项的序列</span><br><span class="line">  - 可以用于创建新的列表、元组等</span><br><span class="line"></span><br><span class="line">* 格式: *iterable</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="built_in">range</span>(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(*a)</span><br><span class="line"><span class="comment"># 输出为：0 1 2 3 4 5 6 7 8 9</span></span><br><span class="line"></span><br><span class="line">a=<span class="built_in">range</span>(<span class="number">10</span>)</span><br><span class="line">b=[*a]</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment"># 输出为：[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：数值运算"><a href="#知识点：数值运算" class="headerlink" title="知识点：数值运算"></a>知识点：数值运算</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* numeric operations</span><br><span class="line"></span><br><span class="line">* 类型转换</span><br><span class="line">  - int --&gt; float --&gt; complex</span><br></pre></td></tr></table></figure></li>
<li><strong>普通数值运算</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* 关于除法，x == (x//y)*y + (x%y)</span><br><span class="line"></span><br><span class="line">x + y   加法 addition 求和 sum</span><br><span class="line">x - y   减法 subtraction 求差 difference</span><br><span class="line">x * y   乘法 multiplication 求积 product</span><br><span class="line">x / y   除法 division 求商 quotient</span><br><span class="line">x // y  地板除 floor division，向负无穷 minus infinity 方向取整</span><br><span class="line">x % y   模除 modulo 求余数 remainder</span><br><span class="line">x ** y  求幂</span><br><span class="line">-x</span><br><span class="line">+x</span><br><span class="line">abs(x)          求绝对值 absolute value，求模 magnitude</span><br><span class="line">c.conjugate()   复数求共轭 conjugate</span><br><span class="line">int(x)</span><br><span class="line">float(x)</span><br><span class="line">complex(re, im)</span><br><span class="line">divmod(x, y)</span><br><span class="line">pow(x, y)</span><br></pre></td></tr></table></figure></li>
<li><strong>按位运算 Bitwise Operations</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 只对 int 型生效</span><br><span class="line">  - 优先级低于普通算数运算，高于比较运算</span><br><span class="line"></span><br><span class="line">x &amp; y   按位与 bitwise and</span><br><span class="line">x | y   按位或 bitwise or</span><br><span class="line">x ^ y   按位亦或 bitwise exclusive or</span><br><span class="line">x &lt;&lt; n  左移 n 位 shifted left by n bits</span><br><span class="line">x &gt;&gt; n  右移 n 位 shifted right by n bits</span><br><span class="line">~x      按位取反 bitwise inversion，数值上相当于 -(x+1)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：矩阵运算"><a href="#知识点：矩阵运算" class="headerlink" title="知识点：矩阵运算"></a>知识点：矩阵运算</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">A + B   矩阵加法</span><br><span class="line">A - B   矩阵减法</span><br><span class="line">A * B   矩阵逐项乘积</span><br><span class="line">A @ B   矩阵乘法 matrix multiplication</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">A = np.random.randint(<span class="number">1</span>,<span class="number">10</span>,size = (<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line">B = np.random.randint(<span class="number">1</span>,<span class="number">10</span>,size = (<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(A)</span><br><span class="line"><span class="built_in">print</span>(B)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(A+B)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：比较运算"><a href="#知识点：比较运算" class="headerlink" title="知识点：比较运算"></a>知识点：比较运算</h3><ol>
<li><strong>比较运算 comparisons</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - is、not is、&lt;、&lt;=、&gt;、&gt;=、==、!= 是 python 内置的 8 个比较操作，均具有相同的优先级</span><br><span class="line">  - 返回值为 True/False</span><br></pre></td></tr></table></figure></li>
<li><strong>值比较 value comparisons</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 比较两个对象的 value</span><br><span class="line">  - 不要求对象必须是相同的类型</span><br><span class="line"></span><br><span class="line">* &lt;、&lt;=、&gt;、&gt;=</span><br><span class="line">  - 次序比较 order comparison</span><br><span class="line">  - 仅在其有意义时生效，否则会抛出 TypeError 异常，如比较 complex number</span><br><span class="line">  - 特殊方法，__lt__()、__le__()、__gt__()、__ge__()</span><br><span class="line">  - 其他</span><br><span class="line">    - float(&#x27;nan&#x27;) 与数值型的次序比较的结果永远是 False</span><br><span class="line">    - complex、range 不支持次序比较</span><br><span class="line">    - 序列类型只能与相同类型的对象进行次序比较</span><br><span class="line"></span><br><span class="line">* ==、!=</span><br><span class="line">  - 相等比较 equality comparison</span><br><span class="line">  - 除各种 numeric 外，不同类型的对象不能进行相等比较</span><br><span class="line">  - 特殊方法，__eq__()</span><br><span class="line">  - 其他</span><br><span class="line">    - 两个序列对象如果相等比较结果为 True，则一定是类型相同、长度相同、每个元素都相同</span><br><span class="line"></span><br><span class="line">* 排序</span><br><span class="line">  - 排序底层都是通过比较来实现的</span><br><span class="line">  - 严格意义上要求 class 具有 __lt__()、__le__()、__gt__()、__ge__()</span><br><span class="line">  - 惯例仅要求 class 具有 __lt__()、__eq__() 就足够了</span><br><span class="line">  - 最少要具有 __lt__()，否则对象不支持排序操作</span><br></pre></td></tr></table></figure></li>
<li><strong>身份比较 identity comparisons</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* is，not is</span><br><span class="line">  - 对象身份检测 object identity</span><br><span class="line">  - 返回值为 True/False</span><br><span class="line">  - is 和 not is 的功能无法进行重载</span><br></pre></td></tr></table></figure></li>
<li><strong>成员检测 membership test</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* in，not in</span><br><span class="line">  - 成员检测</span><br><span class="line">  - 返回值为 True/False</span><br><span class="line">  - 底层通过迭代 + is 来实现</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：布尔运算"><a href="#知识点：布尔运算" class="headerlink" title="知识点：布尔运算"></a>知识点：布尔运算</h3><ol>
<li><strong>布尔运算 Boolean Operations</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - and 和 or 是返回最后一个计算的表达式的值，而不是简单的 True/False</span><br><span class="line">  - 布尔运算的优先级要低于比较运算</span><br><span class="line">  - 短路运算符 short-circuit operators</span><br><span class="line">    - 表达式的计算从左向右进行</span><br><span class="line">    - 如果计算的结果可以被确定则不会再执行后续的计算</span><br><span class="line"></span><br><span class="line">* expression_1 and expression_2</span><br><span class="line">  - 如果 expression_1 为 True 则返回 expression_2 的值</span><br><span class="line">  - 如果 expression_1 为 False 则返回 expression_1 的值</span><br><span class="line"></span><br><span class="line">* expression_1 or expression_2</span><br><span class="line">  - 如果 expression_1 为 True 则返回 expression_1 的值</span><br><span class="line">  - 如果 expression_1 为 False 则返回 expression_2 的值</span><br><span class="line"></span><br><span class="line">* not expression</span><br><span class="line">  - 返回 expression 对应的 True/False 的取反</span><br><span class="line">  - not 优先级要比其他任何 non-Boolean 操作符都要低</span><br><span class="line">    - not a == b 相当于 not (a == b )</span><br><span class="line">    - a == not b 则是一个语法错误</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：条件表达式"><a href="#知识点：条件表达式" class="headerlink" title="知识点：条件表达式"></a>知识点：条件表达式</h3><ol>
<li><strong>条件表达式 conditional expression</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 也称为三元运算符 ternary operator</span><br><span class="line">  - 优先级在 python 的所有运算符中最低</span><br><span class="line"></span><br><span class="line">* 格式: expression_1 if test_expression else expression_2</span><br><span class="line">  - 如果 test_expression 的值为 True，则返回 expression_1 的值</span><br><span class="line">  - 如果 test_expression 的值为 False，则返回 expression_2 的值</span><br><span class="line">  - 也遵循短路逻辑，即只会计算 test_expression 和需要返回的 expression，不需要返回的 expression 不会进行计算</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：海象运算"><a href="#知识点：海象运算" class="headerlink" title="知识点：海象运算"></a>知识点：海象运算</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* walrus operator</span><br><span class="line">  - :=</span><br><span class="line"></span><br><span class="line">* 海象运算不可以放在 top level 层</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="4-3-语句"><a href="#4-3-语句" class="headerlink" title="4.3 语句"></a>4.3 语句</h2><h3 id="知识点：pass-语句"><a href="#知识点：pass-语句" class="headerlink" title="知识点：pass 语句"></a>知识点：pass 语句</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  pass</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 空操作 null operation，不做任何事，仅占位 placeholder</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：del-语句"><a href="#知识点：del-语句" class="headerlink" title="知识点：del 语句"></a>知识点：del 语句</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  del target_list</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 解除 name 和 object 的绑定</span><br><span class="line">    - 即，在相应的 namespace 中删除其中记录的 name:object 映射</span><br><span class="line">  - 同时 object 的引用计数器 reference count 减一</span><br><span class="line">  - 如果 name 不存在，则抛出 NameError</span><br><span class="line">  - 删除 attribute、subscriptions、slicing 会被传递给相应的原型对象并转化为相应的操作</span><br><span class="line">    - 删除 slicing 会转化为对 slicing 置空</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：if-语句"><a href="#知识点：if-语句" class="headerlink" title="知识点：if 语句"></a>知识点：if 语句</h3><ol>
<li><strong>格式</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> expression:</span><br><span class="line">  Suite</span><br><span class="line"><span class="keyword">elif</span> expression:</span><br><span class="line">  Suite</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">  Suite</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：while-语句"><a href="#知识点：while-语句" class="headerlink" title="知识点：while 语句"></a>知识点：while 语句</h3><ol>
<li><strong>格式</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> expression:</span><br><span class="line">  Suite</span><br><span class="line"><span class="keyword">else</span>:         <span class="comment"># 当 while 的条件为 false 时，执行 else 语句，然后退出循环</span></span><br><span class="line">  Suite       <span class="comment"># break 不会引发执行 else_clause</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：for-语句"><a href="#知识点：for-语句" class="headerlink" title="知识点：for 语句"></a>知识点：for 语句</h3><ol>
<li><strong>格式</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> target_list <span class="keyword">in</span> expression:</span><br><span class="line">  Suite</span><br><span class="line"><span class="keyword">else</span>:         <span class="comment"># 当 for 的 iterator 耗尽时，执行 else 语句，然后退出循环</span></span><br><span class="line">  Suite       <span class="comment"># break 不会引发执行 else_clause</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - expression 只在开始循环时计算一次，返回一个 iterable</span><br><span class="line">  - for 针对 iterable 创建一个 iterator</span><br><span class="line">  - 每一轮迭代，将 iterator 返回的值赋值给 target_list 中的每一个 name</span><br><span class="line">  - 当 iterator 耗尽时，循环结束</span><br><span class="line">  - 实际为通过捕捉 StopIteration 来判断 iterator 是否耗尽</span><br><span class="line"></span><br><span class="line">* target_list</span><br><span class="line">  - 可以使用 *arg 的格式，与带星号的赋值语句格式相同，来从任意长度的 iterable 中获取元素</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：break-语句"><a href="#知识点：break-语句" class="headerlink" title="知识点：break 语句"></a>知识点：break 语句</h3><ol>
<li><strong>格式</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 终止最近的一层外围循环 nearest enclosing loop</span><br><span class="line">  - 如果 break 是将控制权移交给了 try 语句，则会先执行 finally_clause 再终止循环</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：continue-语句"><a href="#知识点：continue-语句" class="headerlink" title="知识点：continue 语句"></a>知识点：continue 语句</h3><ol>
<li><strong>格式</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">continue</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 开始进行下一轮的循环，针对最近的一层外围循环 nearest enclosing loop</span><br><span class="line">  - 如果 continue 是将控制权移交给了 try 语句，则会先执行 finally_clause 再进行下一轮循环</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：赋值语句"><a href="#知识点：赋值语句" class="headerlink" title="知识点：赋值语句"></a>知识点：赋值语句</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 赋值语句，用于将 name 和 object 进行绑定 bind/rebind</span><br><span class="line">  - 赋值语句并不复制数据，而是将名称绑定到对象</span><br><span class="line"></span><br><span class="line">* 绑定 bonding</span><br><span class="line">  - 将标识符与对象关联起来</span><br><span class="line">  - 在相应的 namespace 中添加 name:object 的映射项</span><br><span class="line">  - 一个对象可以绑定多个 identifier</span><br><span class="line">  - 一个对象在不同的作用域内可以绑定给不同的 identifier，此功能称为别名 aliasing</span><br><span class="line">  - 绑定操作使用对象在内存中的地址来进行，即指针 pointer</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="2-普通赋值"><a href="#2-普通赋值" class="headerlink" title="2. 普通赋值"></a>2. 普通赋值</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">target=expression</span><br><span class="line">target,target=expression</span><br><span class="line"></span><br><span class="line">* target</span><br><span class="line">  - 可以是 identifier</span><br><span class="line">  - 可以是 subscription</span><br><span class="line"></span><br><span class="line">* expression</span><br><span class="line">  - 可以是普通表达式</span><br><span class="line">  - 可以是 yield_expression</span><br></pre></td></tr></table></figure>
<h4 id="2-序列解包-unpacking"><a href="#2-序列解包-unpacking" class="headerlink" title="2. 序列解包 unpacking"></a>2. 序列解包 unpacking</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  target, target, ... = expression</span><br><span class="line"></span><br><span class="line">* expression 必须是一个 iterable，并且元素的数量必须等于 target 的数量</span><br><span class="line">  - 列表、元组、字符串、文件、迭代器、生成器</span><br><span class="line"></span><br><span class="line">* 序列嵌套解包</span><br><span class="line">  x,[y,z]=[1,[2,3]]</span><br></pre></td></tr></table></figure>
<h4 id="3-切片赋值"><a href="#3-切片赋值" class="headerlink" title="3. 切片赋值"></a>3. 切片赋值</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 切片不带步长</span><br><span class="line">  list[start:stop] = expression</span><br><span class="line"></span><br><span class="line">* expression 的元素数量没有限制</span><br><span class="line">* 切片对应的列表段会修改为 expression 对应的序列</span><br><span class="line">* 切片省略 start 会从列表的开头进行修改</span><br><span class="line">* 切片省略 stop 会修改到列表的末尾</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 切片带步长</span><br><span class="line">  list[start:stop:step] = expression</span><br><span class="line"></span><br><span class="line">* expression 的元素的数量必须等于切片的元素的数量</span><br></pre></td></tr></table></figure>
<h4 id="4-属性赋值"><a href="#4-属性赋值" class="headerlink" title="4. 属性赋值"></a>4. 属性赋值</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  object.attribute = expression</span><br><span class="line"></span><br><span class="line">* object</span><br><span class="line">  - 如果是类对象，可以直接修改类对象的属性</span><br><span class="line">  - 如果是实例对象，则无法修改类对象的属性，而是在实例对象下新建一个属性并为其赋值</span><br></pre></td></tr></table></figure>
<h4 id="5-带星号的赋值"><a href="#5-带星号的赋值" class="headerlink" title="5. 带星号的赋值"></a>5. 带星号的赋值</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 使用带星号的赋值语句，可以从任意长度的可迭代对象 iterables of Arbitrary length 中解包出元素</span><br><span class="line">  - 如果解包后的部分内容需要丢弃，则习惯上命名为 ign/ignored</span><br><span class="line">  - 特别适合 str.split() 方法，见范例二</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  [pre_target], star_target, [suf_target] = expression</span><br><span class="line"></span><br><span class="line">* expression 的结果必须是一个 iterable，并且元素的数量不能少于 target 数量减一</span><br><span class="line">  - 第一个元素与 pre_target 绑定</span><br><span class="line">  - 最后一个元素与 suf_target 绑定</span><br><span class="line">  - 其他的元素组成一个 list，与 star_target 绑定，如果元素不足的绑定一个 empty list</span><br><span class="line"></span><br><span class="line">* target</span><br><span class="line">  - pre_target、suf_target</span><br><span class="line">    - 可以有多个，也可以省略，但不能全都省略</span><br><span class="line">  - star_target</span><br><span class="line">    - 形式上为一个带 &#x27;*&#x27; 的 name</span><br><span class="line">    - 只能出现一个</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a,*b,c=<span class="built_in">range</span>(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(a)</span><br><span class="line"><span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(b)</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(c)</span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例二</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>line = <span class="string">&#x27;nobody:*:-2:-2:Unprivileged User:/var/empty:/usr/bin/false&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>uname, *fields, homedir, sh = line.split(<span class="string">&#x27;:&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(uname)</span><br><span class="line"><span class="string">&#x27;nobody&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(homedir)</span><br><span class="line"><span class="string">&#x27;/var/empty&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(sh)</span><br><span class="line"><span class="string">&#x27;/usr/bin/false&#x27;</span></span><br></pre></td></tr></table></figure>
<h4 id="6-增强赋值-Augmented-assignment"><a href="#6-增强赋值-Augmented-assignment" class="headerlink" title="6. 增强赋值 Augmented assignment"></a>6. 增强赋值 Augmented assignment</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  target aug-op expression</span><br><span class="line"></span><br><span class="line">* aug-op</span><br><span class="line">  - +=、-=、*=、/=、%=、//=、**=</span><br><span class="line">  - &gt;&gt;=、&lt;&lt;=</span><br><span class="line">  - &amp;=</span><br><span class="line">  - ^=</span><br><span class="line">  - @=</span><br><span class="line">  - |=</span><br><span class="line"></span><br><span class="line">* 只允许一个 target</span><br></pre></td></tr></table></figure>
<h4 id="7-带标注的赋值-Annotated-assignment"><a href="#7-带标注的赋值-Annotated-assignment" class="headerlink" title="7. 带标注的赋值 Annotated assignment"></a>7. 带标注的赋值 Annotated assignment</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  target : anno_exp [ = expression]</span><br><span class="line"></span><br><span class="line">* 如果出现在模块或类中，则标注会储存在模块或类的 __annotations__ 字典中</span><br><span class="line"></span><br><span class="line">* 如果出现在函数中，则只会对 target 进行赋值，不会对 anno_exp 进行计算或储存</span><br><span class="line"></span><br><span class="line">* 如果省略 &#x27;=expression&#x27;，则只会进行标注的记录</span><br></pre></td></tr></table></figure>
<h4 id="8-连续赋值"><a href="#8-连续赋值" class="headerlink" title="8. 连续赋值"></a>8. 连续赋值</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  target = target = expression</span><br><span class="line"></span><br><span class="line">* 多个 target 绑定在同一个对象上</span><br></pre></td></tr></table></figure>

<h3 id="知识点：match-语句"><a href="#知识点：match-语句" class="headerlink" title="知识点：match 语句"></a>知识点：match 语句</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 类似于 C 或 java 中的 switch 语句</span><br><span class="line"></span><br><span class="line">* Only the first pattern that matches gets executed</span><br><span class="line"></span><br><span class="line">* the “variable name” _ acts as a wildcard and never fails to match.</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">match expression:</span><br><span class="line">  case pattern:</span><br><span class="line">    expressions</span><br><span class="line">  case pattern | pattern :</span><br><span class="line">    expressions</span><br><span class="line">  case _:</span><br><span class="line">    expressions</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># Patterns can look like unpacking assignments, and can be used to bind variables:</span><br><span class="line"># point is an (x, y) tuple</span><br><span class="line">match point:</span><br><span class="line">  case (0, 0):</span><br><span class="line">    print(&quot;Origin&quot;)</span><br><span class="line">  case (0, y):            # the variable binds a value from the subject (point).</span><br><span class="line">    print(f&quot;Y=&#123;y&#125;&quot;)</span><br><span class="line">  case (x, 0):            # the variable binds a value from the subject (point).</span><br><span class="line">    print(f&quot;X=&#123;x&#125;&quot;)</span><br><span class="line">  case (x, y):</span><br><span class="line">    print(f&quot;X=&#123;x&#125;, Y=&#123;y&#125;&quot;)</span><br><span class="line">  case _:</span><br><span class="line">    raise ValueError(&quot;Not a point&quot;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># If you are using classes to structure your data, you can use the class name followed by an argument list resembling a constructor, but with the ability to capture attributes into variables:</span><br><span class="line">class Point:</span><br><span class="line">  x: int</span><br><span class="line">  y: int</span><br><span class="line"></span><br><span class="line">def where_is(point):</span><br><span class="line">  match point:</span><br><span class="line">    case Point(x=0, y=0):</span><br><span class="line">      print(&quot;Origin&quot;)</span><br><span class="line">    case Point(x=0, y=y):</span><br><span class="line">      print(f&quot;Y=&#123;y&#125;&quot;)</span><br><span class="line">    case Point(x=x, y=0):</span><br><span class="line">      print(f&quot;X=&#123;x&#125;&quot;)</span><br><span class="line">    case Point():</span><br><span class="line">      print(&quot;Somewhere else&quot;)</span><br><span class="line">    case _:</span><br><span class="line">      print(&quot;Not a point&quot;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># We can add an if clause to a pattern, known as a “guard”.</span><br><span class="line">match point:</span><br><span class="line">  case Point(x, y) if x == y:</span><br><span class="line">    print(f&quot;Y=X at &#123;x&#125;&quot;)</span><br><span class="line">  case Point(x, y):</span><br><span class="line">    print(f&quot;Not on the diagonal&quot;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Subpatterns may be captured using the as keyword:</span><br><span class="line">case (Point(x1, y1), Point(x2, y2) as p2):</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="Chapter05-异常"><a href="#Chapter05-异常" class="headerlink" title="Chapter05 异常"></a>Chapter05 异常</h1><hr>
<h2 id="5-1-异常"><a href="#5-1-异常" class="headerlink" title="5.1 异常"></a>5.1 异常</h2><h3 id="知识点：异常"><a href="#知识点：异常" class="headerlink" title="知识点：异常"></a>知识点：异常</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">* 异常，exception</span><br><span class="line">  - 异常是 python 提供的用来处理程序错误的机制</span><br><span class="line">  - 异常会在错误被检测到的位置抛出 raise</span><br><span class="line">  - 异常可以被外围代码块处理，也可以由引发错误的代码块的调用者处理</span><br><span class="line">  - 若异常未被处理，则 python 会终止程序的运行，并打印栈追踪信息 stack traceback</span><br><span class="line"></span><br><span class="line">* 捕获和处理异常的程序代码块，称为 handler</span><br><span class="line"></span><br><span class="line">* raise 语句，用于显式抛出异常</span><br><span class="line"></span><br><span class="line">* try except 语句，用于编写 handler</span><br><span class="line"></span><br><span class="line">* 异常处理结束后，控制权会返回给 outer level</span><br></pre></td></tr></table></figure></li>
<li><strong>异常类</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 内置异常 BaseException 是所有的异常的基类</span><br><span class="line"></span><br><span class="line">* 内置异常 Exception 是大多数异常的基类</span><br><span class="line"></span><br><span class="line">* 自定义异常类</span><br><span class="line">  - 推荐基于 Exception 或其子类，而非 BaseException</span><br><span class="line">  - 推荐名称以 &#x27;Error&#x27; 结尾</span><br><span class="line">  - 推荐保持简单，仅包含一些在 handler 中需要使用的信息即可</span><br></pre></td></tr></table></figure></li>
<li><strong>异常的关联值和参数</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">* 异常的关联值 associated value</span><br><span class="line">  - 就是异常对象的 value，用来提示错误的详细原因</span><br><span class="line">  - 可以是字符串</span><br><span class="line">  - 可以是元组，其中的元素是字符串</span><br><span class="line"></span><br><span class="line">* 当实例化异常时，传递的参数会作为异常的关联值</span><br><span class="line"></span><br><span class="line">* 异常的参数会被储存在 instance.args 中</span><br><span class="line"></span><br><span class="line">* The presence and type of the argument depend on the exception type.</span><br><span class="line"></span><br><span class="line">* 异常中定义了 __str__() 方法来打印参数</span><br><span class="line"></span><br><span class="line">* 如果异常有参数，they are printed as the last part (‘detail’) of the message for unhandled exceptions.</span><br><span class="line"></span><br><span class="line">异常信息中会显示错误是在哪里碰到的，以栈堆栈回溯的形式 stack traceback</span><br><span class="line">一般会列出源代码行的堆栈回溯，但不会显示从标准输入读取的行</span><br></pre></td></tr></table></figure></li>
<li><strong>异常链</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* 异常链，exception chaining，在处理其他异常时，如果抛出了新的异常，则新的异常与原始异常一起构成异常链</span><br><span class="line">  - 可能发生在 except_clause、finally_clause、with_clause</span><br><span class="line">  - explicitly chained，手动 raise 异常</span><br><span class="line">  - implicitly chained，未手动 raise 异常</span><br><span class="line"></span><br><span class="line">* __context__、__cause__</span><br><span class="line">  - 新异常的属性，用于储存原始异常对象</span><br><span class="line">  - 区别</span><br><span class="line">    - __context__ 在任何情况下都生效，并且始终储存原始异常</span><br><span class="line">    - __cause__ 只会在显式确定异常链时才会生效，即 raise new_expection from other_exception</span><br><span class="line">    - __cause__ 储存的是 other_exception 而非原始异常，other_exception 可以设置为其他任意异常，也可以设置为 None</span><br><span class="line"></span><br><span class="line">* The default traceback display code shows these chained exceptions in addition to the traceback for the exception itself.</span><br><span class="line">* An explicitly chained exception in __cause__ is always shown when present. An implicitly chained exception in __context__ is shown only if __cause__ is None</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>标准异常</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* 标准异常，standard exception，python 内置的异常</span><br><span class="line">  - KeyboardInterrupt，用户生成的中断 user-generated interruption，例如 Unix 的 Ctrl-C</span><br></pre></td></tr></table></figure></li>
<li><strong>内置异常的层次结构</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">BaseException</span><br><span class="line">+-- SystemExit</span><br><span class="line">+-- KeyboardInterrupt</span><br><span class="line">+-- GeneratorExit</span><br><span class="line">+-- Exception</span><br><span class="line">    +-- StopIteration</span><br><span class="line">    +-- StopAsyncIteration</span><br><span class="line">    +-- ArithmeticError</span><br><span class="line">    |   +-- FloatingPointError</span><br><span class="line">    |   +-- OverflowError</span><br><span class="line">    |   +-- ZeroDivisionError</span><br><span class="line">    +-- AssertionError</span><br><span class="line">    +-- AttributeError</span><br><span class="line">    +-- BufferError</span><br><span class="line">    +-- EOFError</span><br><span class="line">    +-- ImportError</span><br><span class="line">    |   +-- ModuleNotFoundError</span><br><span class="line">    +-- LookupError</span><br><span class="line">    |   +-- IndexError</span><br><span class="line">    |   +-- KeyError</span><br><span class="line">    +-- MemoryError</span><br><span class="line">    +-- NameError</span><br><span class="line">    |   +-- UnboundLocalError</span><br><span class="line">    +-- OSError</span><br><span class="line">    |   +-- BlockingIOError</span><br><span class="line">    |   +-- ChildProcessError</span><br><span class="line">    |   +-- ConnectionError</span><br><span class="line">    |   |   +-- BrokenPipeError</span><br><span class="line">    |   |   +-- ConnectionAbortedError</span><br><span class="line">    |   |   +-- ConnectionRefusedError</span><br><span class="line">    |   |   +-- ConnectionResetError</span><br><span class="line">    |   +-- FileExistsError</span><br><span class="line">    |   +-- FileNotFoundError</span><br><span class="line">    |   +-- InterruptedError</span><br><span class="line">    |   +-- IsADirectoryError</span><br><span class="line">    |   +-- NotADirectoryError</span><br><span class="line">    |   +-- PermissionError</span><br><span class="line">    |   +-- ProcessLookupError</span><br><span class="line">    |   +-- TimeoutError</span><br><span class="line">    +-- ReferenceError</span><br><span class="line">    +-- RuntimeError</span><br><span class="line">    |   +-- NotImplementedError</span><br><span class="line">    |   +-- RecursionError</span><br><span class="line">    +-- SyntaxError</span><br><span class="line">    |   +-- IndentationError</span><br><span class="line">    |       +-- TabError</span><br><span class="line">    +-- SystemError</span><br><span class="line">    +-- TypeError</span><br><span class="line">    +-- ValueError</span><br><span class="line">    |   +-- UnicodeError</span><br><span class="line">    |       +-- UnicodeDecodeError</span><br><span class="line">    |       +-- UnicodeEncodeError</span><br><span class="line">    |       +-- UnicodeTranslateError</span><br><span class="line">    +-- Warning</span><br><span class="line">        +-- DeprecationWarning</span><br><span class="line">        +-- PendingDeprecationWarning</span><br><span class="line">        +-- RuntimeWarning</span><br><span class="line">        +-- SyntaxWarning</span><br><span class="line">        +-- UserWarning</span><br><span class="line">        +-- FutureWarning</span><br><span class="line">        +-- ImportWarning</span><br><span class="line">        +-- UnicodeWarning</span><br><span class="line">        +-- BytesWarning</span><br><span class="line">        +-- EncodingWarning</span><br><span class="line">        +-- ResourceWarning</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：try-语句"><a href="#知识点：try-语句" class="headerlink" title="知识点：try 语句"></a>知识点：try 语句</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* try 语句可以有多个 except_clause，来为不同的异常指定处理程序</span><br><span class="line"></span><br><span class="line">* 最多只有一个 except_clause 会被执行</span><br><span class="line"></span><br><span class="line">* excpet_clause 中，可以通过元组的形式指定多个异常，如 except (RuntimeError, TypeError, NameError)</span><br><span class="line"></span><br><span class="line">* 异常可以使用 &#x27;Exception&#x27; 来代指所有异常</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">try :</span><br><span class="line">  Suite</span><br><span class="line">except expression :                   # except_clause 中可以包含 return、continue、break 等语句</span><br><span class="line">  Suite</span><br><span class="line">except expression as identifier :</span><br><span class="line">  Suite</span><br><span class="line">except :                              # 不指定任何 express 的 except_clause，会捕获所有的异常，只能作为最后一个 except_Clause</span><br><span class="line">  Suite</span><br><span class="line">else :                                # 当没有发生异常时，执行的语句</span><br><span class="line">  Suite</span><br><span class="line">finally :                             # 不论是否有异常，都会执行的语句</span><br><span class="line">  Suite</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* If the finally clause executes a break, continue or return statement, exceptions are not re-raised.</span><br><span class="line">* If the try statement reaches a break, continue or return statement, the finally clause will execute just prior to the break, continue or return statement’s execution.</span><br><span class="line"></span><br><span class="line">* When return passes control out of a try statement with a finally clause, that finally clause is executed before really leaving the function.</span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 常用用法</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">  <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">      func()</span><br><span class="line">      <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&#x27;错误提示信息&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：raise-语句"><a href="#知识点：raise-语句" class="headerlink" title="知识点：raise 语句"></a>知识点：raise 语句</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* raise 语句，用于显式的抛出异常</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">raise expression</span><br><span class="line">  - 抛出 expression 指定的异常</span><br><span class="line">  - expression 的结果必须是一个异常，或者异常的子类</span><br><span class="line"></span><br><span class="line">raise</span><br><span class="line">  - 在 except_clause 中 re-raise 上一个处理的异常，也就是 active exception</span><br><span class="line">  - 如果当前没有 active exception，则抛出 RuntimeError</span><br><span class="line"></span><br><span class="line">raise expression from expression</span><br><span class="line">  - 构成异常链</span><br></pre></td></tr></table></figure>

<h3 id="知识点：assert-语句"><a href="#知识点：assert-语句" class="headerlink" title="知识点：assert 语句"></a>知识点：assert 语句</h3><hr>
<h2 id="5-2-traceback-模块"><a href="#5-2-traceback-模块" class="headerlink" title="5.2 traceback 模块"></a>5.2 traceback 模块</h2><h3 id="知识点：traceback-模块"><a href="#知识点：traceback-模块" class="headerlink" title="知识点：traceback 模块"></a>知识点：traceback 模块</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - traceback 模块提供了一个标准接口，来提取、格式化、打印 Python 程序的堆栈跟踪结果 stack traces</span><br><span class="line">  - traceback 模块完全模仿了 Python 解释器在打印堆栈跟踪结果时的行为</span><br><span class="line">  - 通过 traceback 模块，可以对堆栈跟踪结果的输出进行自定义</span><br><span class="line"></span><br><span class="line">* traceback object</span><br><span class="line">  - traceback 模块使用 traceback object</span><br><span class="line">  - sys.last_traceback 变量储存的就是 traceback object</span><br><span class="line">  - sys.exc_info() 的第三项返回的也是 traceback object</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="2-函数"><a href="#2-函数" class="headerlink" title="2. 函数"></a>2. <strong>函数</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*</span><br></pre></td></tr></table></figure>
<h4 id="3-TracebackException-Objects"><a href="#3-TracebackException-Objects" class="headerlink" title="3. TracebackException Objects"></a>3. <strong>TracebackException Objects</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*</span><br></pre></td></tr></table></figure>
<h4 id="4-StackSummary-Objects"><a href="#4-StackSummary-Objects" class="headerlink" title="4. StackSummary Objects"></a>4. <strong>StackSummary Objects</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*</span><br></pre></td></tr></table></figure>
<h4 id="5-FrameSummary-Objects"><a href="#5-FrameSummary-Objects" class="headerlink" title="5. FrameSummary Objects"></a>5. <strong>FrameSummary Objects</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="5-3-审计事件"><a href="#5-3-审计事件" class="headerlink" title="5.3 审计事件"></a>5.3 审计事件</h2><hr>
<h1 id="Chapter06-数据类型"><a href="#Chapter06-数据类型" class="headerlink" title="Chapter06 数据类型"></a>Chapter06 数据类型</h1><hr>
<h2 id="6-1-数据类型介绍"><a href="#6-1-数据类型介绍" class="headerlink" title="6.1 数据类型介绍"></a>6.1 数据类型介绍</h2><h3 id="知识点：内置数据类型"><a href="#知识点：内置数据类型" class="headerlink" title="知识点：内置数据类型"></a>知识点：内置数据类型</h3><ol>
<li><strong>内置常量 builtin constants</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* 内置常量常驻于 builtin namespace 中</span><br><span class="line"></span><br><span class="line">* True</span><br><span class="line">  - boolean 类型的 true value</span><br><span class="line"></span><br><span class="line">* False</span><br><span class="line">  - boolean 类型的 false value</span><br><span class="line"></span><br><span class="line">* None</span><br><span class="line">  - 表示 absence of a value</span><br><span class="line"></span><br><span class="line">* NotImplemented</span><br><span class="line"></span><br><span class="line">* __debug__</span><br></pre></td></tr></table></figure></li>
<li><strong>内置数值类型 builtin numeric types</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 最基本的三种 numeric 类型，int、float、complex</span><br><span class="line">  - boolean 本质上是 int 的 subtype</span><br><span class="line"></span><br><span class="line">* 标准库中仍提供了一些其他的 numeric 类型</span><br><span class="line">  - fractions.Fraction，来表示有理数 rationals</span><br><span class="line">  - decimal.Decimal，以十进制储存的浮点数</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="6-2-数值型"><a href="#6-2-数值型" class="headerlink" title="6.2 数值型"></a>6.2 数值型</h2><h3 id="知识点：int-型"><a href="#知识点：int-型" class="headerlink" title="知识点：int 型"></a>知识点：int 型</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* int 型具有无限长度，int 型的长度仅取决于硬件内存</span><br></pre></td></tr></table></figure></li>
<li><strong>字面量</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">* 下划线</span><br><span class="line">  - 所有字面量均使用下划线来对数字进行分组，以增加可读性</span><br><span class="line">  - 下划线可以位于数字之间，也可以位于数字前缀之后，如 0x</span><br><span class="line">  - 不可以有两个连续的下划线</span><br><span class="line"></span><br><span class="line">* 十进制数不允许存在 leading zeros</span><br><span class="line">  - 可以使用 000，但不可以使用 010</span><br><span class="line"></span><br><span class="line">* decinteger</span><br><span class="line">  ::= [+|-]&lt;0...9&gt;+</span><br><span class="line"></span><br><span class="line">* bininteger</span><br><span class="line">  ::= [+|-]0b&lt;0...1&gt;+</span><br><span class="line">  ::= [+|-]0B&lt;0...1&gt;+</span><br><span class="line"></span><br><span class="line">* octinteger</span><br><span class="line">  ::= [+|-]0o&lt;0...7&gt;+</span><br><span class="line">  ::= [+|-]0O&lt;0...7&gt;+</span><br><span class="line"></span><br><span class="line">* hexinteger</span><br><span class="line">  ::= [+|-]0x&lt;0...9a...fA...F&gt;+</span><br><span class="line">  ::= [+|-]0X&lt;0...9a...fA...F&gt;+</span><br></pre></td></tr></table></figure></li>
<li><strong>int()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* 实现</span><br><span class="line">  - x.__int__()</span><br><span class="line">  - x.__index__()</span><br><span class="line">  - x.__trunc__()</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  class int([x])</span><br><span class="line">  class int(x, base=10)</span><br><span class="line"></span><br><span class="line">* 参数 x</span><br><span class="line">  - 可以是 number，float、decimal 等会对其截断到 0</span><br><span class="line">  - 可以是 string、bytes、bytearray</span><br><span class="line">    - 必须符合 integer literial</span><br><span class="line">    - 可以加符号，但符号与数字之间不能有空格</span><br><span class="line"></span><br><span class="line">* 参数 base</span><br><span class="line">    - 指定对 x 进行解读的进位制</span><br><span class="line">    - 当指定了 base 参数时，x 必须是 string、bytes、bytearray</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># string 不符合 integer literial 会报错</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">int</span>(<span class="number">115.115</span>)</span><br><span class="line"><span class="number">115</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">int</span>(<span class="string">&#x27;115.115&#x27;</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">ValueError: invalid literal <span class="keyword">for</span> <span class="built_in">int</span>() <span class="keyword">with</span> base <span class="number">10</span>: <span class="string">&#x27;115.115&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li><strong>int.from_bytes()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  classmethod int.from_bytes(bytes, byteorder, *, signed=False)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回 bytes 所表示的 int 数</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">int</span>.from_bytes(<span class="string">b&#x27;\x00\x10&#x27;</span>, byteorder=<span class="string">&#x27;big&#x27;</span>)</span><br><span class="line"><span class="number">16</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">int</span>.from_bytes(<span class="string">b&#x27;\x00\x10&#x27;</span>, byteorder=<span class="string">&#x27;little&#x27;</span>)</span><br><span class="line"><span class="number">4096</span></span><br></pre></td></tr></table></figure></li>
<li><strong>int.bit_length()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  int.bit_length()</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回 int 对应的二进制数是多少位，不包括符号位</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>n = <span class="number">37</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">bin</span>(n)</span><br><span class="line"><span class="string">&#x27;0b100101&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>n.bit_length()</span><br><span class="line"><span class="number">6</span></span><br></pre></td></tr></table></figure></li>
<li><strong>int.bit_count()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  int.bit_count()</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回 int 对应的二进制数中 1 的个数，也称为 population count</span><br></pre></td></tr></table></figure></li>
<li><strong>int.as_integer_ratio()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  int.as_integer_ratio()</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返一个元组，包含两个整数，其比率 ratio 正好等于 int 并且分母为正数</span><br><span class="line">  - 整数的比率总是用这个整数本身作为分子，1 作为分母</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># int.as_integer_ratio</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="number">15</span>).as_integer_ratio()</span><br><span class="line">(<span class="number">15</span>, <span class="number">1</span>)</span><br></pre></td></tr></table></figure></li>
<li><strong>int.to_bytes()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  int.to_bytes(length, byteorder, *, signed=False)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回 int 对应的 bytes 型数据</span><br><span class="line"></span><br><span class="line">* 参数  length</span><br><span class="line">  - 指定 bytes 型数据中字节的个数</span><br><span class="line">  - 若长度超出则添加前缀 0</span><br><span class="line">  - 若长度不足则抛出 OverflowError</span><br><span class="line"></span><br><span class="line">* 参数 byteorder</span><br><span class="line">  - &#x27;big&#x27;</span><br><span class="line">  - &#x27;little&#x27;</span><br><span class="line">  - sys.byteorder 使用主机系统的原生字节顺序</span><br><span class="line"></span><br><span class="line">*参数 signed</span><br><span class="line">  - False，int 为负数则会抛出 OverflowError</span><br><span class="line">  - True ，int 为负数则会使用补码来标识</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="number">1025</span>).to_bytes(<span class="number">2</span>, byteorder=<span class="string">&#x27;big&#x27;</span>)</span><br><span class="line"><span class="string">b&#x27;\x04\x01&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="number">1025</span>).to_bytes(<span class="number">10</span>, byteorder=<span class="string">&#x27;big&#x27;</span>)</span><br><span class="line"><span class="string">b&#x27;\x00\x00\x00\x00\x00\x00\x00\x00\x04\x01&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(-<span class="number">1025</span>).to_bytes(<span class="number">10</span>, byteorder=<span class="string">&#x27;big&#x27;</span>, signed=<span class="literal">True</span>)</span><br><span class="line"><span class="string">b&#x27;\xff\xff\xff\xff\xff\xff\xff\xff\xfb\xff&#x27;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：bool-型"><a href="#知识点：bool-型" class="headerlink" title="知识点：bool 型"></a>知识点：bool 型</h3><ol>
<li><strong>布尔型 boolean</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 布尔型是 int 型的子类</span><br><span class="line">  - True、False 是 python 的两个内置常量</span><br><span class="line">  - 如果布尔型参与数学运算，True 代表 int 1，False 代表 int 0</span><br></pre></td></tr></table></figure></li>
<li><strong>真值检测 Truth Value Testing</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">* 在 python 中，任何对象都可以表示一个 boolean 值</span><br><span class="line"></span><br><span class="line">* 默认 builtin 中表示 False 的值</span><br><span class="line">  - 常量 None</span><br><span class="line">  - 常量 False</span><br><span class="line">  - 任意形式的 0</span><br><span class="line">    - int 类型的 0</span><br><span class="line">    - float 类型的 0.0</span><br><span class="line">    - complex 类型的 0j</span><br><span class="line">    - Decimal(0)</span><br><span class="line">    - Fraction(0, 1)</span><br><span class="line">  - 空序列、空多项集</span><br><span class="line">    - 空字符串 &#x27;&#x27;</span><br><span class="line">    - 空元组 ()</span><br><span class="line">    - 空列表 []</span><br><span class="line">    - 空字典 &#123;&#125;</span><br><span class="line">    - 空集合 set()</span><br><span class="line">    - range(0)</span><br><span class="line"></span><br><span class="line">* 对于自定义对象，如果符合以下情况之一，则认为是 false，否则认为其表示 true</span><br><span class="line">  - 对象具有 __bool__() 属性并返回 False</span><br><span class="line">  - 对象具有 __len__() 属性并返回 0</span><br></pre></td></tr></table></figure></li>
<li><strong>bool()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  class bool(x=False, /)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：float-型"><a href="#知识点：float-型" class="headerlink" title="知识点：float 型"></a>知识点：float 型</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - float 型通常采用双精度 double，但仍取决于运行设备</span><br><span class="line"></span><br><span class="line">* sys.float_info 记录了当前设备对 float 型的实现的各种指标，包括精度 precision、范围等</span><br></pre></td></tr></table></figure></li>
<li><strong>字面量</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">* 在解析浮点型字面量时，不论整数部分还是小数部分，都按照十进制来进行解析</span><br><span class="line"></span><br><span class="line">* 支持使用下划线来对数字进行分组</span><br><span class="line"></span><br><span class="line">* 支持两种形式</span><br><span class="line">  - 小数点形式 pointfloat</span><br><span class="line">    - 小数部分 fraction</span><br><span class="line">    - 只要有小数点，即使没有小数部分也会认为是 float</span><br><span class="line">  - 科学计数法形式 exponentfloat</span><br><span class="line">    - 底数部分可以使用 int 或 float</span><br><span class="line">    - 指数部分必须使用 int，可以是负数</span><br><span class="line"></span><br><span class="line">* pointfloat</span><br><span class="line">  ::= [+|-]&lt;0...9&gt;+.[&lt;0...9&gt;+]</span><br><span class="line"></span><br><span class="line">* exponentfloat</span><br><span class="line">  ::= [+|-]&lt;0...9&gt;+e[+|-]&lt;0...9&gt;+</span><br><span class="line">  ::= [+|-]&lt;0...9&gt;+E[+|-]&lt;0...9&gt;+</span><br><span class="line">  ::= [+|-]&lt;0...9&gt;+[.&lt;0...9&gt;+]e[+|-]&lt;0...9&gt;+</span><br><span class="line">  ::= [+|-]&lt;0...9&gt;+[.&lt;0...9&gt;+]e[+|-]&lt;0...9&gt;+</span><br></pre></td></tr></table></figure></li>
<li><strong>float()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* 实现</span><br><span class="line">  - x.__float__()</span><br><span class="line">  - x.__index__()</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  class float([x])</span><br><span class="line"></span><br><span class="line">* 参数 x</span><br><span class="line">  - 可以是 number</span><br><span class="line">  - 可以是 str，需要符合 float literial</span><br><span class="line">  - 当是 str 时，支持部分特殊值</span><br><span class="line">    - nan，表示 not-a-number</span><br><span class="line">    - inf，infinity，表示 Infinity</span><br><span class="line">    - 不区分大小写，可以加正负号</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">float</span>(decimal.Decimal(<span class="number">8.3</span>))</span><br><span class="line"><span class="number">8.3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 当使用特殊值时，参数必须是 str</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">float</span>(inf)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">NameError: name <span class="string">&#x27;inf&#x27;</span> <span class="keyword">is</span> <span class="keyword">not</span> defined</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>)</span><br><span class="line">inf</span><br></pre></td></tr></table></figure></li>
<li><strong>float.fromhex()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  classmethod float.fromhex(s)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回十六进制数所表示的浮点数</span><br><span class="line"></span><br><span class="line">* 参数 s</span><br><span class="line">  - 一个表示十六进制数的字符串</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">float</span>.fromhex(<span class="string">&#x27;0xab.cd&#x27;</span>)</span><br><span class="line"><span class="number">171.80078125</span></span><br></pre></td></tr></table></figure></li>
<li><strong>float.is_integer()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  float.is_integer()</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 检查 float 是否实际上等于整数，返回 True/False</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="number">3.0</span>).is_integer()</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="number">3.1</span>).is_integer()</span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure></li>
<li><strong>float.as_integer_ratio()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  float.as_integer_ratio()</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回一个 tuple，包含两个整数，其比率 ratio 正好等于 float 并且分母为正数</span><br><span class="line">  - infinities 会引发 OverflowError</span><br><span class="line">  - NaN 则会引发 ValueError</span><br><span class="line">  - 由于 python 内部对十进制数采用二进制来标识，因此对于部分情况，结果准确但非常繁琐</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="number">1.5</span>).as_integer_ratio()</span><br><span class="line">(<span class="number">3</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="number">1.6</span>).as_integer_ratio()</span><br><span class="line">(<span class="number">3602879701896397</span>, <span class="number">2251799813685248</span>)</span><br></pre></td></tr></table></figure></li>
<li><strong>float.hex()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  float.hex()</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回值为字符串，是 float 的十六进制形式</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：complex-型"><a href="#知识点：complex-型" class="headerlink" title="知识点：complex 型"></a>知识点：complex 型</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - complex 型具有实部 real part 和虚部 imaginary part，均使用 float 型来进行记录</span><br><span class="line">  - 支持数学上的复数 加、减、乘、除、幂 运算</span><br><span class="line">    - 幂运算，底数、指数均可以是复数</span><br><span class="line"></span><br><span class="line">* 虚部字面量</span><br><span class="line">  [&lt;+|-&gt;] [&lt;float|int&gt;] &lt;+|-&gt; &lt;float|int&gt;j</span><br><span class="line">  [&lt;+|-&gt;] [&lt;float|int&gt;] &lt;+|-&gt; &lt;float|int&gt;J</span><br></pre></td></tr></table></figure></li>
<li><strong>属性和方法</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* complex.real</span><br><span class="line">  - Data descriptor，返回复数的实部</span><br><span class="line"></span><br><span class="line">* complex.image</span><br><span class="line">  - Data descriptor，返回复数的虚部</span><br><span class="line"></span><br><span class="line">* complex.conjugate()</span><br><span class="line">  - 返回 complex 的共轭复数</span><br></pre></td></tr></table></figure></li>
<li><strong>complex()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">* 实现</span><br><span class="line">  - x.__complex__()</span><br><span class="line">  - x.__float__()</span><br><span class="line">  - x.__index__()</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  class complex(str)</span><br><span class="line">  class complex(real[, imag])</span><br><span class="line"></span><br><span class="line">* 参数 str</span><br><span class="line">  - 一个表示复数的字符串，要符合 complex literial</span><br><span class="line">  - 实部与虚部和加减号之间，不能有空格</span><br><span class="line"></span><br><span class="line">* 参数 real</span><br><span class="line">  - 表示复数的实部</span><br><span class="line">  - 可以是 number</span><br><span class="line">  - 可以是 complex</span><br><span class="line"></span><br><span class="line">* 参数 imag</span><br><span class="line">  - 表示复数的虚部</span><br><span class="line">  - 可以是 number</span><br><span class="line">  - 可以是 complex</span><br><span class="line"></span><br><span class="line">* complex() 返回 0j</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数为 str 时，加减号左右不允许有空格</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">complex</span>(<span class="string">&#x27; 1+2j &#x27;</span>)</span><br><span class="line">(<span class="number">1</span>+<span class="number">2j</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">complex</span>(<span class="string">&#x27;1 + 2j&#x27;</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">ValueError: <span class="built_in">complex</span>() arg <span class="keyword">is</span> a malformed string</span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数可以是复数</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">complex</span>(<span class="number">15</span>+<span class="number">32j</span>, <span class="number">4</span>+<span class="number">17j</span>)</span><br><span class="line">(-<span class="number">2</span>+<span class="number">36j</span>)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：bin-、oct-、hex-函数"><a href="#知识点：bin-、oct-、hex-函数" class="headerlink" title="知识点：bin()、oct()、hex() 函数"></a>知识点：bin()、oct()、hex() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  bin(x: int, /)</span><br><span class="line">  oct(x: int, /)</span><br><span class="line">  hex(x: int, /)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - bin(): 返回值为字符串，内容为带有 &#x27;0b&#x27; 前缀的 x 的二进制形式</span><br><span class="line">  - oct(): 返回值为字符串，内容为带有 &#x27;0o&#x27; 前缀的 x 的八进制形式</span><br><span class="line">  - hex(): 返回值为字符串，内容为带有 &#x27;0x&#x27; 前缀的 x 的十六进制形式</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：abs-函数"><a href="#知识点：abs-函数" class="headerlink" title="知识点：abs() 函数"></a>知识点：abs() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  abs(x: int|float|complex, /)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 对于 int、float，返回其绝对值</span><br><span class="line">  - 对于 complex，返回其模</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：divmod-函数"><a href="#知识点：divmod-函数" class="headerlink" title="知识点：divmod() 函数"></a>知识点：divmod() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  divmod(a: int|float, b: int|float, /)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回由商 quotient 和余数 remainder 组成的元组</span><br><span class="line">  - 若 a 和 b 都是 integer，则结果为 (a // b, a % b)</span><br><span class="line">  - 若 a 或 b 有一个为 float，则结果为 (math.floor(a / b), a % b) 或 (math.floor(a / b)+1 , a % b)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：pow-函数"><a href="#知识点：pow-函数" class="headerlink" title="知识点：pow() 函数"></a>知识点：pow() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  pow(base, exp, mod=None)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 求 base 的 exp 次幂，即 base ** exp</span><br><span class="line">  - 如果提供了 mod 参数，则相当于 (base ** exp ) // mod，但更高效</span><br><span class="line">  - 参数必须是 numeric 类型</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：round-函数"><a href="#知识点：round-函数" class="headerlink" title="知识点：round() 函数"></a>知识点：round() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  round(number, ndigits=None)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 对 number 进行四舍五入</span><br><span class="line">  - ndigits 用于指定舍入的小数位数，默认为 0</span><br><span class="line">  - 由于 float 底层采用二进制储存，因此 round() 的结果可能存在不符合人类习惯的地方。对于有精确需求的场景可以使用 decimal.decimal 型</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：sum-函数"><a href="#知识点：sum-函数" class="headerlink" title="知识点：sum() 函数"></a>知识点：sum() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  sum(iterable, /, start=0)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 对 iterable 中的所有元素求和，并加上初始值 start</span><br><span class="line">  - 底层调用 &#x27;+&#x27; 运算</span><br><span class="line"></span><br><span class="line">* 参数 start</span><br><span class="line">  - 用于指定初始值</span><br><span class="line">  - 不允许为 str 类型</span><br><span class="line">  - 由于 start 参数的存在，导致 iterable 的元素不能是 str</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="6-3-序列"><a href="#6-3-序列" class="headerlink" title="6.3 序列"></a>6.3 序列</h2><h3 id="知识点：可变类型和不可变类型"><a href="#知识点：可变类型和不可变类型" class="headerlink" title="知识点：可变类型和不可变类型"></a>知识点：可变类型和不可变类型</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* 可变型对象 mutable</span><br><span class="line">  - 包括，列表 list、集合 set、字典 dict 等</span><br><span class="line">  - 如果表达式的计算的结果是 mutable，则永远返回一个新建的对象</span><br><span class="line">    - 例如，a=[]，b=[]，则 a 和 b 是两个新创建的空列表</span><br><span class="line"></span><br><span class="line">* 不可变型对象 immutable</span><br><span class="line">  - 包括，int、float、complex、元组 tuple、字符串 str 等</span><br><span class="line">  - 如果表达式的计算的结果是 immutable，则可能调用缓存机制，返回一个已经存在的对象</span><br><span class="line"></span><br><span class="line">* 特别注意</span><br><span class="line">  - immutable 中元素是 mutable 的情况</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：容器型"><a href="#知识点：容器型" class="headerlink" title="知识点：容器型"></a>知识点：容器型</h3><ol>
<li><strong>容器型 container</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 容器型数据，其 value 是其他对象的 identity</span><br><span class="line">  - 常见的容器型有 list、tuple、dict 等</span><br></pre></td></tr></table></figure></li>
<li><strong>就地操作 in-place</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 也称为原地操作</span><br><span class="line">  - 对于 mutable 对象，直接修改对象本身的操作，称为原地操作</span><br><span class="line">  - 包括，添加成员、减少成员、成员重新排序等</span><br><span class="line">  - 原地操作的返回值均为 None</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：序列"><a href="#知识点：序列" class="headerlink" title="知识点：序列"></a>知识点：序列</h3><ol>
<li><strong>序列 sequence</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 有限 finite，有序 ordered</span><br><span class="line"></span><br><span class="line">* 序列索引 index</span><br><span class="line">  - 使用非负整数 non-negative numbers 来表示索引 index，即，索引为 0、1、2、3...</span><br><span class="line">  - 第一个成员的索引为 0</span><br><span class="line">  - 最后一个成员的索引为 len(s)-1</span><br><span class="line"></span><br><span class="line">* 序列对象的比较 sequence objects comparing</span><br><span class="line">  - 相同类型的序列对象，支持进行比较</span><br><span class="line">  - 序列的比较安装 lexicographical ordering</span><br><span class="line">    - 先比较对应第一个元素</span><br><span class="line">    - 如果相同则在比较下一个元素</span><br><span class="line">  - 如果两个序列对象相等，则表示他们类型相同、长度相等、并且其中的每一个元素也都相同</span><br></pre></td></tr></table></figure></li>
<li><strong>序列的种类</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* 基本序列 basic sequence types</span><br><span class="line">  - list</span><br><span class="line">  - tuple</span><br><span class="line">  - range</span><br><span class="line"></span><br><span class="line">* 文本序列 Text Sequence Type</span><br><span class="line">  - str</span><br><span class="line"></span><br><span class="line">* 二进制字节序列 Binary Sequence Types</span><br><span class="line">  - bytes</span><br><span class="line">  - bytearray</span><br><span class="line">  - memoryview</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：序列通用操作"><a href="#知识点：序列通用操作" class="headerlink" title="知识点：序列通用操作"></a>知识点：序列通用操作</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* Common Sequence Operations</span><br><span class="line"></span><br><span class="line">* 为大多数序列类型都支持的操作，不论 mutable 亦或 immutable</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="2-序列解包-sequence-unpacking"><a href="#2-序列解包-sequence-unpacking" class="headerlink" title="2. 序列解包 sequence unpacking"></a>2. <strong>序列解包 sequence unpacking</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* target, target, target = sequence</span><br><span class="line"></span><br><span class="line">* 介绍</span><br><span class="line">  - 序列解包是多重赋值 multiple assignment 的一种形式</span><br><span class="line">  - 要求 sequence 的长度与 &#x27;=&#x27; 左边的 target 的数量相同</span><br></pre></td></tr></table></figure>
<h4 id="3-成员检查-containment-test"><a href="#3-成员检查-containment-test" class="headerlink" title="3. 成员检查 containment test"></a>3. <strong>成员检查 containment test</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* x in sequence</span><br><span class="line">* x not in sequence</span><br></pre></td></tr></table></figure>
<h4 id="4-序列拼接-concatenation"><a href="#4-序列拼接-concatenation" class="headerlink" title="4. 序列拼接 concatenation"></a>4. <strong>序列拼接 concatenation</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* sequence_1 + sequence_2</span><br></pre></td></tr></table></figure>
<h4 id="5-序列倍乘-repetition"><a href="#5-序列倍乘-repetition" class="headerlink" title="5. 序列倍乘 repetition"></a>5. <strong>序列倍乘 repetition</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* sequence * n</span><br><span class="line">* n * sequence</span><br><span class="line"></span><br><span class="line">* n 如果小于等于 0，则结果为一个空序列</span><br></pre></td></tr></table></figure>
<h4 id="6-抽取元素-subscription"><a href="#6-抽取元素-subscription" class="headerlink" title="6. 抽取元素 subscription"></a>6. <strong>抽取元素 subscription</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  sequence[index]</span><br><span class="line"></span><br><span class="line">* 介绍</span><br><span class="line">  - 通过索引获取序列的元素 element index lookup</span><br><span class="line">  - index 默认为 0</span><br><span class="line">  - 如果 index 小于零，则计算索引时按照 len(sequence) + index 的方式来进行</span><br><span class="line">  - 如果 index 大于 len(sequence)-1，则会报错</span><br><span class="line">  - s[-0] 相当于 s[0]</span><br></pre></td></tr></table></figure>
<h4 id="7-切片-slicing"><a href="#7-切片-slicing" class="headerlink" title="7. 切片 slicing"></a>7. <strong>切片 slicing</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  sequence[i:j]</span><br><span class="line">  sequence[i:j:k]</span><br><span class="line"></span><br><span class="line">* 介绍</span><br><span class="line">  - 序列切片获得的是 shallow copy</span><br><span class="line">  - 如果无法获取到元素，则返回空序列</span><br><span class="line"></span><br><span class="line">* 切片的实现方式</span><br><span class="line">  - s[i+n*k]，n=0,1,2,3，即 s[i]、s[i+1*k]、s[i+2*k]</span><br><span class="line">  - 当 k 为正，i+n*k &lt; j 时结束</span><br><span class="line">  - 当 k 为负，i+n*k &gt; j 时结束</span><br><span class="line"></span><br><span class="line">* 参数 k</span><br><span class="line">  - 默认为 1</span><br><span class="line"></span><br><span class="line">* 当省略 i 或 j 时，默认采用 end 值，但取决于 k 的正负</span><br><span class="line">  - 当 k 为正，i 默认为 0，j 默认为 len(s)</span><br><span class="line">  - 当 k 为负，i 默认为 len(s)，j 默认为 0</span><br><span class="line">  - 当 j 使用默认值时，会包含 s[j]，而当 j 手动指定数值后，则不包含 s[j]</span><br><span class="line"></span><br><span class="line">- 序列切片允许 i 或 j 超过 len(s)</span><br><span class="line">  - 当 k 为正，则 i 或 j 会被修改为 len(s)</span><br><span class="line">  - 当 k 为负，则 i 或 j 会被修改为 len(s) - 1</span><br></pre></td></tr></table></figure>
<h4 id="8-sequence-count"><a href="#8-sequence-count" class="headerlink" title="8. sequence.count()"></a>8. <strong>sequence.count()</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  sequence.count(x)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回 sequence 中值为 x 的元素的数量</span><br></pre></td></tr></table></figure>
<h4 id="9-sequence-index"><a href="#9-sequence-index" class="headerlink" title="9. sequence.index()"></a>9. <strong>sequence.index()</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  sequence.index(x)</span><br><span class="line">  sequence.index(x[, i[, j]])</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回 sequence 中第一个值为 x 的元素的索引</span><br><span class="line">  - i 和 j 用来限定查找范围，相当于 s[i:j].index(x)，因此 i 包含而 j 不包含</span><br></pre></td></tr></table></figure>

<h3 id="知识点：可变序列操作"><a href="#知识点：可变序列操作" class="headerlink" title="知识点：可变序列操作"></a>知识点：可变序列操作</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* Mutable Sequence Operations</span><br><span class="line"></span><br><span class="line">* 主要是 list 支持</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="2-元素赋值"><a href="#2-元素赋值" class="headerlink" title="2. 元素赋值"></a>2. <strong>元素赋值</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* s[i] = x</span><br><span class="line"></span><br><span class="line">* s[i:j] = iterable</span><br><span class="line">* s[i:j:k] = iterable</span><br><span class="line">  - 切片赋值</span><br><span class="line">  - iterable 的长度应当匹配</span><br></pre></td></tr></table></figure>
<h4 id="3-删除元素"><a href="#3-删除元素" class="headerlink" title="3. 删除元素"></a>3. <strong>删除元素</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* del s[i]</span><br><span class="line">* del s[i:j]</span><br><span class="line">* del s[i:j:k]</span><br><span class="line">* s[i] = []</span><br><span class="line">* s[i:j] = []</span><br><span class="line">* s[i:j:k] = []</span><br></pre></td></tr></table></figure>
<h4 id="4-序列自我复制"><a href="#4-序列自我复制" class="headerlink" title="4. 序列自我复制"></a>4. <strong>序列自我复制</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* s *= n</span><br><span class="line">  - n 为 int</span><br><span class="line">  - n 等于 0 相当于序列元素清空</span><br><span class="line"></span><br><span class="line">* 本质是进行重复引用，而不是创建新的元素对象</span><br><span class="line">  &gt;&gt;&gt; list01 = [[]]</span><br><span class="line">  &gt;&gt;&gt; list01 *= 3</span><br><span class="line">  &gt;&gt;&gt; list01</span><br><span class="line">  [[], [], []]</span><br><span class="line">  &gt;&gt;&gt; list01[0].append(3)</span><br><span class="line">  &gt;&gt;&gt; list01</span><br><span class="line">  [[3], [3], [3]]</span><br></pre></td></tr></table></figure>
<h4 id="5-sequence-append"><a href="#5-sequence-append" class="headerlink" title="5. sequence.append()"></a>5. <strong>sequence.append()</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 向序列追加元素</span><br><span class="line"></span><br><span class="line">* sequence.append(x)</span><br><span class="line"></span><br><span class="line">* s[len(s):len(s)] = [x]</span><br></pre></td></tr></table></figure>
<h4 id="6-sequence-clear"><a href="#6-sequence-clear" class="headerlink" title="6. sequence.clear()"></a>6. <strong>sequence.clear()</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 清空序列元素</span><br><span class="line"></span><br><span class="line">* sequence.clear()</span><br><span class="line"></span><br><span class="line">* s[:]=[]</span><br></pre></td></tr></table></figure>
<h4 id="7-sequence-copy"><a href="#7-sequence-copy" class="headerlink" title="7. sequence.copy()"></a>7. <strong>sequence.copy()</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 序列浅复制 shallow copy</span><br><span class="line"></span><br><span class="line">* s[:]</span><br><span class="line"></span><br><span class="line">* sequence.copy()</span><br></pre></td></tr></table></figure>
<h4 id="8-sequence-extend"><a href="#8-sequence-extend" class="headerlink" title="8. sequence.extend()"></a>8. <strong>sequence.extend()</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 扩展序列</span><br><span class="line"></span><br><span class="line">* sequence.extend(iterable)</span><br><span class="line"></span><br><span class="line">* s[len(s):] = iterable</span><br><span class="line"></span><br><span class="line">* s += iterable</span><br></pre></td></tr></table></figure>
<h4 id="9-sequence-insert"><a href="#9-sequence-insert" class="headerlink" title="9. sequence.insert()"></a>9. <strong>sequence.insert()</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 向序列中插入元素</span><br><span class="line"></span><br><span class="line">* i 指定 index</span><br><span class="line"></span><br><span class="line">* sequence.insert(i, x)</span><br><span class="line"></span><br><span class="line">* s[i:i] = [x]</span><br></pre></td></tr></table></figure>
<h4 id="10-sequence-pop"><a href="#10-sequence-pop" class="headerlink" title="10. sequence.pop()"></a>10. <strong>sequence.pop()</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 序列元素冒泡</span><br><span class="line"></span><br><span class="line">* sequence.pop()</span><br><span class="line">* sequence.pop(i)</span><br><span class="line">  - i 默认为 -1，表示最后一个元素</span><br></pre></td></tr></table></figure>
<h4 id="11-sequence-remove"><a href="#11-sequence-remove" class="headerlink" title="11. sequence.remove()"></a>11. <strong>sequence.remove()</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 删除序列中第一个值为 x 的元素</span><br><span class="line"></span><br><span class="line">* sequence.remove(x)</span><br></pre></td></tr></table></figure>
<h4 id="12-sequence-reverse"><a href="#12-sequence-reverse" class="headerlink" title="12. sequence.reverse()"></a>12. <strong>sequence.reverse()</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* sequence.reverse()</span><br><span class="line">  - 序列元素按索引翻转</span><br><span class="line">  - 原地操作</span><br></pre></td></tr></table></figure>

<h3 id="知识点：len-函数"><a href="#知识点：len-函数" class="headerlink" title="知识点：len() 函数"></a>知识点：len() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  len(s, /)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回对象的长度，即对象中元素的个数</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：max-、min-函数"><a href="#知识点：max-、min-函数" class="headerlink" title="知识点：max()、min() 函数"></a>知识点：max()、min() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">* max() 格式</span><br><span class="line">  max(iterable, /, *, key=None)</span><br><span class="line">  max(iterable, /, *, default, key=None)</span><br><span class="line">  max(arg1, arg2, /, *args, key=None)</span><br><span class="line"></span><br><span class="line">* min() 格式</span><br><span class="line">  min(iterable, /, *, key=None)</span><br><span class="line">  min(iterable, /, *, default, key=None)</span><br><span class="line">  min(arg1, arg2, /, *args, key=None)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回 iterable 的最大值/最小值</span><br><span class="line">  - 如果 iterable 中存在多个最大值/最小值，则返回最先遇到的那个元素</span><br><span class="line"></span><br><span class="line">* 参数 default</span><br><span class="line">  - 指定一个默认值，当 iterable 是 empty 时返回默认值</span><br><span class="line">  - 如果未指定默认值，则当 iterable 是 empty 时抛出 ValueError</span><br><span class="line"></span><br><span class="line">* 参数 key</span><br><span class="line">  - 指定一个只接受一个参数的函数，用于抽取比较键 comparison key</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：sorted-函数"><a href="#知识点：sorted-函数" class="headerlink" title="知识点：sorted() 函数"></a>知识点：sorted() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  sorted(iterable, /, *, key=None, reverse=False)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回一个针对 iterable 进行排序后的列表，顺序为从小到大</span><br><span class="line"></span><br><span class="line">* 参数 key</span><br><span class="line">  - 指定一个只接收一个参数的函数，用于抽取比较键 comparison key</span><br><span class="line"></span><br><span class="line">* 参数 reverse</span><br><span class="line">  - reverse=True 则进行反向排序</span><br><span class="line"></span><br><span class="line">* 其他</span><br><span class="line">  - 默认排序只使用 __lt__()，但 python 建议将六个 rich comparison 全部进行实现</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：reversed-函数"><a href="#知识点：reversed-函数" class="headerlink" title="知识点：reversed() 函数"></a>知识点：reversed() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  reversed(seq, /)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回一个 reverse iterator，即一个对序列进行逆序索引的迭代器</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：列表类型"><a href="#知识点：列表类型" class="headerlink" title="知识点：列表类型"></a>知识点：列表类型</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 列表 list</span><br><span class="line">  - 可变序列 mutable sequences，用于满足对可变长度数组的需求</span><br><span class="line">  - 列表可以储存任意类型的元素，但通常用来储存类型相同、结构相同的元素</span><br><span class="line"></span><br><span class="line">* 列表支持所有的序列通用操作和可变序列操作</span><br><span class="line"></span><br><span class="line">* list 字面量</span><br><span class="line">  - 使用中括号包裹，逗号间隔</span><br><span class="line">  - [] 表示空列表 empty list</span><br></pre></td></tr></table></figure></li>
<li><strong>constructor</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  class list(iterable)</span><br><span class="line"></span><br><span class="line">* 参数 iterable</span><br><span class="line">  - 如果 iterable 本身就是列表，则会返回 iterable 本身</span><br><span class="line">  - 省略 iterable 则返回空列表</span><br></pre></td></tr></table></figure></li>
<li><strong>list.sort()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 列表排序，由小到大，原地操作</span><br><span class="line">  - 底层实现方式为采用 &#x27;&lt;&#x27;</span><br><span class="line">  - 排序过程中不会屏蔽异常</span><br><span class="line">    - 因此若列表中某一次比较失败，则整个排序操作失败，此时可能导致列表处于一个部分修改的状态 partially modified state</span><br><span class="line">  - cpython 中的规定</span><br><span class="line">    - 在 list 处于 sort 过程中未结束时，list 对其他人表现为 empty list</span><br><span class="line">    - 在 list 处于 sort 过程中未结束时，如果 list 遭到了修改，则会抛出 ValueError</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  list.sort(*, key=None, reverse=False)</span><br><span class="line"></span><br><span class="line">* 参数 key</span><br><span class="line">  - 指定一个仅有一个参数的函数，如 str.lower，对每个元素计算比较键</span><br><span class="line">  - 所谓比较键，就是真正参与 &#x27;&lt;&#x27; 运算的数值，默认采用元素的 value</span><br><span class="line">  - 元素的比较键仅会在开始操作时计算一次，然后整个排序过程中进行使用</span><br><span class="line"></span><br><span class="line">* 参数 reverse</span><br><span class="line">  - 指定是否由大到小排序</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：元组类型"><a href="#知识点：元组类型" class="headerlink" title="知识点：元组类型"></a>知识点：元组类型</h3><ol>
<li><strong>元组 tuple</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 不可变序列 immutable sequences</span><br><span class="line">  - 元组支持所有的通用序列操作</span><br><span class="line">  - 常用场景</span><br><span class="line">    - 储存不同类型的数据组成的多项集，如枚举对象 enumerate()</span><br><span class="line">    - 储存相同类型的数据组成的多个向量</span><br><span class="line"></span><br><span class="line">* 字面量</span><br><span class="line">  - 圆括号包裹，逗号分隔</span><br><span class="line">  - () 表示空元组</span><br><span class="line">  - 省略括号</span><br><span class="line">    - 若包含多个元素，可以直接省略括号</span><br><span class="line">    - 若只有一个元素，则需要加一个逗号，如 a,</span><br><span class="line">    - 官方文档原话，it is actually the comma which makes a tuple, not the parentheses.</span><br><span class="line">    - 如果元组作为 function 的 argument，则不可以省略括号</span><br></pre></td></tr></table></figure></li>
<li><strong>constructor</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  class tuple(iterable)</span><br><span class="line"></span><br><span class="line">* 参数 iterable</span><br><span class="line">  - 如果 iterable 本身是一个元组，则返回 iterable 本身</span><br><span class="line">  - 如果省略 iterable，则返回空元组</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：range-类型"><a href="#知识点：range-类型" class="headerlink" title="知识点：range 类型"></a>知识点：range 类型</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 不可变序列 immutable sequence</span><br><span class="line">  - 通常用在 for 循环中</span><br><span class="line">  - range 支持大多数通用序列操作，如 indexing、slicing</span><br><span class="line">    - 不支持 concatenation</span><br><span class="line">    - 不支持 repetition</span><br><span class="line">  - range 的数据是动态生成的</span><br><span class="line">  - 所有的 range 对象都占用同样大小的内存，其中只储存 start、stop、step 三个值</span><br><span class="line">    - 相比 list 和 tuple 更节省内存，尤其是序列较大的情况</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 连续输错三次密码则报错</span><br><span class="line">passwd=&#x27;123456&#x27;</span><br><span class="line">for i in range(1,4):</span><br><span class="line">  user_passwd=input(&#x27;请输入密码 : &#x27;)</span><br><span class="line">  if user_passwd == passwd :</span><br><span class="line">    print(&#x27;登录成功&#x27;)</span><br><span class="line">    break</span><br><span class="line">  elif i &lt; 3 :</span><br><span class="line">    print(&#x27;密码错误&#x27;)</span><br><span class="line">  else :</span><br><span class="line">    print(&#x27;密码错误三次，退出&#x27;)</span><br></pre></td></tr></table></figure></li>
<li><strong>range 属性</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* range.start</span><br><span class="line">  - 返回 range 的开始数</span><br><span class="line"></span><br><span class="line">* range.stop</span><br><span class="line">  - 返回 range 的结束数</span><br><span class="line"></span><br><span class="line">* range.step</span><br><span class="line">  - 返回 range 的步长</span><br></pre></td></tr></table></figure></li>
<li><strong>constructor</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 所有的参数都需要是 int，可以是负数</span><br><span class="line">  - 计算方式</span><br><span class="line">    - range[i]=start+i*step</span><br><span class="line">    - 若 step 为正，则当 range[i] &gt;= stop 时停止</span><br><span class="line">    - 若 step 为负，则当 range[i] &lt;= stop 时停止</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  class range(stop)</span><br><span class="line">  class range(start, stop[, step])</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：copy-模块"><a href="#知识点：copy-模块" class="headerlink" title="知识点：copy 模块"></a>知识点：copy 模块</h3><ol>
<li><strong>浅复制和深复制</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 浅复制 shallow copy</span><br><span class="line">  - 构造的新的复合对象时，不会对元素对象进行创建，而是重复添加引用</span><br><span class="line">  - 列表的切片、字典的 dict.copy() 都是浅复制</span><br><span class="line"></span><br><span class="line">* 深复制 deep copy</span><br><span class="line">  - 构造的新的复合对象时，会重复创建新的元素对象，并递归对每一层引用的对象都创建新的副本</span><br><span class="line"></span><br><span class="line">* 浅复制和深复制的概念，只有在当元素是可变类型数据时会有影响</span><br><span class="line">  - 如果元素是不可变类型，则不论是深复制还是浅复制，都是重复添加引用</span><br><span class="line">  - 如果元素是可变类型，则深复制会创建副本</span><br></pre></td></tr></table></figure></li>
<li><strong>copy 模块方法</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* copy.copy(x)</span><br><span class="line">  - 返回 x 的浅复制</span><br><span class="line"></span><br><span class="line">* copy.deepcopy(x[, memo])</span><br><span class="line">  - 返回 x 的深复制</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="6-4-集合"><a href="#6-4-集合" class="headerlink" title="6.4 集合"></a>6.4 集合</h2><h3 id="知识点：可哈希对象"><a href="#知识点：可哈希对象" class="headerlink" title="知识点：可哈希对象"></a>知识点：可哈希对象</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">* 可哈希对象 hashable</span><br><span class="line">  - 在其生命期中不会改变值的对象</span><br><span class="line">  - 需要 __hash__() 属性</span><br><span class="line">  - 可哈希对象支持比较</span><br><span class="line">  - 两个可哈希对象相等，代表两个对象具有相同的 value</span><br><span class="line">  - 可哈希对象通常用作 dict 中的 key，或 set 中的 member</span><br><span class="line">    - dict 和 set 内部也是使用 hash value 来进行比较</span><br><span class="line"></span><br><span class="line">* 种类</span><br><span class="line">  - python 大多数不可变对象都是可哈希对象</span><br><span class="line">  - 可变容器无法作为可哈希对象</span><br><span class="line">  - 不可变容器，必须其所有成员都是可哈希对象，才能成为可哈希对象</span><br><span class="line">  - 用户定义的对象默认都是可哈希对象，其 hash value 就是其 id 值</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：hash-函数"><a href="#知识点：hash-函数" class="headerlink" title="知识点：hash() 函数"></a>知识点：hash() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  hash(hashable)</span><br><span class="line"></span><br><span class="line">* 介绍</span><br><span class="line">  - 返回对象的 hash value</span><br><span class="line">  - 只能对 hashable 进行操作</span><br><span class="line">  - 调用 __hash__()</span><br><span class="line">  - hash value 的形式为 integer</span><br><span class="line"></span><br><span class="line">*其他</span><br><span class="line">  - 对于数值型数据，如果值相等，则即使类型不同，其 hash value 也相等，如 1 和 1.0</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：集合类型"><a href="#知识点：集合类型" class="headerlink" title="知识点：集合类型"></a>知识点：集合类型</h3><ol>
<li><strong>集合 set</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 无序 unordered、可变 mutable、无重复数据 no duplicate elements</span><br><span class="line">  - 集合中的成员必须是 hashable</span><br><span class="line">  - 支持各种数学上的集合运算</span><br><span class="line">  - 不支持 indexing、slicing 等序列操作</span><br><span class="line"></span><br><span class="line">* 应用场景</span><br><span class="line">  - 成员检测 membership testing</span><br><span class="line">  - 元素去重 eliminating duplicate entries</span><br><span class="line"></span><br><span class="line">* 字面量</span><br><span class="line">  - 使用大括号 &#x27;&#123; &#125;&#x27;，逗号分隔</span><br><span class="line">  - 空集合只能使用 set() 创建</span><br><span class="line"></span><br><span class="line">* frozenset</span><br><span class="line">  - immutable hashable 集合</span><br></pre></td></tr></table></figure></li>
<li><strong>constructor</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  class set(iterable)</span><br><span class="line">  class frozenset([iterable])</span><br><span class="line"></span><br><span class="line">* 参数 iterable</span><br><span class="line">  - iterable 中所有的成员必须是 hashable</span><br><span class="line">  - 省略 iterable 则返回 empty set</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：集合操作"><a href="#知识点：集合操作" class="headerlink" title="知识点：集合操作"></a>知识点：集合操作</h3><h4 id="1-基本操作"><a href="#1-基本操作" class="headerlink" title="1. 基本操作"></a>1. <strong>基本操作</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* len(set)</span><br><span class="line"></span><br><span class="line">* x in set</span><br><span class="line">* x not in set</span><br><span class="line"></span><br><span class="line">* set.copy()</span><br><span class="line">  - shallow copy</span><br></pre></td></tr></table></figure>
<h4 id="2-集合比较"><a href="#2-集合比较" class="headerlink" title="2. 集合比较"></a>2. <strong>集合比较</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">* set 和 frozenset 可以相互进行比较运算</span><br><span class="line"></span><br><span class="line">* set.isdisjoint(other_set)</span><br><span class="line">  - 检查 set 与 other_set 是否不相交 disjoint</span><br><span class="line">  - 即两个集合没有公共元素</span><br><span class="line">  - 即两个集合的交集为空集</span><br><span class="line"></span><br><span class="line">* set == other_set</span><br><span class="line">* set != other_set</span><br><span class="line">  - set 和 other_set 是否互为等集 equality</span><br><span class="line"></span><br><span class="line">* set &lt;= other_set</span><br><span class="line">* set.issubset(iterable)</span><br><span class="line">  - 检查 set 是否是 other_set 的子集 subset</span><br><span class="line"></span><br><span class="line">* set &lt; other_set</span><br><span class="line">  - 检查 set 是否是 other_set 的真子集 proper subset</span><br><span class="line"></span><br><span class="line">* set &gt;= other</span><br><span class="line">* set.issuperset(iterable)</span><br><span class="line">  - 检查 set 是否是 other_set 的超集，即 other_set 是 set 的子集</span><br><span class="line"></span><br><span class="line">* set &gt; other</span><br><span class="line">  - 检查 set 是否是 other_set 的真超集，即 other_set 是 set 的真子集</span><br></pre></td></tr></table></figure>
<h4 id="3-集合运算"><a href="#3-集合运算" class="headerlink" title="3. 集合运算"></a>3. <strong>集合运算</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* set 和 frozenset 可以相互进行集合运算</span><br><span class="line">  - 返回值的类型取决于左操作数 left operand</span><br><span class="line"></span><br><span class="line">* set | other_set | ...</span><br><span class="line">* set.union(*iterable)</span><br><span class="line">  - 返回并集</span><br><span class="line"></span><br><span class="line">* set &amp; other_set &amp; ...</span><br><span class="line">* set.intersection(*iterable)</span><br><span class="line">  - 返回交集</span><br><span class="line"></span><br><span class="line">* set - other_set - ...</span><br><span class="line">* set.difference(*iterable)</span><br><span class="line">  - 返回差集</span><br><span class="line"></span><br><span class="line">* set ^ other_set ^ ...</span><br><span class="line">* set.symmetric_difference(*iterable)</span><br><span class="line">  - 返回余集</span><br></pre></td></tr></table></figure>
<h4 id="4-修改集合"><a href="#4-修改集合" class="headerlink" title="4. 修改集合"></a>4. <strong>修改集合</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">* 只有 set 类型支持集合修改，frozenset 不支持集合修改</span><br><span class="line"></span><br><span class="line">* set |= other_set | ...</span><br><span class="line">* set.update(*iterable)</span><br><span class="line">  - 向 set 中添加 other_set/iterable 中的元素</span><br><span class="line"></span><br><span class="line">* set &amp;= other_set &amp; ...</span><br><span class="line">* intersection_update(*iterable)</span><br><span class="line">  - 从 set 中去除不属于 other_set/iterable 的元素</span><br><span class="line"></span><br><span class="line">* set -= other_set | ...</span><br><span class="line">* set.difference_update(*iterable)</span><br><span class="line">  - 从 set 中去除属于 other_set/iterable 的元素</span><br><span class="line"></span><br><span class="line">* set ^= other_set</span><br><span class="line">* set.symmetric_difference_update(iterable)</span><br><span class="line">  - 从 set 中去除公共元素，同时将 other_set 中的非公共元素添加到 set 中</span><br><span class="line"></span><br><span class="line">* set.add(element)</span><br><span class="line">  - 向 set 中添加元素</span><br><span class="line"></span><br><span class="line">* set.remove(element)</span><br><span class="line">  - 从 set 中删除元素</span><br><span class="line">  - 如果集合中没有元素 element，则抛出 KeyError</span><br><span class="line"></span><br><span class="line">* set.discard(element)</span><br><span class="line">  - 从 set 中删除元素</span><br><span class="line">  - 如果集合中没有元素 element，则什么都不做</span><br><span class="line"></span><br><span class="line">* set.pop()</span><br><span class="line">  - 集合冒泡</span><br><span class="line">  - 由于集合是无序的，冒泡的元素也是随机的</span><br><span class="line"></span><br><span class="line">* set.clear()</span><br><span class="line">  - 清空集合中的元素</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="6-5-字典"><a href="#6-5-字典" class="headerlink" title="6.5 字典"></a>6.5 字典</h2><h3 id="知识点：字典类型"><a href="#知识点：字典类型" class="headerlink" title="知识点：字典类型"></a>知识点：字典类型</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* 字典 dict</span><br><span class="line">  - 可变键值对 key: value pairs 集合</span><br><span class="line">  - 对应了其他编程语言中的 associative memories 或 associative arrays 的概念</span><br><span class="line">  - 3.7 开始为有序，会保存 insertion order</span><br><span class="line">    - 改变 item 的 value 不会影响其 insertion order</span><br><span class="line">    - 删除 item 后再重新添加，则 item 会被放到末尾</span><br><span class="line">  - key</span><br><span class="line">    - 必须是 immutable</span><br><span class="line">    - 在字典中 key 不可重复</span><br><span class="line">    - 如果是 tuple，则其中的元素也必须是 immutable</span><br><span class="line">  - value</span><br><span class="line">    - 无限制</span><br><span class="line"></span><br><span class="line">* 字典字面量</span><br><span class="line">  - 使用大括号 &#x27;&#123; &#125;&#x27; Curly braces，逗号分隔</span><br><span class="line">  - 键值对采用 key: value 的格式</span><br><span class="line">  - &#123;&#125; 表示空字典</span><br><span class="line">  - 可以采用 &#123; **expr &#125; 的形式，对操作数进行拆包，操作数必须是一个 mapping 类型</span><br></pre></td></tr></table></figure></li>
<li><strong>constructor</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  class dict(**kwargs)</span><br><span class="line">  class dict(mapping, **kwargs)</span><br><span class="line">  class dict(iterable, **kwargs)</span><br><span class="line"></span><br><span class="line">* 参数 kwargs</span><br><span class="line">  - 格式，key=value</span><br><span class="line">  - 可以有重复的键值对，python 会自动对键值对进行去重</span><br><span class="line">  - 如果有多个相同的 key，对应不同的 value，则采用最后一次出现的值</span><br><span class="line"></span><br><span class="line">* 参数 iterable</span><br><span class="line">  - iterable 的每个成员都应是恰好包含两个元素的容器数据</span><br><span class="line">  - 每个成员的第一个元素对应 key，第二个元素对应 value</span><br><span class="line">  - 如果一个 key 出现多次，则采用最后一次出现的值</span><br><span class="line">  - 例如 dict([(1,&#x27;a&#x27;),(2,&#x27;b&#x27;),(3,&#x27;c&#x27;)])</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：字典视图类型"><a href="#知识点：字典视图类型" class="headerlink" title="知识点：字典视图类型"></a>知识点：字典视图类型</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* 字典视图 dictview</span><br><span class="line">  - 字典视图是 view objects 的一个子类</span><br><span class="line">  - 字典视图是一个针对 dict 的动态视图，当 dict 发生变化时，dictview 会反映此变化</span><br><span class="line">  - 字典视图的顺序按照 dict 的 insertion order</span><br><span class="line">  - 字典视图支持迭代</span><br><span class="line">    - 迭代的顺序按照 FIFO</span><br><span class="line">    - 当 dictview 在进行迭代时，对 dict 进行修改会抛出 RuntimeError</span><br><span class="line">  - dictview 的一个重要特性</span><br><span class="line">    - 同时对 dict.kyes() 和 dict.values() 进行迭代，必然是同步的，无论对 dict 做任何修改</span><br><span class="line"></span><br><span class="line">* dict.keys(), dict.values(), dict.items() 的返回值为 dictview</span><br><span class="line">  - dict.iterms() 的表现形式为 k/v 元素的 tuple</span><br></pre></td></tr></table></figure></li>
<li><strong>字典视图操作</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* 支持的操作</span><br><span class="line">  - len(dictview)</span><br><span class="line">  - iter(dictview)</span><br><span class="line">  - x in dictview</span><br><span class="line">  - reversed(dictview)</span><br><span class="line">    - 返回一个 iterator</span><br><span class="line">    - 排序按照 insertion order</span><br><span class="line">  - dictview.mapping</span><br><span class="line">    - 返回一个 types.MappingProxyType 对象</span><br><span class="line">    - 3.10 新特性</span><br><span class="line"></span><br><span class="line">* 比较操作</span><br><span class="line">  - 仅当 dictview 是 set-like 时，才能进行比较</span><br><span class="line">    - 所谓 set-like，即所有的元素均是 hashable 的</span><br><span class="line">    - dict.keys() 必然是 set-like 的</span><br><span class="line">    - dict.values() 一般不是 set-like 的</span><br><span class="line">    - dict.items() 仅当 dict.values() 是 set-like 时才是 set-like 的</span><br><span class="line">  - dictview 支持 collections.abc.Set 定义的所有操作，包括比较、集合操作</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：字典操作"><a href="#知识点：字典操作" class="headerlink" title="知识点：字典操作"></a>知识点：字典操作</h3><h4 id="1-获取值"><a href="#1-获取值" class="headerlink" title="1. 获取值"></a>1. <strong>获取值</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* dict[key]</span><br><span class="line">  - 获取某个键值对的 value</span><br><span class="line">  - 如果 key 不存在 则会抛出 KeyError</span><br><span class="line">  - __missing__()</span><br><span class="line">    - subclass 中可以定义 __missing__() 可以对 key 不存在的行为进行控制</span><br><span class="line">    - 固定格式，def __missing__(self, key)</span><br><span class="line">    - 这是 __missing__() 唯一会被调用的地方</span><br><span class="line"></span><br><span class="line">* dict.get(key[, default=None])</span><br><span class="line">  - 获取 key 对于的 value，若 key 不存在则返回 default</span><br><span class="line">  - 与 indexing 的区别，dict.get() 更安全，若 key 不存在不会抛出异常，而是返回 None</span><br></pre></td></tr></table></figure>
<h4 id="2-修改值"><a href="#2-修改值" class="headerlink" title="2. 修改值"></a>2. <strong>修改值</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">* dict[key]=value</span><br><span class="line">  - 修改某个键值对的 value</span><br><span class="line"></span><br><span class="line">* del dict[key]</span><br><span class="line">  - 删除某个键值对</span><br><span class="line"></span><br><span class="line">* dict.setdefault(key, default=None)</span><br><span class="line">  - 如果 key 存在，则改变 value</span><br><span class="line">  - 如果 key 不存在，则新增一个成员，value 为 default，并且返回 default</span><br><span class="line"></span><br><span class="line">* dict.update(other)</span><br><span class="line">  - 更新字典</span><br><span class="line">  - 如果 key 缺失则添加</span><br><span class="line">  - 如果 key 相同则覆盖</span><br><span class="line">  - 参数 other</span><br><span class="line">    - 可以是另一个字典</span><br><span class="line">    - 可以是一个符合字典转化格式的 iterable</span><br><span class="line">    - 可以是 keyword 参数方式的 mapping</span><br><span class="line"></span><br><span class="line">* a | b</span><br><span class="line">* a |= b</span><br><span class="line">  - merge，将 b merge 到 a 中</span><br><span class="line">    - a、b 均为字典</span><br><span class="line">    - 若 a 中没有 b 的 key，则 insert</span><br><span class="line">    - 若 a 中有 b 的 key，则 update</span><br><span class="line">  - &#x27;|&#x27; 操作返回一个新字典</span><br><span class="line">  - &#x27;|=&#x27; 将新字典赋值给 a</span><br><span class="line">    - b 可以是 mapping 或包含k/v 对的 iterable</span><br><span class="line">  - 3.9 新特性</span><br></pre></td></tr></table></figure>
<h4 id="3-冒泡"><a href="#3-冒泡" class="headerlink" title="3. 冒泡"></a>3. <strong>冒泡</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* dict.pop(key[, default=None])</span><br><span class="line">  - 字典冒泡，若 key 不存在则返回 default 值</span><br><span class="line"></span><br><span class="line">* dict.popitem()</span><br><span class="line">  - 按照 LIFO 的方式 pop 一个 item，返回值的形式为一个二元组</span><br></pre></td></tr></table></figure>
<h4 id="4-字典比较"><a href="#4-字典比较" class="headerlink" title="4. 字典比较"></a>4. <strong>字典比较</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 字典与字典比较</span><br><span class="line">  - dict 只支持 == 和 != 比较</span><br><span class="line">  - 只有两个 dict 的 k/v 对全部相同，才认为相等</span><br></pre></td></tr></table></figure>
<h4 id="5-迭代"><a href="#5-迭代" class="headerlink" title="5. 迭代"></a>5. <strong>迭代</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">* iter(dict)</span><br><span class="line">  - 直接对字典进行迭代，迭代器返回的值为 key</span><br><span class="line">  - 相当于 iter(dict.keys())</span><br><span class="line"></span><br><span class="line">* dict.keys()</span><br><span class="line">  - 返回字典的 keys 组成的 dictview</span><br><span class="line"></span><br><span class="line">* dict.values()</span><br><span class="line">  - 返回字典的 values 组成的 dictview</span><br><span class="line"></span><br><span class="line">* dict.items()</span><br><span class="line">  - 返回字典的 key、value 组成的二元组组成的 dictview</span><br><span class="line"></span><br><span class="line">* key in dict</span><br><span class="line">* key not in dict</span><br><span class="line">  - 字典的成员检测，针对 key 进行</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line">d=&#123; <span class="number">1</span>:<span class="string">&#x27;apple&#x27;</span>, <span class="number">2</span>:<span class="string">&#x27;banana&#x27;</span>, <span class="number">3</span>:<span class="string">&#x27;barry&#x27;</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> d.keys():</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出为</span></span><br><span class="line"><span class="comment"># 1</span></span><br><span class="line"><span class="comment"># 2</span></span><br><span class="line"><span class="comment"># 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> d.values():</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出为</span></span><br><span class="line"><span class="comment"># apple</span></span><br><span class="line"><span class="comment"># banana</span></span><br><span class="line"><span class="comment"># barry</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> d.items():</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出为</span></span><br><span class="line"><span class="comment"># (1, &#x27;apple&#x27;)</span></span><br><span class="line"><span class="comment"># (2, &#x27;banana&#x27;)</span></span><br><span class="line"><span class="comment"># (3, &#x27;barry&#x27;)</span></span><br></pre></td></tr></table></figure>
<h4 id="6-类序列操作"><a href="#6-类序列操作" class="headerlink" title="6. 类序列操作"></a>6. <strong>类序列操作</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">* len(d)</span><br><span class="line">  - 返回字典中元素的个数</span><br><span class="line"></span><br><span class="line">* list(dict)</span><br><span class="line">  - 返回一个由字典的 key 组成的列表</span><br><span class="line"></span><br><span class="line">* sort(dict)</span><br><span class="line">  - 返回一个由字典的 key 经过排序后的列表</span><br><span class="line"></span><br><span class="line">* reversed(dict)</span><br><span class="line">  - 返回一个 dict_reverseiterator，对其迭代会逆序返回key</span><br><span class="line"></span><br><span class="line">* dict.clear()</span><br><span class="line">  - 清空 dict 中的元素</span><br><span class="line"></span><br><span class="line">* dict.copy()</span><br><span class="line">  - 返回一个 dict 的 shallow copy</span><br></pre></td></tr></table></figure>
<h4 id="7-dict-fromkeys"><a href="#7-dict-fromkeys" class="headerlink" title="7. dict.fromkeys()"></a>7. <strong>dict.fromkeys()</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* classmethod dict.fromkeys(iterable, value=None)</span><br><span class="line">  - 创建一个新字典</span><br><span class="line">  - iterable 用来指定 key</span><br><span class="line">  - 字典中所有成员的值都是 value</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="6-6-字符串"><a href="#6-6-字符串" class="headerlink" title="6.6 字符串"></a>6.6 字符串</h2><h3 id="知识点：字符串类型"><a href="#知识点：字符串类型" class="headerlink" title="知识点：字符串类型"></a>知识点：字符串类型</h3><ol>
<li><strong>字符串型 str</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 不可变序列 immutable sequences</span><br><span class="line">  - python 的 builtin 类型</span><br><span class="line"></span><br><span class="line">* 字符串中的元素都是 Unicode code points</span><br><span class="line"></span><br><span class="line">* python 没有 character 类型，字符都是通过 str 类型来表示</span><br><span class="line"></span><br><span class="line">* 字符串支持所有的通用序列操作</span><br></pre></td></tr></table></figure></li>
<li><strong>字符串字面量</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">* 普通字符串 string literal</span><br><span class="line">  - 使用单引号 &#x27; &#x27; 或双引号 &quot; &quot;</span><br><span class="line">  - 支持使用 &#x27;\&#x27; 进行 escape</span><br><span class="line">  - 格式</span><br><span class="line">    &#x27;&lt;char+&gt;&#x27;</span><br><span class="line">    &quot;&lt;char+&gt;&quot;</span><br><span class="line"></span><br><span class="line">* 原始字符串 raw string</span><br><span class="line">  - 添加前缀 &#x27;r&#x27; 或 &#x27;R&#x27;</span><br><span class="line">  - 不支持使用 &#x27;\&#x27; 进行 escape，&#x27;\&#x27; 字符会被识别为普通字符</span><br><span class="line">  - 仍然保留了 &#x27;\&#x27; 对单引号或双引号进行跳脱，不过结果中会保留 &#x27;\&#x27;，结果为 \\&#x27; 或 \\&quot;</span><br><span class="line">  - 格式</span><br><span class="line">    r&#x27;&lt;char+&gt;&#x27;</span><br><span class="line">    r&quot;&lt;char+&gt;&quot;</span><br><span class="line">    R&#x27;&lt;char+&gt;&#x27;</span><br><span class="line">    R&quot;&lt;char+&gt;&quot;</span><br><span class="line"></span><br><span class="line">* 长字符串 long string</span><br><span class="line">  - 使用三个单引号或三个双引号 triple-quoted</span><br><span class="line">  - 会保留 newline 字符</span><br><span class="line">  - 会保留单引号和双引号</span><br><span class="line">  - 支持使用 &#x27;\&#x27; 进行 escape</span><br><span class="line">  - 格式</span><br><span class="line">    &#x27;&#x27;&#x27; &lt;char+&gt; &#x27;&#x27;&#x27;</span><br><span class="line">    &quot;&quot;&quot; &lt;char+&gt; &quot;&quot;&quot;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">* escape</span><br><span class="line">  \&lt;newline&gt;    Backslash and newline ignored</span><br><span class="line">  \\            Backslash (\)</span><br><span class="line">  \&#x27;            Single quote (&#x27;)</span><br><span class="line">  \&quot;            Double quote (&quot;)</span><br><span class="line">  \a            ASCII Bell (BEL)</span><br><span class="line">  \b            ASCII Backspace (BS)</span><br><span class="line">  \f            ASCII Formfeed (FF)</span><br><span class="line">  \n            ASCII Linefeed (LF)</span><br><span class="line">  \r            ASCII Carriage Return (CR)</span><br><span class="line">                ASCII Horizontal Tab (TAB)</span><br><span class="line">  \v            ASCII Vertical Tab (VT)</span><br><span class="line">  \ooo          Character with octal value ooo</span><br><span class="line">  \xhh          Character with hex value hh</span><br><span class="line">  \N&#123;name&#125;      Character named name in the Unicode database</span><br><span class="line">  \uxxxx        Character with 16-bit hex value xxxx</span><br><span class="line">  \Uxxxxxxxx    Character with 32-bit hex value xxxxxxxx</span><br></pre></td></tr></table></figure></li>
<li><strong>constructor</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - str() 的结果倾向于 human-readable，repr() 的结果倾向于 interpreter-readable</span><br><span class="line">  - 实现</span><br><span class="line">    - __str__()</span><br><span class="line">    - repr(object)</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  class str(object=&#x27;&#x27;)</span><br><span class="line">  class str(object=b&#x27;&#x27;, encoding=&#x27;utf-8&#x27;, errors=&#x27;strict&#x27;)</span><br><span class="line"></span><br><span class="line">* 参数 object</span><br><span class="line">  - 如果 object 是 str，则返回 object 自己</span><br><span class="line"></span><br><span class="line">* 参数 encoding，参数 errors</span><br><span class="line">  - 如果给出 encoding 或 errors 任意一个参数，则 object 必须是 bytes-like 的数据类型</span><br><span class="line">  - 此时相当于 bytes.decode(encoding, errors)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：chr-、ord-函数"><a href="#知识点：chr-、ord-函数" class="headerlink" title="知识点：chr()、ord() 函数"></a>知识点：chr()、ord() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* chr(int)</span><br><span class="line">  - 返回 int 所对应的 Unicode 字符</span><br><span class="line"></span><br><span class="line">* ord(chr)</span><br><span class="line">  - 返回 chr 所对应的 Unicode code</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：字符串指定颜色"><a href="#知识点：字符串指定颜色" class="headerlink" title="知识点：字符串指定颜色"></a>知识点：字符串指定颜色</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* python 支持采用 VT100-style escape sequences 来添加 terminal 控制，继而控制字符串颜色</span><br><span class="line"></span><br><span class="line">* 控制方式为 Switch on</span><br><span class="line">  - 设置某种输出方式后，其后的所有输入寸采用此方式</span><br><span class="line">  - 需要再次设置为默认</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\033[1;36m床前明月光，&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;疑是地上霜。&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\033[4;5;35;43m举头望明月，&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;低头思故乡。&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\033[m&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><strong>格式</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  \033[Ps;Ps;PsmXXXX</span><br><span class="line"></span><br><span class="line">* 说明</span><br><span class="line">  - \033  表示一个 escape 字符 ESC</span><br><span class="line">  - [     格式标记字符</span><br><span class="line">  - Ps    格式控制字符，可以有多个</span><br><span class="line">  - ;     间隔多个 Ps</span><br><span class="line">  - m     Vt-100 控制指令，表示 Select Graphic Rendition</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">* Ps</span><br><span class="line">  - SGR 指令，Select Graphic Rendition，用来设置终端的显示方式</span><br><span class="line">    - 省略表示使用默认方式</span><br><span class="line">    - 后面的 Ps 的优先级高于前面的 Ps</span><br><span class="line">  - 控制指令采用十进制数的形式</span><br><span class="line">  - 网址</span><br><span class="line">    SGR 指令 https://vt100.net/docs/vt510-rm/SGR.html</span><br><span class="line">    颜色 http://strasis.com/documentation/limelight-xe/reference/ecma-48-sgr-codes</span><br><span class="line"></span><br><span class="line">* 设置显示方式</span><br><span class="line">    - 0    默认值 All attributes off</span><br><span class="line">    - 1    加粗 Bold</span><br><span class="line">    - 4    下划线 Underline</span><br><span class="line">    - 5    闪烁 Blinking</span><br><span class="line">    - 7    前景色背景色对调 Negative image</span><br><span class="line">    - 8    不可见 Invisible image</span><br><span class="line"></span><br><span class="line">* 设置前景色 foreground colors</span><br><span class="line">    - 30  黑色 black      0,0,0</span><br><span class="line">    - 31  红色 red        128,0,0</span><br><span class="line">    - 32  绿色 green      0,128,0</span><br><span class="line">    - 33  黄色 yellow     128,128,0</span><br><span class="line">    - 34  蓝色 blue       0,0,128</span><br><span class="line">    - 35  紫红色 magenta  128,0,128</span><br><span class="line">    - 36  青色 cyan       0,128,128</span><br><span class="line">    - 37  白色 write      192,192,192</span><br><span class="line">    - 39  终端默认颜色</span><br><span class="line">    - 90 to 97              16-color mode 前景色</span><br><span class="line">      - 90  Bright Black (Gray) 128,128,128</span><br><span class="line">      - 91  Bright Red      255,0,0</span><br><span class="line">      - 92  Bright Green    0,255,0</span><br><span class="line">      - 93  Bright Yellow   255,255,0</span><br><span class="line">      - 94  Bright Blue     0,0,255</span><br><span class="line">      - 95  Bright Magenta  255,0,255</span><br><span class="line">      - 96  Bright Cyan     0,255,255</span><br><span class="line">      - 97  Bright White    255,255,255</span><br><span class="line">    - 38;5;0 to 38;5;255    8bit 前景色，对应 88-color 和 256-color modes</span><br><span class="line"></span><br><span class="line">* 设置背景色 background colors</span><br><span class="line">    - 40  黑色</span><br><span class="line">    - 41  红色</span><br><span class="line">    - 42  绿色</span><br><span class="line">    - 43  黄色</span><br><span class="line">    - 44  蓝色</span><br><span class="line">    - 45  紫红色</span><br><span class="line">    - 46  青色</span><br><span class="line">    - 47  白色</span><br><span class="line">    - 49  终端默认颜色</span><br><span class="line">    - 100 to 107          16-color mode 背景色</span><br><span class="line">      - 100  Bright Black (Gray)</span><br><span class="line">      - 101  Bright Red</span><br><span class="line">      - 102  Bright Green</span><br><span class="line">      - 103  Bright Yellow</span><br><span class="line">      - 104  Bright Blue</span><br><span class="line">      - 105  Bright Magenta</span><br><span class="line">      - 106  Bright Cyan</span><br><span class="line">      - 107  Bright White</span><br><span class="line">    - 48;5;0 to 48;5;255  8bit 背景色，对应 88-color 和 256-color modes 背景色</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：字符串的格式化"><a href="#知识点：字符串的格式化" class="headerlink" title="知识点：字符串的格式化"></a>知识点：字符串的格式化</h3><h4 id="1-格式控制标记"><a href="#1-格式控制标记" class="headerlink" title="1. 格式控制标记"></a>1. 格式控制标记</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - format_spec</span><br><span class="line">  - 官方文档</span><br><span class="line">    - https://docs.python.org/3/library/string.html#formatspec</span><br><span class="line">  - 作用，在进行字符串格式化时，指定字符串的格式</span><br><span class="line">    - 格式化字符串字面量</span><br><span class="line">    - str.format()</span><br><span class="line">    - format()</span><br><span class="line">  - 使用格式微语言 Format Specification Mini-Language 来指定输出格式</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  :[[fill]align][sign][#][0][width][grouping_option][.precision][type]</span><br><span class="line"></span><br><span class="line">* :</span><br><span class="line">  - format_spec 的标识</span><br><span class="line"></span><br><span class="line">* file</span><br><span class="line">  - 指定填充字符</span><br><span class="line">  - 默认采用 space</span><br><span class="line">  - 只有指定了 align 时才有效</span><br><span class="line"></span><br><span class="line">* align</span><br><span class="line">  - 指定对齐方式</span><br><span class="line">  - &lt;   左对齐</span><br><span class="line">  - &gt;   右对齐</span><br><span class="line">  - ^   居中对齐</span><br><span class="line">  - =   零补齐，如 &#x27;+000000120&#x27; 的形式，只对 numeric 生效</span><br><span class="line"></span><br><span class="line">* sign</span><br><span class="line">  - 指定添加符号，只对 numeric 生效</span><br><span class="line">  - +       正数和负数都需要加符号</span><br><span class="line">  - -       只有负数才需要加符号</span><br><span class="line">  - space   正数加空格，负数加符号</span><br><span class="line"></span><br><span class="line">* #</span><br><span class="line">  - 使用替代格式 alternate form</span><br><span class="line">  - 只对 numeric 生效</span><br><span class="line">  - 对于 integer，当 type 指定为 b、o、x、X 等输出格式时，自动添加 &#x27;0b&#x27;、&#x27;0o&#x27;、&#x27;0x&#x27; 等前缀</span><br><span class="line">  - 对于 float 和 complex，强制添加小数点</span><br><span class="line"></span><br><span class="line">* width</span><br><span class="line">  - 指定最小宽度</span><br><span class="line"></span><br><span class="line">* grouping_option</span><br><span class="line">  - 指定分组选项</span><br><span class="line">  - ,     对于输出类型 &#x27;f&#x27; 和 &#x27;d&#x27; 使用 &#x27;,&#x27; 作为整数部分的千分位分隔符</span><br><span class="line">  - _     对于输出类型 &#x27;f&#x27; 和 &#x27;d&#x27; 使用 &#x27;_&#x27; 作为整数部分的千分位分隔符，对于输出类型 &#x27;b&#x27;、&#x27;o&#x27;、&#x27;x&#x27;、&#x27;X&#x27; 则是每 4 位数字分隔一次</span><br><span class="line"></span><br><span class="line">* precision</span><br><span class="line">  - 指定精度</span><br><span class="line"></span><br><span class="line">* type</span><br><span class="line">  - 指定输出格式</span><br><span class="line">  - d       十进制数</span><br><span class="line">  - b       二进制数</span><br><span class="line">  - o       八进制数</span><br><span class="line">  - x       十六进制数，采用 lowercase</span><br><span class="line">  - X       十六进制数，采用 uppercase</span><br><span class="line">  - f       定点数 fixed-point</span><br><span class="line">  - F       定点数 fixed-point uppercase</span><br><span class="line">  - e       科学计数法 lowercase</span><br><span class="line">  - E       科学计数法 uppercase</span><br><span class="line">  - c       字符，将 integer 转换为对应的 unicode 字符</span><br><span class="line">  - g       General format</span><br><span class="line">  - G       General format</span><br><span class="line">  - n       nmber</span><br><span class="line">  - s       字符串格式</span><br><span class="line">  - %       百分比</span><br></pre></td></tr></table></figure>
<h4 id="2-格式化字符串"><a href="#2-格式化字符串" class="headerlink" title="2. 格式化字符串"></a>2. 格式化字符串</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - formated string</span><br><span class="line">  - 字符串字面量的一种</span><br><span class="line">  - 通过在字面量中添加替换字段 replacement_field，来指定替换的内容</span><br><span class="line">  - 替换字段中包含两部分内容</span><br><span class="line">    - 待替换的内容</span><br><span class="line">    - 替换的格式 format_spec</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 格式化字符串格式</span><br><span class="line">  formated_string ==: f&#x27;&lt;char+&gt;|&lt;replacement_field+&gt;&#x27;</span><br><span class="line"></span><br><span class="line">* 格式说明</span><br><span class="line">  - 使用 &#x27;&#123;&#123;&#x27; 和 &#x27;&#125;&#125;&#x27; 来表示 &#x27;&#123;&#x27; 和 &#x27;&#125;&#x27;</span><br><span class="line">  - 前缀使用 f 或 F</span><br><span class="line">    - 可以与 r 或 R 前缀一起使用</span><br><span class="line">    - 可以与 &#x27;&#x27;&#x27; 或 &quot;&quot;&quot; 一起使用</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">* 替换字段格式</span><br><span class="line">  replacement_field ==: &#123;f_expression[=][conversion][format_spec]&#125;</span><br><span class="line"></span><br><span class="line">* &#123; &#125;</span><br><span class="line">  - replacement_field 的标识</span><br><span class="line"></span><br><span class="line">* f_expression</span><br><span class="line">  - 指定待替换的内容</span><br><span class="line"></span><br><span class="line">* &#x27;=&#x27;</span><br><span class="line">  - 在替换时，同时给出 expression 的字面量</span><br><span class="line">  - 替换后的内容为 expression=value</span><br><span class="line"></span><br><span class="line">* conversion</span><br><span class="line">  - 指定替换时使用的输出函数</span><br><span class="line">  - !s 表示使用 str()</span><br><span class="line">  - !r 表示使用 repr()</span><br><span class="line">  - !a 表示使用 ascii()</span><br><span class="line"></span><br><span class="line">* format_spec</span><br><span class="line">  - 指定 replacement_field 的输出格式</span><br><span class="line">  - 其中可以嵌套其他 replacement_field，但只能嵌套一层，用来表示 format_spec 中的值</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line">table = &#123;<span class="string">&#x27;Sjoerd&#x27;</span>: <span class="number">4127</span>, <span class="string">&#x27;Jack&#x27;</span>: <span class="number">40918</span>, <span class="string">&#x27;Dcab&#x27;</span>: <span class="number">7678</span>&#125;</span><br><span class="line"><span class="keyword">for</span> name, phone <span class="keyword">in</span> table.items():</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">f&#x27;| <span class="subst">&#123;name:&lt;<span class="number">10</span>&#125;</span> ==&gt; <span class="subst">&#123;phone:&gt;10d&#125;</span> |&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出</span></span><br><span class="line">| Sjoerd     ==&gt;       <span class="number">4127</span> |</span><br><span class="line">| Jack       ==&gt;      <span class="number">40918</span> |</span><br><span class="line">| Dcab       ==&gt;       <span class="number">7678</span> |</span><br></pre></td></tr></table></figure>
<h4 id="3-format-函数"><a href="#3-format-函数" class="headerlink" title="3. format() 函数"></a>3. format() 函数</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 给定一个字符串和格式控制标记，返回字符串经过格式化后的结果</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  format(str[, format_spec])</span><br><span class="line"></span><br><span class="line">* 参数 format_spec</span><br><span class="line">  - 指定格式控制标记</span><br><span class="line">  - 不需要加 leading 的 &#x27;:&#x27;</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line">a=<span class="string">&#x27;1234567890&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;|&#x27;</span>,<span class="built_in">format</span>(a,<span class="string">&#x27;^20&#x27;</span>),<span class="string">&#x27;|&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># output</span></span><br><span class="line">|      <span class="number">1234567890</span>      |</span><br></pre></td></tr></table></figure>

<h4 id="4-str-format"><a href="#4-str-format" class="headerlink" title="4. str.format()"></a>4. str.format()</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  str.format(*args, **kwargs)</span><br><span class="line"></span><br><span class="line">* 介绍</span><br><span class="line">  - 返回 str 进行了字符串格式化后的结果</span><br><span class="line">  - str 中需要包含使用 &#x27;&#123; &#125;&#x27; 标记来添加 replacement field</span><br><span class="line">  - 参数 args、kwargs 用来指定替换的值</span><br><span class="line"></span><br><span class="line">* 与格式化字符串的区别</span><br><span class="line">  - 格式化字符串使用 expression 来指定替换的值</span><br><span class="line">  - str.format() 通过参数 args、kwargs 来指定替换的值</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">* 替换字段格式</span><br><span class="line">  replacement_field ==: &#123; [field_name][conversion][format_spec] &#125;</span><br><span class="line"></span><br><span class="line">* field_name</span><br><span class="line">  - 指定替换的内容，对应 str.format() 中的参数</span><br><span class="line">  - 数字</span><br><span class="line">    - 对应第 N 个位置参数</span><br><span class="line">    - 位置参数的索引从 0 开始</span><br><span class="line">  - name</span><br><span class="line">    - 对应相应的 keyword 参数</span><br><span class="line">  - 省略</span><br><span class="line">    - 按照 replacement field 的次序依次对应相应的位置参数</span><br><span class="line">  - 其他</span><br><span class="line">    - 如果某个参数具有某个属性，可以通过 .attribute 的方式表示仅使用某个参数的某个属性</span><br><span class="line">    - 如果某个参数是序列或字典，可以使用 s[index] 的方式指向序列中的指定元素</span><br><span class="line"></span><br><span class="line">* conversion</span><br><span class="line">    - 指定使用的格式化函数，同格式化字符串</span><br><span class="line"></span><br><span class="line">* format_spec</span><br><span class="line">    - 指定格式控制，同格式化字符串</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&#x27;We are the &#123;&#125; who say &quot;&#123;&#125;!&quot;&#x27;</span>.<span class="built_in">format</span>(<span class="string">&#x27;knights&#x27;</span>, <span class="string">&#x27;Ni&#x27;</span>))</span><br><span class="line">We are the knights who say <span class="string">&quot;Ni!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&#x27;&#123;0&#125; and &#123;1&#125; and &#123;meat&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="string">&#x27;spam&#x27;</span>, <span class="string">&#x27;eggs&#x27;</span>, meat=<span class="string">&#x27;chicken&#x27;</span>))</span><br><span class="line">spam <span class="keyword">and</span> eggs <span class="keyword">and</span> chicken</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&#x27;&#123;1&#125; and &#123;meat&#125; and &#123;0&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="string">&#x27;spam&#x27;</span>, <span class="string">&#x27;eggs&#x27;</span>, meat=<span class="string">&#x27;chicken&#x27;</span>))</span><br><span class="line">eggs <span class="keyword">and</span> chicken <span class="keyword">and</span> spam</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>table = &#123;<span class="string">&#x27;Sjoerd&#x27;</span>: <span class="number">4127</span>, <span class="string">&#x27;Jack&#x27;</span>: <span class="number">4098</span>, <span class="string">&#x27;Dcab&#x27;</span>: <span class="number">8637678</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&#x27;Jack: &#123;0[Jack]:d&#125;; Sjoerd: &#123;0[Sjoerd]:d&#125;; Dcab: &#123;0[Dcab]:d&#125;&#x27;</span>.<span class="built_in">format</span>(table))</span><br><span class="line">Jack: <span class="number">4098</span>; Sjoerd: <span class="number">4127</span>; Dcab: <span class="number">8637678</span></span><br></pre></td></tr></table></figure>
<h4 id="5-其他"><a href="#5-其他" class="headerlink" title="5. 其他"></a>5. 其他</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* old-string-formatting</span><br><span class="line">  - 传统的采用 &#x27;%&#x27; 符号来标识格式化字符串的方式</span><br><span class="line">  https://docs.python.org/3/library/stdtypes.html#old-string-formatting</span><br></pre></td></tr></table></figure>

<h3 id="知识点：字符串的操作与方法"><a href="#知识点：字符串的操作与方法" class="headerlink" title="知识点：字符串的操作与方法"></a>知识点：字符串的操作与方法</h3><h4 id="1-序列操作"><a href="#1-序列操作" class="headerlink" title="1. 序列操作"></a>1. 序列操作</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* 字符串支持所有的序列通用操作，如 indexing、slicing 等</span><br></pre></td></tr></table></figure>
<h4 id="2-大小写转换"><a href="#2-大小写转换" class="headerlink" title="2. 大小写转换"></a>2. 大小写转换</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* str.upper()</span><br><span class="line">* str.lower()</span><br><span class="line">  - 返回一个字符串，str 的字母全部转换为大写或小写</span><br><span class="line"></span><br><span class="line">* str.swapcase()</span><br><span class="line">  - 返回一个字符串，str 中的字母大小写情况互换</span><br><span class="line"></span><br><span class="line">* str.capitalize()</span><br><span class="line">  - 返回一个字符串，str 的首字母大写，其他全部小写</span><br><span class="line"></span><br><span class="line">* str.title()</span><br><span class="line">  - 返回一个字符串，str 中的 word 首字母大写，其他小写</span><br><span class="line">  - 由于略字符 apostrophes 也会被视为 word boundaries，故格式化的效果不如 string.capwords()</span><br><span class="line"></span><br><span class="line">* str.casefold()</span><br><span class="line">  - Return a casefolded copy of the string.</span><br><span class="line">  - Casefolded strings may be used for caseless matching.</span><br><span class="line">  - Casefolding is similar to lowercasing but more aggressive because it is intended to remove all case distinctions in a string.</span><br></pre></td></tr></table></figure>
<h4 id="3-字符判断"><a href="#3-字符判断" class="headerlink" title="3. 字符判断"></a>3. 字符判断</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">* str.isalpha()</span><br><span class="line">* str.isalnum()</span><br><span class="line">* str.isdigit()</span><br><span class="line">* str.isdecimal()</span><br><span class="line">* str.isnumeric()</span><br><span class="line">* str.isupper()</span><br><span class="line">* str.islower()</span><br><span class="line">* str.isprintable()</span><br><span class="line">* str.isspace()</span><br><span class="line">* str.isascii()</span><br><span class="line">  - 判断是否字符串中所有的字符都符合某个条件</span><br><span class="line">  - 空字符串返回 False</span><br><span class="line"></span><br><span class="line">* str.isidentifier()</span><br><span class="line">  - 判读 str 是否可以作为 identifier</span><br><span class="line"></span><br><span class="line">* str.istitle()</span><br><span class="line">  - 判读 str 是否是一个 titlecased string</span><br><span class="line">  - 空字符串返回 False</span><br></pre></td></tr></table></figure>
<h4 id="4-搜索"><a href="#4-搜索" class="headerlink" title="4. 搜索"></a>4. 搜索</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* str.find(sub[, start[, end]])</span><br><span class="line">* str.index(sub[, start[, end]])</span><br><span class="line">* str.rfind(sub[, start[, end]])</span><br><span class="line">* str.rindex(sub[, start[, end]])</span><br><span class="line">  - 在 str 中查找子字符串 sub，并返回其对应的 index</span><br><span class="line">    - find、index 返回第一个字符的索引</span><br><span class="line">    - rfind、rindex 返回最后一个字符的索引</span><br><span class="line">  - 参数 start、end，指定在 str 中的搜索范围</span><br><span class="line">  - 如果没有找到</span><br><span class="line">    - find、rfind 返回 -1</span><br><span class="line">    - index、rindex 抛出 ValueError</span><br><span class="line"></span><br><span class="line">* str.count(sub[, start[, end]])</span><br><span class="line">  - 在 str 中搜索子字符串 sub 的出现次数</span><br><span class="line">  - 参数 start、end，指定在 str 中的搜索范围</span><br></pre></td></tr></table></figure>
<h4 id="5-前后缀"><a href="#5-前后缀" class="headerlink" title="5. 前后缀"></a>5. 前后缀</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* str.startswith(prefix[, start[, end]])</span><br><span class="line">* str.endswith(suffix[, start[, end]])</span><br><span class="line">  - 判断字符串的前缀、后缀</span><br><span class="line">  - 参数 prefix、suffix 可以是字符串，也可以是一个包含字符串的元组，表示对元组中的每一个元素都进行测试</span><br><span class="line">  - 参数 start 表示 str 中开始测试的位置</span><br><span class="line">  - 参数 end 表示 str 中停止测试的位置</span><br><span class="line"></span><br><span class="line">* str.removeprefix(prefix, /)</span><br><span class="line">* str.removesuffix(suffix, /)</span><br><span class="line">  - 返回 str 移除 prefix 或 suffix 后的结果</span><br><span class="line">  - 如果 str 并不包含指定的 prefix 或 suffix，则返回 str 本身</span><br></pre></td></tr></table></figure>
<h4 id="6-对齐"><a href="#6-对齐" class="headerlink" title="6. 对齐"></a>6. 对齐</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* str.ljust(width[, fillchar])</span><br><span class="line">* str.rjust(width[, fillchar])</span><br><span class="line">* str.center(width[, fillchar])</span><br><span class="line">  - 返回 str 左对齐、右对齐、中间对象后的结果</span><br><span class="line">  - 参数 width 指定最小宽度</span><br><span class="line">  - 参数 fillchar 指定填充字符</span><br><span class="line">  - 宽度如果小于等于原 str 则返回原 str</span><br></pre></td></tr></table></figure>
<h4 id="7-内容替换"><a href="#7-内容替换" class="headerlink" title="7. 内容替换"></a>7. 内容替换</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* str.replace(old, new[, count])</span><br><span class="line">  - 对字符串进行内容替换，返回替换后的结果</span><br><span class="line">  - 参数 count，指定只替换前 N 出现，省略则表示全部替换</span><br></pre></td></tr></table></figure>
<h4 id="8-制表符扩展"><a href="#8-制表符扩展" class="headerlink" title="8. 制表符扩展"></a>8. 制表符扩展</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* str.expandtabs(tabsize=8)</span><br><span class="line">  - 对字符串中的 tab 字符进行替换</span><br><span class="line">  - 替换会根据 column 宽度和 tabsize 进行</span><br><span class="line">  - 参数 tabsize</span><br><span class="line">    - 指定 tab 的宽度</span><br><span class="line">    - 注意不是指定一个 tab 字符对应多少个 space</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;01  012  0123  01234&#x27;</span>.expandtabs())</span><br><span class="line"></span><br><span class="line"><span class="comment"># output</span></span><br><span class="line"><span class="string">&#x27;01      012     0123    01234&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;01  012  0123  01234&#x27;</span>.expandtabs(<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># output</span></span><br><span class="line"><span class="string">&#x27;01  012 0123    01234&#x27;</span></span><br></pre></td></tr></table></figure>
<h4 id="9-移除前导-x2F-末尾字符"><a href="#9-移除前导-x2F-末尾字符" class="headerlink" title="9. 移除前导&#x2F;末尾字符"></a>9. 移除前导&#x2F;末尾字符</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">* str.rstrip([chars])</span><br><span class="line">* str.lstrip([chars])</span><br><span class="line">  - 移除字符串的 leading 或 trailing 字符</span><br><span class="line">  - 移除操作在碰到第一个非 leading、trailing 字符时停止</span><br><span class="line">  - 参数 chars</span><br><span class="line">    - 指定 leading、trailing 字符</span><br><span class="line">    - 默认为 space</span><br><span class="line">    - 可以是一个包含多个字符的字符串，用来表示字符集合，字符串中的每一个字符都会被视为 leading、trailing 字符</span><br><span class="line">    - 会移除 chars 中的字符的各种组合</span><br><span class="line"></span><br><span class="line">* str.strip([chars])</span><br><span class="line">  - 同时移除字符串的 leading 和 trailing 字符</span><br><span class="line">  - 相当于 str.rstrip() 和 str.lstrip() 的组合</span><br></pre></td></tr></table></figure>
<h4 id="10-拆分字符串"><a href="#10-拆分字符串" class="headerlink" title="10. 拆分字符串"></a>10. 拆分字符串</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* str.partition(sep)</span><br><span class="line">  - 对字符串进行拆分</span><br><span class="line">  - 按照 str 中第一次出现的 seq 进行切分</span><br><span class="line">  - 返回一个三个元素的元组，分别对应 seq 前的部分、seq、seq 后的部分</span><br><span class="line">  - 参数 seq</span><br><span class="line">    - 可以是单字符</span><br><span class="line">    - 可以是字符串</span><br><span class="line">  - 若 str 中没有 seq，则元组的元素为 str 自己、两个空字符串</span><br><span class="line"></span><br><span class="line">* str.rpartition(sep)</span><br><span class="line">  - 与 str.partition 相同，区别为按照 str 中最后一次出现的 seq 进行切分</span><br></pre></td></tr></table></figure>
<h4 id="11-切割字符串"><a href="#11-切割字符串" class="headerlink" title="11. 切割字符串"></a>11. 切割字符串</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* str.split(sep=None, maxsplit= -1)</span><br><span class="line">* str.rsplit(sep=None, maxsplit= -1)</span><br><span class="line">  - 对字符串按照 seq 进行切割，切割后的结果组成一个列表</span><br><span class="line">  - 参数 seq</span><br><span class="line">    - 指定分隔符 delimiter</span><br><span class="line">    - 默认采用 writespace</span><br><span class="line">    - 可以是单字符，也可以是字符串，字符串整体会被视为一个分隔符</span><br><span class="line">    - 注意</span><br><span class="line">      - 如果指定了 seq，则当 str 中存在连续的 seq，则每一个 seq 都会被视为分隔符，并会切分出空字符串</span><br><span class="line">      - 如果未指定 seq 或 seq 为 None，则 str 中连续的 writespace 会被视为一个分隔符，不会切分出空字符串</span><br><span class="line">  - 参数 maxsplie</span><br><span class="line">    - 指定切分的次数，默认全部切分</span><br><span class="line">    - str.split，从前向后切分</span><br><span class="line">    - str.rsplit，从后向前切分</span><br><span class="line">  - 若 str 为空字符串，则返回结果为包含一个空字符串的列表</span><br></pre></td></tr></table></figure>
<h4 id="12-行切割"><a href="#12-行切割" class="headerlink" title="12. 行切割"></a>12. 行切割</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* str.splitlines(keepends=False)</span><br><span class="line">  - 对字符串进行行分割，分割后的结果组成一个列表</span><br><span class="line">  - 每一个空行都会组成一个空字符串</span><br><span class="line">  - 可以自动识别合适的 EOL 字符，如 \n、\r、\r\n 都会被视为一个 EOL 字符</span><br><span class="line">  - 参数 keepends</span><br><span class="line">    - 结果中是否保留 Line break 字符</span><br><span class="line">  - 若 str 为空字符串，则结果为空列表</span><br></pre></td></tr></table></figure>
<h4 id="13-字符串连接"><a href="#13-字符串连接" class="headerlink" title="13. 字符串连接"></a>13. 字符串连接</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* str.join(iterable)</span><br><span class="line">  - 将 str 当做 separator，将 iterable 中的所有字符串连接在一起，如 &#x27;:&#x27;.join(&#x27;/usr/bin&#x27;,&#x27;/usr/sbin&#x27;,&#x27;/usr/local/bin&#x27;)</span><br><span class="line">  - iterable 中的所有元素都应是字符串，否则会抛出 TypeError</span><br></pre></td></tr></table></figure>
<h4 id="14-填充零"><a href="#14-填充零" class="headerlink" title="14. 填充零"></a>14. 填充零</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* str.zfill(width)</span><br><span class="line">  - 使用 &#x27;0&#x27; 对 str 进行左填充</span><br><span class="line">  - 可以自动识别数字的符号 &#x27;+&#x27;/&#x27;-&#x27;</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&quot;42&quot;</span>.zfill(<span class="number">5</span>)</span><br><span class="line"><span class="string">&#x27;00042&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&quot;-42&quot;</span>.zfill(<span class="number">5</span>)</span><br><span class="line"><span class="string">&#x27;-0042&#x27;</span></span><br></pre></td></tr></table></figure>
<h4 id="15-其他"><a href="#15-其他" class="headerlink" title="15. 其他"></a>15. 其他</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* str.format_map(mapping)</span><br><span class="line"></span><br><span class="line">* str.encode(encoding=&#x27;utf-8&#x27;, errors=&#x27;strict&#x27;)</span><br><span class="line">  - convert a str to bytes</span><br><span class="line"></span><br><span class="line">* static str.maketrans(x[, y[, z]])</span><br><span class="line"></span><br><span class="line">* str.translate(table)</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="6-7-datetime-模块"><a href="#6-7-datetime-模块" class="headerlink" title="6.7 datetime 模块"></a>6.7 datetime 模块</h2><hr>
<h1 id="Chapter07-输入输出"><a href="#Chapter07-输入输出" class="headerlink" title="Chapter07 输入输出"></a>Chapter07 输入输出</h1><hr>
<h2 id="7-1-输入输出函数"><a href="#7-1-输入输出函数" class="headerlink" title="7.1 输入输出函数"></a>7.1 输入输出函数</h2><h3 id="知识点：print-函数"><a href="#知识点：print-函数" class="headerlink" title="知识点：print() 函数"></a>知识点：print() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* 作用</span><br><span class="line">  - 打印对象到 file 参数指定的文本流中</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  print(*objects, sep=&#x27; &#x27;, end=&#x27;\n&#x27;, file=None, flush=False)¶</span><br><span class="line"></span><br><span class="line">* 参数 sep</span><br><span class="line">  - 指定输出时使用的分隔符</span><br><span class="line"></span><br><span class="line">* 参数 end</span><br><span class="line">  - 指定输出时使用的结尾字符</span><br><span class="line"></span><br><span class="line">* 参数 file</span><br><span class="line">  - 将结果输出到 text 模式的文件对象中</span><br><span class="line">  - 默认 None，表示采用 sys.stdout</span><br><span class="line"></span><br><span class="line">* 参数 flush</span><br><span class="line">  - 指定输出到文件后是否立刻写回</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：repr-函数"><a href="#知识点：repr-函数" class="headerlink" title="知识点：repr() 函数"></a>知识点：repr() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 作用</span><br><span class="line">  - 返回一个表示对象的可打印形式 printable representation 的字符串</span><br><span class="line">  - 对于多数类型，repr() 函数会尝试返回一个可以直接作为 eval() 的参数来生成一个具有相同的值的字符串</span><br><span class="line">  - 其他情况，repr() 返回的结果为使用尖括号 &#x27;&lt; &gt;&#x27; angle brackets 包裹的、包含对象的类型名的、包含其他额外信息诸如对象的名称/地址，的字符串</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  repr(object, /)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：input-函数"><a href="#知识点：input-函数" class="headerlink" title="知识点：input() 函数"></a>知识点：input() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 作用</span><br><span class="line">  - 用于读取一行输入，会去除末尾的 newline</span><br><span class="line">  - 返回值为 str</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  input()</span><br><span class="line">  input(prompt, /)</span><br><span class="line"></span><br><span class="line">* 参数 prompt</span><br><span class="line">  - 指定提示字符串，默认不带换行符</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="7-2-pprint-模块"><a href="#7-2-pprint-模块" class="headerlink" title="7.2 pprint 模块"></a>7.2 pprint 模块</h2><h3 id="知识点：文件对象"><a href="#知识点：文件对象" class="headerlink" title="知识点：文件对象"></a>知识点：文件对象</h3><hr>
<h2 id="7-3-io-模块"><a href="#7-3-io-模块" class="headerlink" title="7.3 io 模块"></a>7.3 io 模块</h2><h3 id="知识点：文件对象-1"><a href="#知识点：文件对象-1" class="headerlink" title="知识点：文件对象"></a>知识点：文件对象</h3><ol>
<li><strong>文件对象 file object</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 文件对象用来表示为一个已经打开的文件</span><br><span class="line">    - 可以指向真实的硬盘文件 real on-disk file</span><br><span class="line">    - 可以指向其他的通讯文件如 standard input/output、in-memory buffers、sockets、pipes 等</span><br><span class="line">  - 通过对外暴露面向文件的 api，如 read()、write()，来对文件进行操作</span><br><span class="line">  - 也称为 file-like objects、I/O objects、streams</span><br><span class="line">  - 接口都在 io 模块中进行的定义</span><br><span class="line"></span><br><span class="line">* 打开方式</span><br><span class="line">  - open()</span><br><span class="line">  - os.popen()</span><br><span class="line">  - os.fdopen()</span><br><span class="line">  - socket.makefile()</span><br><span class="line"></span><br><span class="line">* text file object</span><br><span class="line">  - 以 text 模式打开的文件</span><br><span class="line">  - 对文件对象进行读写的内容为 str object</span><br><span class="line">  - 本质上仍然是字节流 byte-oriented datastream，但自动加载了 encoding</span><br><span class="line">  - 常见包括</span><br><span class="line">    - sys.stdin</span><br><span class="line">    - sys.stdout</span><br><span class="line">    - open() 函数以 text 模式打开的对象</span><br><span class="line">    - io.StringIO 的实例</span><br><span class="line"></span><br><span class="line">* binary file</span><br><span class="line">  - 以 binary 模式打开的文件</span><br><span class="line">  - 对文件对象进行读写的内容为 bytes-like object</span><br><span class="line">  - 可再细分为 raw binary file、buffered binary file</span><br><span class="line">  - 常见包括</span><br><span class="line">    - sys.stdin.buffer</span><br><span class="line">    - sys.stdout.buffer</span><br><span class="line">    - open() 函数以 binary 模式打开的对象</span><br><span class="line">    - io.BytesIO 的实例</span><br><span class="line">    - gzip.GzipFile 的实例</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：open-函数"><a href="#知识点：open-函数" class="headerlink" title="知识点：open() 函数"></a>知识点：open() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  open(file, mode=&#x27;r&#x27;, buffering=- 1, encoding=None, errors=None, newline=None, closefd=True, opener=None)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回一个文件对象</span><br><span class="line"></span><br><span class="line">* 参数 file</span><br><span class="line">  - str 型，指定要打开的文件</span><br><span class="line">  - 可以采用基于 cwd 的相对路径</span><br><span class="line">  - 可以采用绝对路径</span><br><span class="line"></span><br><span class="line">* 参数 mode</span><br><span class="line">  - str 型，指定打开文件的模式</span><br><span class="line"></span><br><span class="line">* 参数 encoding</span><br><span class="line">  - str 型，指定对文件的编码格式</span><br><span class="line">  - 仅 text 模式可用</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>模式 mode</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  &#x27;&lt;r|w|a|x&gt;[+][t|b]&#x27;</span><br><span class="line"></span><br><span class="line">* 介绍</span><br><span class="line">  - &#x27;r&#x27;、&#x27;w&#x27;、&#x27;a&#x27;、&#x27;x&#x27; 必须有且只有一个</span><br><span class="line">  - &#x27;b&#x27;、&#x27;t&#x27; 最多只能指定一个</span><br><span class="line"></span><br><span class="line">* &#x27;r&#x27;   reading (default)</span><br><span class="line"></span><br><span class="line">* &#x27;w&#x27;</span><br><span class="line">  - 写 writing</span><br><span class="line">  - 如果文件存在则覆盖 truncating</span><br><span class="line">  - 如果文件不存在则创建</span><br><span class="line"></span><br><span class="line">* &#x27;a&#x27;</span><br><span class="line">  - 写 appending</span><br><span class="line">  - 向文件的末尾进行追加</span><br><span class="line"></span><br><span class="line">* &#x27;x&#x27;</span><br><span class="line">  - 写</span><br><span class="line">  - 要求文件必须不存在，会先创建文件再进行写</span><br><span class="line">  - 用来防止对已存在文件造成修改</span><br><span class="line"></span><br><span class="line">* &#x27;b&#x27;   binary mode</span><br><span class="line"></span><br><span class="line">* &#x27;t&#x27;   text mode (default)</span><br><span class="line"></span><br><span class="line">* &#x27;+&#x27;   updating (reading and writing)</span><br><span class="line">  - updating 表示 读 + 写，必须配合四种读写模式之一一起使用</span><br><span class="line">  - &#x27;r+&#x27;、&#x27;w+&#x27; 都表示 reading + writing</span><br><span class="line">  - &#x27;a+&#x27; 表示 reading + appending</span><br><span class="line">  - &#x27;x+&#x27; 表示 reading + creating</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：文件对象操作"><a href="#知识点：文件对象操作" class="headerlink" title="知识点：文件对象操作"></a>知识点：文件对象操作</h3><h4 id="1-迭代"><a href="#1-迭代" class="headerlink" title="1. 迭代"></a>1. <strong>迭代</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* 直接对文件对象进行迭代，则每次都是返回文件中的一行</span><br></pre></td></tr></table></figure>
<h4 id="2-读写"><a href="#2-读写" class="headerlink" title="2. 读写"></a>2. <strong>读写</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">* file.read()</span><br><span class="line">* file.read(size)</span><br><span class="line">  - 从文件中读取内容</span><br><span class="line">  - 省略 size，则读取文件中的全部内容</span><br><span class="line">  - 按照文件对象的类型，返回 str 或 bytes</span><br><span class="line"></span><br><span class="line">* file.readline()</span><br><span class="line">  - 只从文件中读取一行</span><br><span class="line">  - eol 或包含在读取的内容中</span><br><span class="line">  - 返回值为 str</span><br><span class="line"></span><br><span class="line">* file.readlines()</span><br><span class="line">  - 从文件中读取所有的行，储存在一个列表中</span><br><span class="line">  - 与 list(file) 功能相同</span><br><span class="line"></span><br><span class="line">* file.write(str)</span><br><span class="line">  - 将 str 写入到文件中</span><br><span class="line">  - 返回值为写入的字符数</span><br><span class="line"></span><br><span class="line">* file.writelines(lines, /)</span><br><span class="line">  - lines 为元素为字符串的列表或元组</span><br><span class="line">  - 将 lines 中的所有元素写入到文件中</span><br><span class="line">  - 默认不会给每个元素添加 eol，因此 lines 中的元素需要自己包含 eol 字符</span><br></pre></td></tr></table></figure>
<h4 id="3-指针"><a href="#3-指针" class="headerlink" title="3. 指针"></a>3. <strong>指针</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* file.tell()</span><br><span class="line">  - 返回 file 中当前的指针位置 current position</span><br><span class="line">  - binary 模式则单位为字节数</span><br><span class="line">  - text 模式则单位可以理解为字符数，但完全保证准确</span><br><span class="line"></span><br><span class="line">* file.seek(offset, whence=0)</span><br><span class="line">  - 移动文件中的指针</span><br><span class="line">  - 计算方式，offset + reference point</span><br><span class="line">  - offset 用于指定偏移量，没有默认值，不可以省略，单位是字节</span><br><span class="line">  - whence 用于选择移动的基准位置 reference point</span><br><span class="line">    - 0 表示 the beginning of the file</span><br><span class="line">    - 1 表示 current file position</span><br><span class="line">    - 2 表示 the end of the file</span><br><span class="line">  - 对于 text file</span><br><span class="line">    - offset 只接受两个参数，0，或 file.tell()</span><br><span class="line">    - whence 只能为 0，唯一的例外是 file.seek(0,2) 表示移动到文件的末尾</span><br><span class="line">    - 即，对于 text file，只能移动到三个位置，文件的开头、文件的末尾、当前位置</span><br><span class="line">    - 对于其他的位置，如 file.seek(15,0)，也许不会抛出异常，但不保证会发生什么，因为移动的单位是字节而 text file 的单位是 unicode code</span><br></pre></td></tr></table></figure>
<h4 id="4-保存和关闭"><a href="#4-保存和关闭" class="headerlink" title="4. 保存和关闭"></a>4. <strong>保存和关闭</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* file.flush()</span><br><span class="line">  - 将 buffer 中的内容写回到文件中</span><br><span class="line"></span><br><span class="line">* file.close()</span><br><span class="line">  - 关闭文件，并将 buffer 的内容写回到文件中</span><br></pre></td></tr></table></figure>

<h3 id="知识点：with-语句"><a href="#知识点：with-语句" class="headerlink" title="知识点：with 语句"></a>知识点：with 语句</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* with statement</span><br><span class="line">  - The with statement allows objects like files to be used in a way that ensures they are always cleaned up promptly and correctly.</span><br><span class="line"></span><br><span class="line">* Objects which, like files, provide predefined clean-up actions will indicate this in their documentation.</span><br><span class="line"></span><br><span class="line">* It is good practice to use the with keyword when dealing with file objects.</span><br><span class="line">- The advantage is that the file is properly closed after its suite finishes, even if an exception is raised at some point.</span><br><span class="line">&gt;&gt;&gt; with open(&#x27;workfile&#x27;, encoding=&quot;utf-8&quot;) as f:</span><br><span class="line">...     read_data = f.read()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;myfile.txt&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">  <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">    <span class="built_in">print</span>(line, end=<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># After the statement is executed, the file f is always closed, even if a problem was encountered while processing the lines.</span></span><br></pre></td></tr></table></figure>

<hr>
<h1 id="Chapter08-模块"><a href="#Chapter08-模块" class="headerlink" title="Chapter08 模块"></a>Chapter08 模块</h1><hr>
<h2 id="8-1-模块"><a href="#8-1-模块" class="headerlink" title="8.1 模块"></a>8.1 模块</h2><h3 id="知识点：模块"><a href="#知识点：模块" class="headerlink" title="知识点：模块"></a>知识点：模块</h3><ol>
<li><strong>模块 module</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 模块，就是指包含了 python 代码的源码文件</span><br><span class="line">    - 通常是 definitions</span><br><span class="line">    - 也可以包含 executable statements，通常以用来对模块进行初始化的</span><br><span class="line">    - 模块中的语句，只会在第一次 import module 时才会执行</span><br><span class="line">  - 命名</span><br><span class="line">    - module_name.py</span><br><span class="line"></span><br><span class="line">* 模块的命名空间</span><br><span class="line">  - 每一个模块都有自己的私有命名空间 private namespace</span><br><span class="line">  - 对于模块中的每一个函数，模块的私有命名空间就是其 global namespace</span><br><span class="line">  - 使用 dotted 命名法来访问模块私有命名空间中的属性，即 module_name.item_name</span><br><span class="line">  - 模块中也可以导入其他模块</span><br><span class="line">    - 导入的其他模块，会被放在模块的 global namespace 中</span><br><span class="line">  - dir(module) 可以查看模块中的所有 name</span><br><span class="line"></span><br><span class="line">* 模块的特殊属性</span><br><span class="line">  - __name__            模块名，如果模块作为脚本运行则其 __name__ 会被设置为 &#x27;__main__&#x27;，如果模块是被导入的则其 __name__ 仍然保存的是模块名</span><br><span class="line">  - __doc__</span><br><span class="line">  - __dict__</span><br><span class="line">  - __file__            模块的文件名，并不是所有模块均具有此属性</span><br><span class="line">  - __annotations__</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在模块中，仅在模块作为 top level 时才执行的代码</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">  XXXX</span><br></pre></td></tr></table></figure></li>
<li><strong>其他</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">* 模块的搜索路径</span><br><span class="line">  - 首先，在 builtin 中搜索 name，检查是否是 builtin module</span><br><span class="line">    - builtin 中的 name 可以查看 sys.builtin_module_names</span><br><span class="line">  - 其次，在 sys.path 变量中记录的目录中，搜索模块文件</span><br><span class="line"></span><br><span class="line">* sys.path 变量</span><br><span class="line">  - 初始化之后，包含以下内容</span><br><span class="line">    - 脚本文件所在的目录，如果脚本文件是一个软连接，则实际储存的目录是对软连接进行追踪后的目录，而不是软连接所在的目录</span><br><span class="line">    - 交互模式时的 cwd</span><br><span class="line">    - PYTHONPATH 环境变量的内容</span><br><span class="line">    - python 安装选项添加的目录</span><br><span class="line">  - 用户可以对 sys.path 变量进行修改</span><br><span class="line">    - sys.path.append()</span><br><span class="line"></span><br><span class="line">* 标准模块 Standard Modules</span><br><span class="line">  - 标准模块主要是为 interpreter 提供一些非核心的基础功能</span><br><span class="line">  - 一个非常重要的模块，sys</span><br><span class="line">    - sys.ps1，交互模式的 primary prompt</span><br><span class="line">    - sys.ps2，交互模式的 secondary prompt</span><br><span class="line">    - sys.path，搜索模块时的目录列表</span><br><span class="line"></span><br><span class="line">* 模块重载 reload</span><br><span class="line">  - 在非交互式环境中，通常模块无法重载</span><br><span class="line">    - 如果一定要重载，只能退出 python 解释器再进入</span><br><span class="line">  - 在交互式环境中，可以使用 importlib.reload() 来重载模块</span><br><span class="line"></span><br><span class="line">* 编译缓存</span><br><span class="line">  - python 会在模块文件所在的目录下，创建一个 __pycache__ 的目录来储存模块的编译缓存文件</span><br><span class="line">  - 编译缓存文件的命名格式，module.version.pyc</span><br><span class="line">    - module 表示模块名</span><br><span class="line">    - version 表示 python 解释器版本，如 cpython-310</span><br><span class="line">  - 在加载模块时，会先检查编译缓存</span><br><span class="line">    - 如果缓存可用则直接使用编译缓存</span><br><span class="line">    - 其他情况则会对源码进行重新编译</span><br><span class="line">    - Python 会对比编译版本与源码的修改日期，查看它是否已过期，是否要重新编译，此过程完全自动化</span><br><span class="line">    - 此外，编译过的模块与平台无关，因此，不同架构的系统之间可以共享同一个库</span><br><span class="line">  - Python 在两种情况下不检查缓存</span><br><span class="line">    - 从命令行直接载入模块，会直接重新编译且不存储编译结果</span><br><span class="line">    - 对于无源模块，即只有 .pyc 文件而没有 .py 文件，则直接使用 .pyc 文件</span><br><span class="line">      - 为了支持无源文件（仅编译）发行版本，编译模块必须在源目录下，并且绝不能有源模块</span><br><span class="line">  - 编译缓存的目的，是为了提高加载模块的速度</span><br><span class="line">  - 标准模块 compileall 提供了创建 .pyc 文件的功能</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：import-语句"><a href="#知识点：import-语句" class="headerlink" title="知识点：import 语句"></a>知识点：import 语句</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 用来从外部导入模块、包、对象等</span><br><span class="line"></span><br><span class="line">* 工作方式</span><br><span class="line">  - 在 current namespace 中建立一个 name</span><br><span class="line">  - 将 name 与对应的对象进行绑定，如模块、函数</span><br><span class="line"></span><br><span class="line">* 推荐将所有的 import 语句放在文件的开头</span><br></pre></td></tr></table></figure></li>
<li><strong>导入模块</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* import module [as other_name]</span><br><span class="line"></span><br><span class="line">* from module import attribute [as other_name]</span><br><span class="line">* from module import *</span><br></pre></td></tr></table></figure></li>
<li><strong>导入包</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* import package [as other_name]</span><br><span class="line">* import package.subpackage [as other_name]</span><br><span class="line">* import package.subpackage.module [as other_name]</span><br><span class="line"></span><br><span class="line">* from package[.subpackage] import moudle [as other_name]</span><br><span class="line">* from package[.subpackage].module import attribute [as other_name]</span><br><span class="line">* from package[.subpackage] import [subpackage.]module.attribute [as other_name]</span><br><span class="line"></span><br><span class="line">* from package[.subpackage] import *</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* Intra-package References</span><br><span class="line">  - 以相对路径的方式，来进行模块的导入</span><br><span class="line">  - . 表示模块的 current package</span><br><span class="line">  - .. 表示模块的 parrent package</span><br><span class="line">  - ..subpackage 表示 parrent package 中的另一个 subpackage</span><br><span class="line"></span><br><span class="line">* 要作为 main module 使用的模块，其中不能使用相对路径，必须只能使用绝对路径方式的导入</span><br><span class="line"></span><br><span class="line">from . import module</span><br><span class="line">from .. import module</span><br><span class="line">from ..subpackage import module</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="8-2-包"><a href="#8-2-包" class="headerlink" title="8.2 包"></a>8.2 包</h2><h3 id="知识点：包-package"><a href="#知识点：包-package" class="headerlink" title="知识点：包 package"></a>知识点：包 package</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">* 包，是对模块文件进行统一组织和管理的一种方式</span><br><span class="line">  - 包中可以包含模块文件，也可以包含数据文件</span><br><span class="line">  - 包在 python 中表现为一个 module 对象，不过比普通的模块对象多了一些属性</span><br><span class="line"></span><br><span class="line">* __init__.py 文件</span><br><span class="line">  - 一个包的基础文件</span><br><span class="line">  - 一个目录中只要存在 __init__.py，python 就认为此目录是一个包</span><br><span class="line">  - __init__.py 可以是一个空文件，但大多数时候包含了对包进行初始化的代码</span><br><span class="line"></span><br><span class="line">* subpackage</span><br><span class="line">  - 默认情况下，python 认为子目录中的内容不属于包的内容</span><br><span class="line">  - 若将子目录也设置成包，则此子目录就是父目录的一个 subpackage</span><br><span class="line"></span><br><span class="line">* 包的 dotted 命名法</span><br><span class="line">  - package.module[.attribute]</span><br><span class="line">  - package.subpackage.module[.attribute]</span><br><span class="line">  - package.subpackage.subpackage.module[.attribute]</span><br><span class="line"></span><br><span class="line">* 特殊属性</span><br><span class="line">  - __path__，储存了 package 所对应的目录</span><br><span class="line">    - 模块没有 __path__ 属性</span><br><span class="line">  - __all__，</span><br><span class="line">    - 设置包的属性的列表，当执行 from package import * 语句时会导入此列表中的属性</span><br><span class="line">    - 在 __init__.py 文件中设定</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="8-3-pip"><a href="#8-3-pip" class="headerlink" title="8.3 pip"></a>8.3 pip</h2><h3 id="知识点：PyPi"><a href="#知识点：PyPi" class="headerlink" title="知识点：PyPi"></a>知识点：PyPi</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* Python Package Index</span><br><span class="line"></span><br><span class="line">* https://pypi.org/</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：pip-指令"><a href="#知识点：pip-指令" class="headerlink" title="知识点：pip 指令"></a>知识点：pip 指令</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* 用于从 PyPi 上下载安装模块</span><br></pre></td></tr></table></figure></li>
<li><strong>修改镜像源</strong><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 修改为阿里云 PyPi 镜像源</span></span><br><span class="line">mkdir ~/.pip 2&gt;/dev/null</span><br><span class="line">echo -e &quot;[global] \nindex-url = https://mirrors.aliyun.com/pypi/simple/ \n\n[install] \ntrusted-host=mirrors.aliyun.com&quot; &gt;&gt; ~/.pip/pip.conf</span><br></pre></td></tr></table></figure></li>
<li><strong>用法</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* pip [GeneralOptions] COMMAND [CommandOptions] [PackageNames]</span><br><span class="line"></span><br><span class="line">* PackageNames</span><br><span class="line">  - 多个 PackageName 使用空格间隔</span><br><span class="line">  - 默认不区分大小写</span><br></pre></td></tr></table></figure></li>
<li><strong>COMMAND</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">* help [COMMAND]</span><br><span class="line">  - 查看 pip 帮助，或查看指定的 COMMAND 的帮助</span><br><span class="line"></span><br><span class="line">* list</span><br><span class="line">  - 列出全部 installed packages</span><br><span class="line"></span><br><span class="line">* show Package</span><br><span class="line">  - 查看某个 installed package 的信息</span><br><span class="line"></span><br><span class="line">* check Package</span><br><span class="line">  - 检查某个 installed package 的依赖是否完整</span><br><span class="line"></span><br><span class="line">* install Packages</span><br><span class="line"></span><br><span class="line">* download Packages</span><br><span class="line"></span><br><span class="line">* uninstall Packages</span><br><span class="line"></span><br><span class="line">* hash [hashOptions] Package</span><br><span class="line">  - 对某个本地的 package archive 计算 hash</span><br><span class="line"></span><br><span class="line">* debug</span><br><span class="line"></span><br><span class="line">* config</span><br></pre></td></tr></table></figure></li>
<li><strong>GeneralOptions</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">* -h, --help</span><br><span class="line"></span><br><span class="line">* -v, --verbose</span><br><span class="line"></span><br><span class="line">* -V, --version</span><br><span class="line"></span><br><span class="line">* -q, --quiet</span><br><span class="line">  - 安静模式，减少输出信息</span><br><span class="line">  - 支持 additive 方式，分别对应 WARNING、ERROR、CRITICAL 三种日志级别</span><br><span class="line"></span><br><span class="line">* --log Path</span><br><span class="line">  - 将日志额外保存到指定的文件中</span><br><span class="line"></span><br><span class="line">* --proxy Proxy</span><br><span class="line">  - 设置代理，格式为 [user:passwd@]proxy.server:port</span><br><span class="line"></span><br><span class="line">* --retries Number</span><br><span class="line">  - 设置最大重试次数</span><br><span class="line"></span><br><span class="line">* --timeout Number</span><br><span class="line">  - 设置 socket 的超时时间</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：pip-bash-补全"><a href="#知识点：pip-bash-补全" class="headerlink" title="知识点：pip bash 补全"></a>知识点：pip bash 补全</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum -y install bash-completion</span><br><span class="line"></span><br><span class="line">echo &quot;source &lt;(kubectl completion bash)&quot; &gt;&gt; ~/.bashrc</span><br></pre></td></tr></table></figure>

<h3 id="知识点：pip-search-指令"><a href="#知识点：pip-search-指令" class="headerlink" title="知识点：pip_search 指令"></a>知识点：pip_search 指令</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* pip 指令禁用了 search 功能，想要搜索模块则需要使用 pip_search 指令</span><br></pre></td></tr></table></figure></li>
<li><strong>安装</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* pip install pip_search</span><br></pre></td></tr></table></figure></li>
<li><strong>用法</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* pip_search -h         帮助</span><br><span class="line">* pip_search PackageName</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h1 id="Chapter09-常用模块"><a href="#Chapter09-常用模块" class="headerlink" title="Chapter09 常用模块"></a>Chapter09 常用模块</h1><hr>
<h2 id="9-1-sys-模块"><a href="#9-1-sys-模块" class="headerlink" title="9.1 sys 模块"></a>9.1 sys 模块</h2><h3 id="知识点：sys-模块"><a href="#知识点：sys-模块" class="headerlink" title="知识点：sys 模块"></a>知识点：sys 模块</h3><ol start="3">
<li><strong>异常处理相关</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">  * sys.exc_info()</span><br><span class="line">    - 返回老式风格的 handled exception 的展示方式</span><br><span class="line">    - 对于已经处理的异常，sys.exc_info() 返回一个元组，其内容为 (type(e), e, e.__traceback__)</span><br><span class="line">If an exception e is currently handled (so exception() would return e), exc_info() returns the tuple (type(e), e, e.__traceback__).</span><br><span class="line">That is, a tuple containing the type of the exception (a subclass of BaseException), the exception itself, and a traceback object which typically encapsulates the call stack at the point where the exception last occurred.</span><br><span class="line"></span><br><span class="line">If no exception is being handled anywhere on the stack, this function return a tuple containing three None values.</span><br><span class="line"></span><br><span class="line">Changed in version 3.11: The type and traceback fields are now derived from the value (the exception instance), so when an exception is modified while it is being handled, the changes are reflected in the results of subsequent calls to exc_info().</span><br><span class="line"></span><br><span class="line">  * sys.exception()</span><br><span class="line">This function, when called while an exception handler is executing (such as an except or except* clause), -</span><br><span class="line">returns the exception instance that was caught by this handler.</span><br><span class="line"></span><br><span class="line">When exception handlers are nested within one another, only the exception handled by the innermost handler is accessible.</span><br><span class="line"></span><br><span class="line">If no exception handler is executing, this function returns None.</span><br><span class="line">  *</span><br><span class="line">sys.last_type</span><br><span class="line">sys.last_value</span><br><span class="line">sys.last_traceback</span><br><span class="line">These three variables are not always defined; they are set when an exception is not handled and the interpreter prints an error message and a stack traceback. Their intended use is to allow an interactive user to import a debugger module and engage in post-mortem debugging without having to re-execute the command that caused the error. (Typical use is import pdb; pdb.pm() to enter the post-mortem debugger; see pdb module for more information.)</span><br><span class="line"></span><br><span class="line">The meaning of the variables is the same as that of the return values from exc_info() above.</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="9-2-os-模块"><a href="#9-2-os-模块" class="headerlink" title="9.2 os 模块"></a>9.2 os 模块</h2><hr>
<h2 id="9-3-os-path-模块"><a href="#9-3-os-path-模块" class="headerlink" title="9.3 os.path 模块"></a>9.3 os.path 模块</h2><hr>
<h2 id="9-4-pathlib-模块"><a href="#9-4-pathlib-模块" class="headerlink" title="9.4 pathlib 模块"></a>9.4 pathlib 模块</h2><h3 id="知识点：path-类"><a href="#知识点：path-类" class="headerlink" title="知识点：path 类"></a>知识点：path 类</h3><hr>
<h2 id="9-5-time-模块"><a href="#9-5-time-模块" class="headerlink" title="9.5 time 模块"></a>9.5 time 模块</h2><hr>
<h2 id="9-6-functools-模块"><a href="#9-6-functools-模块" class="headerlink" title="9.6 functools 模块"></a>9.6 functools 模块</h2><hr>
<h1 id="Chapter10-文本处理模块"><a href="#Chapter10-文本处理模块" class="headerlink" title="Chapter10 文本处理模块"></a>Chapter10 文本处理模块</h1><hr>
<h2 id="10-1-string-模块"><a href="#10-1-string-模块" class="headerlink" title="10.1 string 模块"></a>10.1 string 模块</h2><h3 id="知识点：string-模块介绍"><a href="#知识点：string-模块介绍" class="headerlink" title="知识点：string 模块介绍"></a>知识点：string 模块介绍</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - python 提供的，一些对于字符串的额外功能支持</span><br><span class="line">  - string.Formatter，支持对格式化进行自定义</span><br><span class="line">  - string.Template，支持 &#x27;$&#x27; 方式的字符替换</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：string-模块常量"><a href="#知识点：string-模块常量" class="headerlink" title="知识点：string 模块常量"></a>知识点：string 模块常量</h3><ol>
<li><strong>字母</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* string.ascii_lowercase</span><br><span class="line">  - 表示 ascii 中所有的小写字母的字符串，即</span><br><span class="line"></span><br><span class="line">* string.ascii_uppercase</span><br><span class="line">  - 表示 ascii 中所有的大写字母的字符串，即</span><br><span class="line"></span><br><span class="line">* string.ascii_letters</span><br><span class="line">  - 表示 ascii 中所有的字母的字符串，即 ascii_lowercase 和 ascii_uppercase，即 &#x27;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&#x27;</span><br></pre></td></tr></table></figure></li>
<li><strong>数字</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* string.digits</span><br><span class="line">  - 表示 ascii 中所有的数字的字符串，即 &#x27;0123456789&#x27;</span><br><span class="line"></span><br><span class="line">* string.octdigits</span><br><span class="line">  - 表示 ascii 中所有用来表示八进制数的字符的字符串，即 &#x27;01234567&#x27;</span><br><span class="line"></span><br><span class="line">* string.hexdigits</span><br><span class="line">  - 表示 ascii 中所有用来表示十六进制数的字符的字符串，即 &#x27;0123456789abcdefABCDEF&#x27;</span><br></pre></td></tr></table></figure></li>
<li><strong>符号</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* string.punctuation</span><br><span class="line">  - 表示 ascii 中所有标点符号字符的字符串，即 !&quot;#$%&amp;&#x27;()*+,-./:;&lt;=&gt;?@[\]^_`&#123;|&#125;~.</span><br></pre></td></tr></table></figure></li>
<li><strong>空白</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* string.whitespace</span><br><span class="line">  - 一个表示 ascii 中所有的 whitespace 字符的字符串，包括 space、tab、linefeed、return、formfeed、vertical tab</span><br></pre></td></tr></table></figure></li>
<li><strong>可打印字符</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* string.printable</span><br><span class="line">  - 表示 ascii 中所有的可打印字符的字符串，包括 digits、ascii_letters、punctuation、whitespace</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：string-模块函数"><a href="#知识点：string-模块函数" class="headerlink" title="知识点：string 模块函数"></a>知识点：string 模块函数</h3><ol>
<li><strong>string.capwords()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  string.capwords(s, sep=None)</span><br><span class="line"></span><br><span class="line">* 介绍</span><br><span class="line">  - 实现字符串 s 中每个 word 的首字母大写</span><br><span class="line">  - 执行方式为先 str.split()，再 str.capitalize()，最后 str.join()，因此结果相对于 str.title() 更符合人类阅读习惯</span><br><span class="line"></span><br><span class="line">* 参数 s</span><br><span class="line">  - 待处理的字符串</span><br><span class="line"></span><br><span class="line">* 参数 sep</span><br><span class="line">  - 指定分隔符，默认使用 whitespace</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：Formatter-类"><a href="#知识点：Formatter-类" class="headerlink" title="知识点：Formatter 类"></a>知识点：Formatter 类</h3><ol>
<li><strong>string.Formatter 类</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 格式化器类，可以用来创建格式化器</span><br><span class="line">  - 基于 Formatter 派生子类，再改写方法，可以实现自定义的格式化功能</span><br></pre></td></tr></table></figure></li>
<li><strong>string.Formatter.format()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  string.Formatter.format(format_string, /, *args, **kwargs)</span><br><span class="line"></span><br><span class="line">* 介绍</span><br><span class="line">  - 格式化器的包装方法</span><br><span class="line">  - 可以将底层的格式化操作进行包装，作为对外提供的 api</span><br><span class="line">  - 若保持默认设置，则格式化器与 str.format() 的用法相同</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> string</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=string.Formated()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.<span class="built_in">format</span>(<span class="string">&#x27;There are &#123;&#125; &#123;fruit&#125;&#x27;</span>,<span class="string">&#x27;10&#x27;</span>,fruit=<span class="string">&#x27;apple&#x27;</span>)</span><br><span class="line">There are <span class="number">10</span> apple</span><br></pre></td></tr></table></figure></li>
<li><strong>string.Formatter.vformat()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  string.Formatter.vformat(format_string, args, kwargs)</span><br><span class="line"></span><br><span class="line">* 介绍</span><br><span class="line">  - 实际执行格式化函数的操作</span><br><span class="line">  - 通过调用各种底层的格式化功能函数，来实现格式化操作</span><br><span class="line">  - string.Formatter.format() 就是对 string.Formatter.vformat() 的封装</span><br><span class="line">  - 在派生子类时，string.Formatter.format() 和 string.Formatter.vformat() 应尽量不要动</span><br></pre></td></tr></table></figure></li>
<li><strong>格式化功能函数</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* string.Formatter.parse()</span><br><span class="line">* string.Formatter.get_field()</span><br><span class="line">* string.Formatter.get_value()</span><br><span class="line">* string.Formatter.check_unused_args()</span><br><span class="line">* string.Formatter.format_field()</span><br><span class="line">* string.Formatter.convert_field()</span><br><span class="line"></span><br><span class="line">* 介绍</span><br><span class="line">  - 底层的格式化功能函数，被 string.Formatter.vformat() 所调用</span><br><span class="line">  - 分别对应格式化操作中分步操作中的某一步</span><br><span class="line">  - 在派生子类时，可以对这些函数进行修改，以实现个性化的格式化功能</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：Template-类"><a href="#知识点：Template-类" class="headerlink" title="知识点：Template 类"></a>知识点：Template 类</h3><ol>
<li><strong>string.Template()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 模板字符串类</span><br><span class="line">  - python 提供的对基于 &#x27;$&#x27; 方式的字符串替换的支持</span><br><span class="line">  - 如，$identifier、$&#123;identifier&#125; 表示替换字段，$$ 表示一个 &#x27;$&#x27; 字符</span><br><span class="line"></span><br><span class="line">* constructor</span><br><span class="line">  class string.Template(template)</span><br><span class="line">  - 生成一个模板字符串对象 template</span><br></pre></td></tr></table></figure></li>
<li><strong>template 对象方法</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* template.substitute(mapping=&#123;&#125;, /, **kwds)</span><br><span class="line">* template.safe_substitute(mapping=&#123;&#125;, /, **kwds)</span><br><span class="line">  - 对模板对象进行替换，返回替换后的结果字符串</span><br><span class="line">  - 可以同时指定 mapping 字典和 keyword 参数，keyword 参数具有更高的优先级</span><br><span class="line">  - 如果替换字段缺少</span><br><span class="line">    - template.substitute() 会抛出 KeyError 异常</span><br><span class="line">    - template.safe_substitute() 不会抛出异常，而是保留未替换的字段的字面量，包括 &#x27;$&#x27; 字符</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> string</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=string.Template(<span class="string">&#x27;There are $num $fruit&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(a.substitute(&#123;<span class="string">&#x27;num&#x27;</span>:<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;fruit&#x27;</span>:<span class="string">&#x27;apples&#x27;</span>&#125;))</span><br><span class="line">There are <span class="number">2</span> apples</span><br></pre></td></tr></table></figure></li>
<li><strong>template 对象数据属性</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* template.template</span><br><span class="line">  - 数据属性</span><br><span class="line">  - 保存构造器中的 template 参数</span><br><span class="line">  - 以 read-only 的方式储存在 template 对象中</span><br></pre></td></tr></table></figure></li>
<li><strong>Template 类数据属性</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - Template 类的数据属性，控制了部分模板功能的格式</span><br><span class="line">  - 在派生子类时，可以通过覆盖这些数据属性，来实现自定义的模板替换格式</span><br><span class="line"></span><br><span class="line">* string.Template.delimiter</span><br><span class="line">* string.Template.idpattern</span><br><span class="line">* string.Template.braceidpattern</span><br><span class="line">* string.Template.flags</span><br><span class="line">* string.Template.escaped</span><br><span class="line">* string.Template.named</span><br><span class="line">* string.Template.braced</span><br><span class="line">* string.Template.invalid</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="10-2-re-模块"><a href="#10-2-re-模块" class="headerlink" title="10.2 re 模块"></a>10.2 re 模块</h2><h3 id="知识点：re-模块"><a href="#知识点：re-模块" class="headerlink" title="知识点：re 模块"></a>知识点：re 模块</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - re 模块，是 python 提供的对正则表达式的基础功能的支持</span><br><span class="line"></span><br><span class="line">* re 模块默认对 unicode 字符进行处理，可以通过 flag 来设置只对 ascii 字符处理</span><br><span class="line">  - 要么处理 unicode 字符</span><br><span class="line">  - 要么处理 ascii 字符</span><br><span class="line">  - 不能同时处理 unicode 和 ascii</span><br><span class="line"></span><br><span class="line">* python how-to 提供了对正则比较详细的显示和描述</span><br><span class="line">  - https://docs.python.org/3/howto/regex.html#regex-howto</span><br></pre></td></tr></table></figure></li>
<li><strong>关于反斜线 backslash 和 raw string</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* backslash &#x27;\&#x27;</span><br><span class="line">  - re 模块支持在正则表达式 pattern 中使用 &#x27;\&#x27; 来进行跳脱</span><br><span class="line">  - 但由于 python 解释器也支持 &#x27;\&#x27;，因此在提供 pattern 时，需要使用两个反斜线 &#x27;\\&#x27; 来表示一个 &#x27;\&#x27;</span><br><span class="line">  - 例如：</span><br><span class="line">    pattern 中的 &#x27;\&#x27; 需要写成 &#x27;\\&#x27;，来防止 python 解释器进行跳脱</span><br><span class="line">    pattern 中的 &#x27;\\&#x27; 需要写成 &#x27;\\\\&#x27;</span><br><span class="line"></span><br><span class="line">* raw string</span><br><span class="line">  - 如果 pattern 使用 raw string，则可以避免 python 解释器误解析 &#x27;\&#x27;，因为 python 解释器在处理 raw string 时会自动进行 &#x27;\&#x27; 到 &#x27;\\&#x27; 的替换</span><br><span class="line">  - 因此，推荐 pattern 都使用 raw string</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：re-模块的正则语法"><a href="#知识点：re-模块的正则语法" class="headerlink" title="知识点：re 模块的正则语法"></a>知识点：re 模块的正则语法</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 重要</span><br><span class="line">  - re 模块并不支持中括号字符类</span><br><span class="line">  - regex 模块也不支持中括号字符类</span><br></pre></td></tr></table></figure></li>
<li><strong>正则元字符</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">* &#x27;.&#x27;</span><br><span class="line">  - dot</span><br><span class="line">  - 匹配除了 newline 以外的所有字符</span><br><span class="line"></span><br><span class="line">* &#x27;^&#x27;</span><br><span class="line">  - 匹配 string 的开始位置</span><br><span class="line">  - 注意，在默认模式并不匹配行首，需要开启多行模式</span><br><span class="line"></span><br><span class="line">* &#x27;$&#x27;</span><br><span class="line">  - 匹配 string 的结束位置</span><br><span class="line">  - 如果 string 的最后一个字符为 newline，则匹配 newline 之前的位置</span><br><span class="line">  - 注意，在默认模式并不匹配行尾，需要开启多行模式</span><br><span class="line"></span><br><span class="line">* &#x27;*&#x27;</span><br><span class="line">  - 重复 repetition，0 到无数次重复</span><br><span class="line"></span><br><span class="line">* &#x27;+&#x27;</span><br><span class="line">  - 重复 repetition，1 到无数次重复</span><br><span class="line"></span><br><span class="line">* &#x27;?&#x27;</span><br><span class="line">  - 重复 repetition，0 到 1 次重复</span><br><span class="line"></span><br><span class="line">* &#x27;&#123;m&#125;&#x27;、&#x27;&#123;m,n&#125;、&#x27;&#123;m,&#125;&#x27;、&#x27;&#123;,n&#125;&#x27;</span><br><span class="line">  - 重复 repetition，指定次数的重复</span><br><span class="line"></span><br><span class="line">* &#x27;*?&#x27;、&#x27;+?&#x27;、&#x27;??&#x27;、&#x27;&#123;m,n&#125;?&#x27;</span><br><span class="line">  - 非贪婪重复 non-greedy</span><br><span class="line"></span><br><span class="line">* &#x27;[]&#x27;</span><br><span class="line">  - 字符类</span><br><span class="line">  - 特殊字符如 &#x27;+&#x27;、&#x27;*&#x27;、&#x27;(&#x27;、&#x27;)&#x27; 在字符类中自动恢复为普通字符</span><br><span class="line">  - &#x27;-&#x27; 如果想要作为普通字符，可以加 &#x27;\&#x27;，如 &#x27;[abc\-]&#x27;，或作为字符类的第一个字符，如 &#x27;[-abc]&#x27;</span><br><span class="line">  - &#x27;^&#x27; 作为第一个字符表示反向字符类，不是第一个字符则恢复为普通字符</span><br><span class="line"></span><br><span class="line">* &#x27;|&#x27;</span><br><span class="line">  - 或</span><br><span class="line">  - 注意，对于 A|B，如果 A 匹配，则不会再对 B 进行测试</span><br><span class="line"></span><br><span class="line">* &#x27;(...)&#x27;</span><br><span class="line">  - 组</span><br></pre></td></tr></table></figure></li>
<li><strong>跳脱</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">* &#x27;\&#x27;</span><br><span class="line">  - 跳脱</span><br><span class="line"></span><br><span class="line">* \number</span><br><span class="line">* \g&lt;number&gt;</span><br><span class="line">  - 使用数字引用捕捉群</span><br><span class="line">  - 支持 1-99</span><br><span class="line">  - 注意，\g&lt;number&gt; 中的 &#x27;&lt;&gt;&#x27; 是此格式的用法</span><br><span class="line">  - 注意，如果放在字符类 &#x27;[]&#x27;中则表示普通字符</span><br><span class="line"></span><br><span class="line">* \A    匹配 string 的开始位置</span><br><span class="line">* \Z    匹配 string 的结束位置</span><br><span class="line">* \b    匹配 word boundary</span><br><span class="line">* \B    匹配 non word boundary</span><br><span class="line">* \d    匹配 digit</span><br><span class="line">* \D    匹配 non digit</span><br><span class="line">* \w    匹配 word character</span><br><span class="line">* \W    匹配 non word character</span><br><span class="line">* \s    匹配 whitespace，ascii 中包括 &#x27; &#x27;、&#x27;  &#x27;、&#x27;\n&#x27;、&#x27;\r&#x27;、&#x27;\f&#x27;、&#x27;\v&#x27;</span><br><span class="line">* \S    匹配 non-whitespace</span><br><span class="line"></span><br><span class="line">* standard escape</span><br><span class="line">  - \n、\r</span><br><span class="line">  - \f、\v、\a、\b、\x、\u、\N、\U</span><br><span class="line">  - \\</span><br></pre></td></tr></table></figure></li>
<li><strong>拓展标记法</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">* &#x27;(?XXX...)&#x27;</span><br><span class="line">  - 拓展标记法 extension notation</span><br><span class="line">  - 除了命名的捕捉群以外，所有的拓展标记法都不会创建捕捉群</span><br><span class="line"></span><br><span class="line">* (?#...)</span><br><span class="line">  - 注释</span><br><span class="line"></span><br><span class="line">* &#x27;(?:...)&#x27;</span><br><span class="line">  - 非捕捉群的组</span><br><span class="line"></span><br><span class="line">* &#x27;(?aiLmsux)&#x27;</span><br><span class="line">  - 对 pattern 设置相应的旗标</span><br><span class="line">  - 匹配 empty string，因此可以放在 pattern 的任意位置</span><br><span class="line">    - 但通常放在 start</span><br><span class="line">    - 放在其他位置也会正常匹配，但会抛出一个警告</span><br><span class="line">  - 可以包含一个或多个功能标识符，注意 &#x27;a&#x27;、&#x27;L&#x27;、&#x27;u&#x27; 互斥</span><br><span class="line">    - &#x27;a&#x27; ==&gt; re.A  ASCII-only matching</span><br><span class="line">    - &#x27;i&#x27; ==&gt; re.I ignore case</span><br><span class="line">    - &#x27;L&#x27; ==&gt; re.L locale dependent</span><br><span class="line">    - &#x27;m&#x27; ==&gt; re.M multi-line</span><br><span class="line">    - &#x27;s&#x27; ==&gt; re.S dot matches all</span><br><span class="line">    - &#x27;u&#x27; ==&gt; re.U Unicode matching</span><br><span class="line">    - &#x27;x&#x27; ==&gt; re.X verbose</span><br><span class="line"></span><br><span class="line">* &#x27;(?aiLmsux:...)&#x27;</span><br><span class="line">* &#x27;(?aiLmsux-imsx:...)&#x27;</span><br><span class="line">  - 只对组内的 pattern 设置相应的旗标</span><br><span class="line">  - &#x27;-&#x27; 后面的字幕表示取消设置某个旗标</span><br><span class="line"></span><br><span class="line">* &#x27;(?P&lt;name&gt;...)&#x27;</span><br><span class="line">  - 命名的捕捉群</span><br><span class="line">  - &#x27;&lt;&gt;&#x27; 是 name 的标记，&#x27;name&#x27; 表示捕捉群的名称</span><br><span class="line">  - 命名的捕捉群也会占用数字引用中的变化</span><br><span class="line"></span><br><span class="line">* &#x27;\g&lt;name&gt;&#x27;</span><br><span class="line">  - 使用命名的捕捉群</span><br><span class="line"></span><br><span class="line">* &#x27;(?P=name)&#x27;</span><br><span class="line">  - 命名的捕捉群的回溯引用 backreference</span><br><span class="line">  - 只能用于正则式自身中</span><br><span class="line"></span><br><span class="line">* regex(?=...)    正先行断言 positive lookahead assertion</span><br><span class="line">* regex(?!...)    负先行断言 negative lookahead assertion</span><br><span class="line">* (?&lt;=...)regex   正后发断言 positive lookbehind assertion</span><br><span class="line">* (?&lt;!...)regex   负后发断言 negative lookbehind assertion</span><br><span class="line">  - 注意在后发断言中，断言 pattern 必须是固定长度的，不可以使用如 &#x27;a*&#x27; 的方式</span><br><span class="line"></span><br><span class="line">* (?(id/name)yes-pattern|no-pattern)</span><br><span class="line">  - 条件匹配</span><br><span class="line">  - 放在一个较长的 pattern 中，并且之前应该有指定捕捉群</span><br><span class="line">  - id、name 用来指定前面的捕捉群</span><br><span class="line">  - yes-pattern，如果指定的捕捉群存在，则按此 pattern 匹配</span><br><span class="line">  - no-pattern，如果指定的捕捉群不存在，则按此 pattern 匹配</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：re-模块的正则旗标"><a href="#知识点：re-模块的正则旗标" class="headerlink" title="知识点：re 模块的正则旗标"></a>知识点：re 模块的正则旗标</h3><ol>
<li><strong>正则旗标 re flag</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">* re.A、re.ASCII</span><br><span class="line">  - 使 \w、\W、\b、\B、\d、\D、\s、\S 只匹配 ascii 字符</span><br><span class="line"></span><br><span class="line">* re.DEBUG</span><br><span class="line">  - 编译 pattern 时输出 debug 信息</span><br><span class="line"></span><br><span class="line">* re.I、re.IGNORECASE</span><br><span class="line">  - 进行 case-insensitive 匹配</span><br><span class="line"></span><br><span class="line">* re.L、re.LOCALE</span><br><span class="line">  - 进行基于 local 的匹配，只针对 bytes pattern 有效</span><br><span class="line"></span><br><span class="line">* re.M、re.MULTILINE</span><br><span class="line">  - 开启多行模式</span><br><span class="line">  - 使 &#x27;^&#x27; 也支持匹配行首位置，即 newline 字符之后</span><br><span class="line">  - 使 &#x27;$&#x27; 也支持匹配行尾位置，即 newline 字符之前</span><br><span class="line"></span><br><span class="line">* re.S、re.DOTALL</span><br><span class="line">  - 使 &#x27;.&#x27; 也支持匹配 newline 字符</span><br><span class="line"></span><br><span class="line">* re.X、re.VERBOSE</span><br><span class="line">  - 使 pattern 支持冗长方式</span><br><span class="line">  - 冗长方式的 pattern 中可以添加注释，可以更易读</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：re-模块函数"><a href="#知识点：re-模块函数" class="headerlink" title="知识点：re 模块函数"></a>知识点：re 模块函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* pattern 参数</span><br><span class="line">  - re 模块的所有的函数的 pattern 参数，既支持 str 方式的 pattern，也支持 pattern 对象</span><br><span class="line"></span><br><span class="line">* flags 参数</span><br><span class="line">  - re 模块的所有的函数的 flags 参数，仅在 pattern 参数为 str 时可用</span><br><span class="line">  - 如果 pattern 参数是 pattern 对象，则在创建 pattern 对象时就需要确定旗标</span><br><span class="line">  - 如果要一次指定多个 flag，可以采用 &#x27;|&#x27; 字符进行连接，例如 flags=re.A|re.I|re.M</span><br></pre></td></tr></table></figure></li>
<li><strong>re.search()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  re.search(pattern, string, flags=0)</span><br><span class="line"></span><br><span class="line">* 功能</span><br><span class="line">  - 返回一个 match 对象</span><br><span class="line">  - 对 string 进行匹配，记录第一个匹配结果</span><br></pre></td></tr></table></figure></li>
<li><strong>re.match()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  re.match(pattern, string, flags=0)</span><br><span class="line"></span><br><span class="line">* 功能</span><br><span class="line">  - 返回一个 match 对象</span><br><span class="line">  - 对 string 进行匹配，要求必须从 string 的 start 就符合，记录匹配结果</span><br></pre></td></tr></table></figure></li>
<li><strong>re.fullmatch()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  re.fullmatch(pattern, string, flags=0)</span><br><span class="line"></span><br><span class="line">* 功能</span><br><span class="line">  - 返回一个 match 对象</span><br><span class="line">  - 对 string 进行匹配，要求 string 必须完全符合 pattern，记录匹配结果</span><br></pre></td></tr></table></figure></li>
<li><strong>re.findall()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  re.findall(pattern, string, flags=0)</span><br><span class="line"></span><br><span class="line">* 功能</span><br><span class="line">  - 使用 pattern 对 string 进行匹配，返回一个列表 list</span><br><span class="line">  - 如果 pattern 中不包含捕捉群，则列表中每一个元素对应的相应的匹配结果，类型为 str</span><br><span class="line">  - 如果 pattern 中包含捕捉群</span><br><span class="line">    - 列表中的每一个元素都是一个元组，对应一个匹配结果</span><br><span class="line">    - 元组中的每一个元素都是相应的捕捉群的结果</span><br><span class="line">    - 匹配结果中的非捕捉群的内容会丢失</span><br><span class="line">  - 注意，会包含 empty match</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"></span><br><span class="line">re.findall(<span class="string">r&#x27;\bf\w*&#x27;</span>, <span class="string">&#x27;which foot or hand fell fastest&#x27;</span>)</span><br><span class="line"><span class="comment"># 不包含捕捉群</span></span><br><span class="line"><span class="comment"># 输出为 [&#x27;foot&#x27;, &#x27;fell&#x27;, &#x27;fastest&#x27;]</span></span><br><span class="line"></span><br><span class="line">re.findall(<span class="string">r&#x27;(\w+)=(\d+)&#x27;</span>, <span class="string">&#x27;set width=20 and height=10&#x27;</span>)</span><br><span class="line"><span class="comment"># 包含捕捉群</span></span><br><span class="line"><span class="comment"># 输出为 [(&#x27;width&#x27;, &#x27;20&#x27;), (&#x27;height&#x27;, &#x27;10&#x27;)]</span></span><br></pre></td></tr></table></figure></li>
<li><strong>re.finditer()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  re.finditer(pattern, string, flags=0)</span><br><span class="line"></span><br><span class="line">* 功能</span><br><span class="line">  - 返回一个 iterator，iterator 每次迭代返回的都是一个 match object，match object 对应每一次的匹配结果</span><br><span class="line">  - 注意，会包含 empty match</span><br></pre></td></tr></table></figure></li>
<li><strong>re.split()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  re.split(pattern, string, maxsplit=0, flags=0)</span><br><span class="line"></span><br><span class="line">* 功能</span><br><span class="line">  - 使用 pattern 对 string 进行分割，返回一个列表</span><br><span class="line">  - 如果 pattern 中不包含捕捉群</span><br><span class="line">    - 列表中的每一个元素表示切分后的 word</span><br><span class="line">    - 如果 word 为空，则对应的元素为 empty string</span><br><span class="line">  - 如果 pattern 中包含捕捉群</span><br><span class="line">    - 列表中在每一个表示 word 的元素之后，会跟上每一个捕捉群的结果，分别对应 \1、\2 ...</span><br><span class="line">    - 如果某个捕捉群内容为空，则此捕捉群对应的元素为 empty string</span><br><span class="line">    - 如果 string 的开始位置就是分隔符，则列表中第一个元素为 empty string，之后跟开始位置的分隔符对应的捕捉群</span><br><span class="line">    - 此功能保证，在相同的相对索引的位置上一定是相同性质的元素</span><br><span class="line">  - 注意，也会对 empty match 进行切分</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"></span><br><span class="line">s=<span class="string">&#x27;name|++|value|++|copy&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(re.split(<span class="string">r&#x27;[|+]+&#x27;</span>,s))</span><br><span class="line"><span class="comment"># 不包含捕捉群</span></span><br><span class="line"><span class="comment"># 输出为 [&#x27;name&#x27;, &#x27;value&#x27;, &#x27;copy&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(re.split(<span class="string">r&#x27;([|+]+)&#x27;</span>,s))</span><br><span class="line"><span class="comment"># 包含捕捉群</span></span><br><span class="line"><span class="comment"># 输出为 [&#x27;name&#x27;, &#x27;|++|&#x27;, &#x27;value&#x27;, &#x27;|++|&#x27;, &#x27;copy&#x27;]</span></span><br></pre></td></tr></table></figure></li>
<li><strong>re.sub()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  re.sub(pattern, repl, string, count=0, flags=0)</span><br><span class="line"></span><br><span class="line">* 功能</span><br><span class="line">  - 基于正则进行替换，返回替换后的结果，返回值类型为 str</span><br><span class="line">  - 注意，也会对 empty match 进行替换</span><br><span class="line"></span><br><span class="line">* 参数 repl</span><br><span class="line">  - 表示 replace</span><br><span class="line">  - 可以是 str 类型，支持使用捕捉群</span><br><span class="line">  - 可以是一个函数</span><br><span class="line">    - 函数必须只接收一个参数，参数必须是 match object 类型</span><br><span class="line">    - 函数的返回结果必须是 str 类型</span><br><span class="line"></span><br><span class="line">* 参数 count</span><br><span class="line">  - 指定最大的替换次数</span><br><span class="line">  - 默认值 0 表示全部替换</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  re.subn(pattern, repl, string, count=0, flags=0)</span><br><span class="line"></span><br><span class="line">* 功能</span><br><span class="line">  - 与 re.sub() 类似，只是返回结果为一个 tuple，格式为 (new_string, number_of_subs_made)</span><br></pre></td></tr></table></figure></li>
<li><strong>re.escape()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  re.escape(string)</span><br><span class="line"></span><br><span class="line">* 功能</span><br><span class="line">  - Escape special characters in string.</span><br><span class="line">  - This is useful if you want to match an arbitrary literal string that may have regular expression metacharacters in it.</span><br></pre></td></tr></table></figure></li>
<li><strong>re.purge()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  re.purge()</span><br><span class="line"></span><br><span class="line">* 功能</span><br><span class="line">  - Clear the regular expression cache.</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：re-Pattern-类"><a href="#知识点：re-Pattern-类" class="headerlink" title="知识点：re.Pattern 类"></a>知识点：re.Pattern 类</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 使用 re.Pattern 类创建 pattern 对象，用于表示一个 pattern</span><br><span class="line">  - 也称为正则表达式对象 regular expression object</span><br><span class="line">  - pattern 对象相比普通的 pattern 字符串，复用性更高</span><br></pre></td></tr></table></figure></li>
<li><strong>re.compile()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  re.compile(pattern, flags=0)</span><br><span class="line"></span><br><span class="line">* 功能</span><br><span class="line">  - 创建一个 pattern 对象</span><br><span class="line"></span><br><span class="line">* 参数 pattern</span><br><span class="line">  - 类型为 str</span><br><span class="line">  - 用于指定 pattern</span><br><span class="line"></span><br><span class="line">* 参数 flags</span><br><span class="line">  - 如果要一次指定多个 flag，可以采用 &#x27;|&#x27; 字符进行连接，例如 flags=re.A|re.I|re.M</span><br></pre></td></tr></table></figure></li>
<li><strong>方法</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* 方法</span><br><span class="line">  - pattern 类的方法基本与对应的 re 模块函数相同</span><br><span class="line">  - 普遍两个额外参数，start、stop</span><br><span class="line">  - start 和 stop 用于指定匹配开始和结束的位置</span><br><span class="line">  - 注意，&#x27;^&#x27; 仍然只会匹配 string 的开始位置，不会从 start 的指定位置开始匹配</span><br><span class="line"></span><br><span class="line">* Pattern.search(string[, start[, stop]])</span><br><span class="line">* Pattern.match(string[, start[, stop]])</span><br><span class="line">* Pattern.fullmatch(string[, start[, stop]])</span><br><span class="line">* Pattern.split(string, maxsplit=0)</span><br><span class="line">* Pattern.findall(string[, start[, stop]])</span><br><span class="line">* Pattern.finditer(string[, start[, stop]])</span><br><span class="line">* Pattern.sub(repl, string, count=0)</span><br><span class="line">* Pattern.subn(repl, string, count=0)</span><br></pre></td></tr></table></figure></li>
<li><strong>数据属性</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* Pattern.flags         pattern 编译时指定的旗标</span><br><span class="line"></span><br><span class="line">* Pattern.groups        pattern 中捕捉群的数量</span><br><span class="line"></span><br><span class="line">* Pattern.groupindex    一个类字典型数据，记录了命名的捕捉群的 name 和 index 的对应关系</span><br><span class="line"></span><br><span class="line">* Pattern.pattern       pattern 字符串</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：re-match-类"><a href="#知识点：re-match-类" class="headerlink" title="知识点：re.match 类"></a>知识点：re.match 类</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - match 对象，用于表示对 str 进行正则匹配后的结果</span><br><span class="line">  - match 对象的 boolean 值永远是 true，因为 no-match 时返回 None，因此可以基于此进行条件判断</span><br></pre></td></tr></table></figure></li>
<li><strong>用法</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* match[N]</span><br><span class="line">* match[name]</span><br><span class="line">  - 返回 match 对象中对应的捕捉群的内容</span><br><span class="line">  - N 为 0 表示 match 对应的全部的匹配结果</span><br><span class="line">  - 底层为 match.__getitem__()，match.group() 功能相同，但只支持指定一个捕捉群</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：re-match-方法"><a href="#知识点：re-match-方法" class="headerlink" title="知识点：re.match 方法"></a>知识点：re.match 方法</h3><ol>
<li><strong>match.expand()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  match.expand(template)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 用 match 中的捕捉群的内容对 template 进行替换</span><br><span class="line">  - template 中使用 &#x27;\&#x27; 方式来使用捕捉群，包括命名的捕捉群</span><br><span class="line">  - 注意 template 要注意 python 解释器对 &#x27;\&#x27; 的解析，建议采用 raw string</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">s=<span class="string">&#x27;date: 2001-01-01, time: 12:00:00, message: Nothing&#x27;</span></span><br><span class="line">p=re.<span class="built_in">compile</span>(<span class="string">&#x27;date: (.+?), time: (?P&lt;time&gt;.+?), message: (.+?)$&#x27;</span>)</span><br><span class="line">m=p.match(s)</span><br><span class="line"><span class="built_in">print</span>(m.expand(<span class="string">r&#x27;\1&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(m.expand(<span class="string">r&#x27;\g&lt;time&gt;&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(m.expand(<span class="string">r&#x27;\g&lt;3&gt;&#x27;</span>))</span><br></pre></td></tr></table></figure></li>
<li><strong>match.group()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  match.group()</span><br><span class="line">  match.group(group1, ...)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回 match 中的捕捉群的内容</span><br><span class="line"></span><br><span class="line">* 返回值</span><br><span class="line">  - 指定一个捕捉群，则返回 str</span><br><span class="line">  - 指定多个捕捉群，则返回 tuple，其元素为每个捕捉群的 str</span><br><span class="line"></span><br><span class="line">* 参数 group</span><br><span class="line">  - 默认值 0，表示 match 完全的匹配内容</span><br><span class="line">  - N，对应的捕捉群</span><br><span class="line">  - name，对应的命名的捕捉群</span><br></pre></td></tr></table></figure></li>
<li><strong>match.groups()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  match.groups(default=None)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回一个 tuple，包含 match 中的所有的捕捉群</span><br><span class="line"></span><br><span class="line">* 参数 default</span><br><span class="line">  - 用来指定当捕捉群为 empty string 时的值</span><br></pre></td></tr></table></figure></li>
<li><strong>match.groupdict()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  match.groupdict(default=None)</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回一个字典，以命名的捕捉群的 name 为 key，以值为 value</span><br><span class="line"></span><br><span class="line">* 参数 default</span><br><span class="line">  - 用来指定当捕捉群为 empty string 时的值</span><br></pre></td></tr></table></figure></li>
<li><strong>match.start() 和 match.end()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  match.start([group])</span><br><span class="line">  match.end([group])</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回相应的捕捉群在原始 string 中的 index</span><br><span class="line">  - 如果一个捕捉群的内容为 empty string，则其 match.start(group) 等于 match.end(group)</span><br><span class="line">  - 可以直接通过 match.start(group) 和 match.end(group) 从原始字符串中重新提取捕捉群的内容：m.string[m.start(g):m.end(g)]</span><br><span class="line">  - If group did not contribute to the match, return -1.</span><br></pre></td></tr></table></figure></li>
<li><strong>match.span()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  match.span([group])</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 返回一个 tuple，其内容为 (m.start(group), m.end(group))</span><br><span class="line">  - If group did not contribute to the match, return (-1, -1).</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：re-match-数据属性"><a href="#知识点：re-match-数据属性" class="headerlink" title="知识点：re.match 数据属性"></a>知识点：re.match 数据属性</h3><ol>
<li><strong>match.pos</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* The value of pos which was passed to the search() or match() method of a regex object.</span><br><span class="line"></span><br><span class="line">* This is the index into the string at which the RE engine started looking for a match.</span><br></pre></td></tr></table></figure></li>
<li><strong>match.endpos</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* The value of endpos which was passed to the search() or match() method of a regex object.</span><br><span class="line"></span><br><span class="line">* This is the index into the string beyond which the RE engine will not go.</span><br></pre></td></tr></table></figure></li>
<li><strong>match.lastindex</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 最后一个匹配的捕捉群的索引值</span><br><span class="line"></span><br><span class="line">* 注意不是捕捉群的数量，例如 &#x27;((a)(b))&#x27; 对 &#x27;ab&#x27; 匹配，有三个捕捉群，但 match.lastindex 是 1</span><br></pre></td></tr></table></figure></li>
<li><strong>match.lastgroup</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 最后一个匹配的捕捉群如果是一个命名的捕捉群，则 match.lastgroup 记录为其名字</span><br><span class="line"></span><br><span class="line">* 如果最后一个匹配的捕捉群不是一个命名的捕捉群，则 match.lastgroup 记录为 None</span><br></pre></td></tr></table></figure></li>
<li><strong>match.re</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* match 对象对应的 pattern 对象</span><br><span class="line"></span><br><span class="line">* 如果使用的 string pattern，则记录为 re.complie() 函数及相应的参数</span><br></pre></td></tr></table></figure></li>
<li><strong>match.string</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* match 对象对应的原始字符串</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="知识点：re-模块异常"><a href="#知识点：re-模块异常" class="headerlink" title="知识点：re 模块异常"></a>知识点：re 模块异常</h3><ol>
<li><strong>re.error</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  - exception re.error(msg, pattern=None, pos=None)</span><br><span class="line"></span><br><span class="line">* 介绍</span><br><span class="line">  - 在编译或匹配过程中出现错误时，会抛出此异常</span><br><span class="line">  - 注意，如果没有匹配结果，是不会抛出异常的，只会返回 None</span><br><span class="line"></span><br><span class="line">* 参数 msg</span><br><span class="line">  - The unformatted error message.</span><br><span class="line"></span><br><span class="line">* 参数 pattern</span><br><span class="line">  - The regular expression pattern.</span><br><span class="line"></span><br><span class="line">* 参数 pos</span><br><span class="line">  - The index in pattern where compilation failed (may be None).</span><br><span class="line"></span><br><span class="line">* lineno 属性</span><br><span class="line">  - The line corresponding to pos (may be None).</span><br><span class="line"></span><br><span class="line">* colno 属性</span><br><span class="line">  - The column corresponding to pos (may be None).</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="10-4-jieba-模块"><a href="#10-4-jieba-模块" class="headerlink" title="10.4 jieba 模块"></a>10.4 jieba 模块</h2><hr>
<h3 id="知识点：jieba-模块"><a href="#知识点：jieba-模块" class="headerlink" title="知识点：jieba 模块"></a>知识点：jieba 模块</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* python 中重要的第三方中文分词函数库</span><br></pre></td></tr></table></figure></li>
<li><strong>方法</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">* jieba.cut(s)</span><br><span class="line">  - 精确模式，返回一个可迭代的数据类型</span><br><span class="line"></span><br><span class="line">* jieba.cut(s, cut_all=True)</span><br><span class="line">  - 全模式，输出文本 s 中所有可能单词</span><br><span class="line"></span><br><span class="line">* jieba.cut_for_search(s)</span><br><span class="line">  - 搜索引擎模式，适合搜索引擎建立索引的分词结果</span><br><span class="line"></span><br><span class="line">* jieba.lcut(s)</span><br><span class="line">  - 精确模式，返回一个列表类型</span><br><span class="line"></span><br><span class="line">* jieba.lcut(s, cut_all=True)</span><br><span class="line">  - 全模式，返回一个列表类型</span><br><span class="line"></span><br><span class="line">* jieba.lcut_for_search(s)</span><br><span class="line">  - 搜索引擎模式，返回一个列表类型</span><br><span class="line"></span><br><span class="line">* jieba.add_word(w)</span><br><span class="line">  - 向分词词典中添加新词 w</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h1 id="Chapter11-数学模块"><a href="#Chapter11-数学模块" class="headerlink" title="Chapter11 数学模块"></a>Chapter11 数学模块</h1><hr>
<h2 id="11-1-math-模块"><a href="#11-1-math-模块" class="headerlink" title="11.1 math 模块"></a>11.1 math 模块</h2><hr>
<h2 id="11-2-deminal-模块"><a href="#11-2-deminal-模块" class="headerlink" title="11.2 deminal 模块"></a>11.2 deminal 模块</h2><hr>
<h2 id="11-3-fractions-模块"><a href="#11-3-fractions-模块" class="headerlink" title="11.3 fractions 模块"></a>11.3 fractions 模块</h2><hr>
<h2 id="11-4-random-模块"><a href="#11-4-random-模块" class="headerlink" title="11.4 random 模块"></a>11.4 random 模块</h2><hr>
<h2 id="11-5-statistics-模块"><a href="#11-5-statistics-模块" class="headerlink" title="11.5 statistics 模块"></a>11.5 statistics 模块</h2><hr>
<h1 id="Chapter12-数据分析模块"><a href="#Chapter12-数据分析模块" class="headerlink" title="Chapter12 数据分析模块"></a>Chapter12 数据分析模块</h1><hr>
<h2 id="12-1-数据分析介绍"><a href="#12-1-数据分析介绍" class="headerlink" title="12.1 数据分析介绍"></a>12.1 数据分析介绍</h2><hr>
<h2 id="12-2-numpy-模块"><a href="#12-2-numpy-模块" class="headerlink" title="12.2 numpy 模块"></a>12.2 numpy 模块</h2><hr>
<h2 id="12-3-pandas-模块"><a href="#12-3-pandas-模块" class="headerlink" title="12.3 pandas 模块"></a>12.3 pandas 模块</h2><hr>
<h1 id="Chapter13-并发模块"><a href="#Chapter13-并发模块" class="headerlink" title="Chapter13 并发模块"></a>Chapter13 并发模块</h1><hr>
<h1 id="Chapter14-网络模块"><a href="#Chapter14-网络模块" class="headerlink" title="Chapter14 网络模块"></a>Chapter14 网络模块</h1><hr>
<h2 id="14-1-urllib-模块"><a href="#14-1-urllib-模块" class="headerlink" title="14.1 urllib 模块"></a>14.1 urllib 模块</h2><hr>
<h2 id="14-1-urllib-模块-1"><a href="#14-1-urllib-模块-1" class="headerlink" title="14.1 urllib 模块"></a>14.1 urllib 模块</h2><hr>
<h1 id="Chapter15-测试模块"><a href="#Chapter15-测试模块" class="headerlink" title="Chapter15 测试模块"></a>Chapter15 测试模块</h1><hr>
<h2 id="15-2-unittest-模块"><a href="#15-2-unittest-模块" class="headerlink" title="15.2 unittest 模块"></a>15.2 unittest 模块</h2><h1 id="x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-2"><a href="#x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-2" class="headerlink" title="&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;"></a>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</h1><h1 id="第二部分-PythonLibrary"><a href="#第二部分-PythonLibrary" class="headerlink" title="第二部分 PythonLibrary"></a>第二部分 PythonLibrary</h1><h1 id="x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-3"><a href="#x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-x3D-3" class="headerlink" title="&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;"></a>&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;</h1><p><a href="#Chapter19-%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86-Internet-Data-Handling"><strong>Chapter19 Chapter19 网络数据处理 Internet Data Handling</strong></a></p>
<ul>
<li><a href="#19-2-json-%E6%A8%A1%E5%9D%97">19.2 json 模块</a></li>
</ul>
<hr>
<h1 id="Chapter19-网络数据处理-Internet-Data-Handling"><a href="#Chapter19-网络数据处理-Internet-Data-Handling" class="headerlink" title="Chapter19 网络数据处理 Internet Data Handling"></a>Chapter19 网络数据处理 Internet Data Handling</h1><hr>
<h2 id="19-2-json-模块"><a href="#19-2-json-模块" class="headerlink" title="19.2 json 模块"></a>19.2 json 模块</h2><hr>
<h3 id="知识点：json-模块介绍"><a href="#知识点：json-模块介绍" class="headerlink" title="知识点：json 模块介绍"></a>知识点：json 模块介绍</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 序列化 serializing</span><br><span class="line">  - 将 python 的数据层次体系 data hierarchies 转化为合适的字符串表现形式 string representations</span><br><span class="line">  - 例如，将 python 对象转换为符合 json 格式的字符串</span><br><span class="line"></span><br><span class="line">* 反序列化 deserializing</span><br><span class="line">  - 将字符串表现形式转换为 python 的数据层次体系，此过程为反序列化</span><br><span class="line">  - 例如，读取 json 文件，将字符串按照 json 格式识别为对象</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：json-dumps-函数"><a href="#知识点：json-dumps-函数" class="headerlink" title="知识点：json.dumps 函数"></a>知识点：json.dumps 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">* 作用  </span><br><span class="line">  - 进行序列化</span><br><span class="line">  - json.dumps，对 obj 生成 json 字符串，返回值类型为 str</span><br><span class="line">  - json.dump，对 obj 生成 json 字符串，写入到 fp 文件中</span><br><span class="line"></span><br><span class="line">* 注意</span><br><span class="line">  1) JSON 中要求 key 必须是 string 类型，故无论 obj 中 key 是什么类型，都会被转化为 str 型再进行序列化</span><br><span class="line">  2) JSON 中只允许五种基本类型的数据作为 key，故若 obj 是一个 dict 并且 key 为其他类型(如 set)，则可能异常，见 skipkeys 参数</span><br><span class="line"></span><br><span class="line">* json.dumps 函数格式</span><br><span class="line">  json.dumps(</span><br><span class="line">    obj,</span><br><span class="line">    *,</span><br><span class="line">    skipkeys=False,</span><br><span class="line">    ensure_ascii=True,</span><br><span class="line">    check_circular=True,</span><br><span class="line">    allow_nan=True,</span><br><span class="line">    cls=None,</span><br><span class="line">    indent=None,</span><br><span class="line">    separators=None,</span><br><span class="line">    default=None,</span><br><span class="line">    sort_keys=False,</span><br><span class="line">    **kw</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">* json.dump 函数格式</span><br><span class="line">  json.dump(</span><br><span class="line">  obj,</span><br><span class="line">  fp,</span><br><span class="line">  *,</span><br><span class="line">  indent=None,</span><br><span class="line">  sort_keys=False,</span><br><span class="line">  separators=None,</span><br><span class="line">  skipkeys=False,</span><br><span class="line">  ensure_ascii=True,</span><br><span class="line">  check_circular=True,</span><br><span class="line">  allow_nan=True,</span><br><span class="line">  default=None,</span><br><span class="line">  cls=None,</span><br><span class="line">  **kw</span><br><span class="line">  )</span><br></pre></td></tr></table></figure></li>
<li><strong>参数</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">* fq</span><br><span class="line">  - 一个 io 对象，需要支持 write() 方法</span><br><span class="line"></span><br><span class="line">* indent</span><br><span class="line">  - integer 或 string，用来指导 pretty print 和缩进</span><br><span class="line">  - 0、负整数、空字符串 &quot;&quot;，表示不缩进，只添加 newline</span><br><span class="line">  - string 可以使用 &quot;\t&quot;</span><br><span class="line">  - None（默认）表示不进行 pretty print</span><br><span class="line"></span><br><span class="line">* sort_keys</span><br><span class="line">  - False（默认）</span><br><span class="line">  - True，在进行序列化时，对 key 进行排序</span><br><span class="line"></span><br><span class="line">* separators</span><br><span class="line">  - 指定一个 (item_separator, key_separator) 的元组</span><br><span class="line">  - 默认值 (&#x27;, &#x27;, &#x27;: &#x27;)</span><br><span class="line">  - 常用的一种方式，(&#x27;,&#x27;, &#x27;:&#x27;)</span><br><span class="line"></span><br><span class="line">* skipkeys</span><br><span class="line">  - False（默认），如果 obj 的 key 不是 json 的基本类型，即 str、int、float、bool、None，则抛出异常</span><br><span class="line">  - True，如果 obt 的 key 不是 json 的基本类型，则不抛出异常</span><br><span class="line"></span><br><span class="line">* ensure_ascii</span><br><span class="line">  - True（默认），如果 obj 中的 str 中，包含 non-ascii 字符，则会对其进行跳脱，如跳脱为 &#x27;\u&#x27; 格式</span><br><span class="line">  - False，obj 中的 str 中的 non-ascii 字符会原样保留</span><br><span class="line"></span><br><span class="line">* check_circular</span><br><span class="line">  - True（默认），对 obj 检查还回</span><br><span class="line"></span><br><span class="line">* allow_nan</span><br><span class="line">  - True（默认），对于 float 类型的 &quot;nan&quot;、&quot;inf&quot;、&quot;-inf&quot;，使用 JavaScript 对应的 &quot;NaN&quot;、&quot;Infinity&quot;、&quot;-Infinity&quot; 来标识</span><br><span class="line">  - False，则 float 类型的 &quot;nan&quot;、&quot;inf&quot;、&quot;-inf&quot; 会导致 ValueError</span><br><span class="line"></span><br><span class="line">* default</span><br><span class="line">  - 指定一个 function</span><br><span class="line">  - 当 obj 无法被序列化时，调用此函数</span><br><span class="line"></span><br><span class="line">* cls</span><br><span class="line">  - 指定一个 JSONEncoder 类</span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(json.dumps(&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">100</span>, <span class="string">&#x27;b&#x27;</span>:<span class="number">200</span>&#125;))</span><br><span class="line">&#123;<span class="string">&quot;a&quot;</span>: <span class="number">100</span>, <span class="string">&quot;b&quot;</span>: <span class="number">200</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f=<span class="built_in">open</span>(<span class="string">&#x27;1.json&#x27;</span>,<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>json.dump(&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">100</span>, <span class="string">&#x27;b&#x27;</span>:<span class="number">200</span>&#125;),f ,indent=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.close()</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：json-loads-函数"><a href="#知识点：json-loads-函数" class="headerlink" title="知识点：json.loads 函数"></a>知识点：json.loads 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 进行反序列化</span><br><span class="line">  - json.loads，从字符串 s 中读取 json 字符串，并解析为 python 对象</span><br><span class="line">  - json.load，从文件 fp 中读取 json 字符串，并解析为 python 对象</span><br><span class="line"></span><br><span class="line">* 注意</span><br><span class="line">  1) 由于 JSON 的 key 必须是 string，故若字典 x 的某个 key 不是 str 型，则 json.loads(json.dumps(x)) != x</span><br><span class="line"></span><br><span class="line">* json.loads 函数格式</span><br><span class="line">  json.loads(</span><br><span class="line">    s, </span><br><span class="line">    *, </span><br><span class="line">    cls=None, </span><br><span class="line">    object_hook=None, </span><br><span class="line">    parse_float=None, </span><br><span class="line">    parse_int=None, </span><br><span class="line">    parse_constant=None, </span><br><span class="line">    object_pairs_hook=None, </span><br><span class="line">    **kw</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">* json.load 函数格式</span><br><span class="line">  json.load(</span><br><span class="line">    fp, </span><br><span class="line">    *, </span><br><span class="line">    parse_int=None, </span><br><span class="line">    parse_float=None, </span><br><span class="line">    parse_constant=None, </span><br><span class="line">    object_pairs_hook=None, </span><br><span class="line">    object_hook=None, </span><br><span class="line">    cls=None, </span><br><span class="line">    **kw</span><br><span class="line">    )</span><br></pre></td></tr></table></figure></li>
<li><strong>参数</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">* s</span><br><span class="line">  - 一个 json 字符串</span><br><span class="line">  - 可以是 str 型，也可以是 bytes、bytearray 型</span><br><span class="line"></span><br><span class="line">* fp</span><br><span class="line">  - 一个 io 对象，需要支持 read() 方法</span><br><span class="line">  - 可以是 text 文件，也可以是 binary 文件</span><br><span class="line"></span><br><span class="line">* parse_int</span><br><span class="line">  - 指定一个函数对象，用来指定对 json 中表示 int 型数据的字符串的解析方式</span><br><span class="line">  - 默认为 int(json_int_str)</span><br><span class="line">  - 例如，可以改为 decimal.Decimal</span><br><span class="line"></span><br><span class="line">* parse_float</span><br><span class="line">  - 指定一个函数对象，用来指定对 json 中表示 float 型数据的字符串的解析方式</span><br><span class="line">  - 默认为 float(json_float_str)</span><br><span class="line"></span><br><span class="line">* parse_constant</span><br><span class="line">  - 指定一个函数对象，用来指定对 json 中 &quot;-Infinity&quot;、&quot;Infinity&quot;、&quot;NaN&quot; 三个字符串的解析操作</span><br><span class="line">  - 注意，不会对 &quot;null&quot;、&quot;true&quot;、&quot;false&quot; 三个字符串生效</span><br><span class="line"></span><br><span class="line">* object_pairs_hook</span><br><span class="line">  - 指定一个函数对象</span><br><span class="line">  - 在序列化完成后，以结果对象中的 K-V 作为关键字参数，调用此函数，并以此函数的结果作为 json.load/json.loads 的返回值</span><br><span class="line">  - 优先级高于 object_hook</span><br><span class="line"></span><br><span class="line">* object_hook</span><br><span class="line">  - 指定一个函数对象</span><br><span class="line">  - 在序列化完成后，以结果对象作为参数，调用此函数，并以此函数的结果作为 json.load/json.loads 的返回值</span><br><span class="line"></span><br><span class="line">* cls</span><br><span class="line">  - 指定一个 JSONDecoder 类</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：json-tool-模块"><a href="#知识点：json-tool-模块" class="headerlink" title="知识点：json.tool 模块"></a>知识点：json.tool 模块</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 作用</span><br><span class="line">  - python 提供的工具，直接在命令行上对 json 字符串进行验证、pretty print</span><br><span class="line">  - Key 需要使用双引号</span><br><span class="line">  </span><br><span class="line">* 格式</span><br><span class="line">  python -m json.tool [OPTIONS] [InFile] [OutFile]</span><br><span class="line"></span><br><span class="line">* 范例</span><br><span class="line">  echo &#x27;&#123;&quot;json&quot;: &quot;obj&quot;&#125;&#x27; | python -m json.tool</span><br></pre></td></tr></table></figure></li>
<li><strong>命令行选项</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* infile</span><br><span class="line">  - 指定 json 字符串所在的文件</span><br><span class="line">  - 省略则表示 sys.stdin</span><br><span class="line"></span><br><span class="line">* outfile</span><br><span class="line">  - 将结果输出到文件</span><br><span class="line">  - 省略则表示 sys.stdout</span><br><span class="line"></span><br><span class="line">* --sort-keys</span><br><span class="line"></span><br><span class="line">* --no-ensure-ascii</span><br><span class="line"></span><br><span class="line">* --json-lines</span><br><span class="line">  - Parse every input line as separate JSON object.</span><br><span class="line"></span><br><span class="line">* --indent, --tab, --no-indent, --compact</span><br><span class="line"></span><br><span class="line">* -h, --help</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：json-JSONEncoder-类"><a href="#知识点：json-JSONEncoder-类" class="headerlink" title="知识点：json.JSONEncoder 类"></a>知识点：json.JSONEncoder 类</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - json 模块提供的 Encoder 基类，也是 json.dumps/json.dump 默认使用的序列化解析器</span><br><span class="line">  - 用户可以基于 json.JSONEncoder 派生新类，来个性化自己的序列化要求</span><br></pre></td></tr></table></figure></li>
<li><strong>json.JSONEncoder 类</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* json.JSONEncoder 类格式</span><br><span class="line">  class json.JSONEncoder(</span><br><span class="line">    *, </span><br><span class="line">    skipkeys=False, </span><br><span class="line">    ensure_ascii=True, </span><br><span class="line">    check_circular=True, </span><br><span class="line">    allow_nan=True, </span><br><span class="line">    sort_keys=False, </span><br><span class="line">    indent=None, </span><br><span class="line">    separators=None, </span><br><span class="line">    default=None</span><br><span class="line">    )</span><br></pre></td></tr></table></figure></li>
<li><strong>json.JSONEncoder 方法</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* json.JSONEncoder.default(obj)</span><br><span class="line"></span><br><span class="line">* json.JSONEncoder.encode(obj)</span><br><span class="line">  - 返回 obj 的 Json 字符串</span><br><span class="line"></span><br><span class="line">* json.JSONEncoder.iterencode(obj)</span><br><span class="line">  - Encode the given object, *o*, and yield each string representation as available.</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：json-JSONDecoder-类"><a href="#知识点：json-JSONDecoder-类" class="headerlink" title="知识点：json.JSONDecoder 类"></a>知识点：json.JSONDecoder 类</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - json 模块提供的 Decoder 基类，也是 json.loads/json.load 默认使用的反序列化解析器</span><br><span class="line">  - 用户可以基于 json.JSONDecoder 派生新类，来个性化自己的反序列化要求</span><br></pre></td></tr></table></figure></li>
<li><strong>json.JSONDecoder 类</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* json.JSONDecoder 类格式</span><br><span class="line">  class json.JSONDecoder(</span><br><span class="line">    *, </span><br><span class="line">    object_hook=None, </span><br><span class="line">    parse_float=None, </span><br><span class="line">    parse_int=None, </span><br><span class="line">    parse_constant=None, </span><br><span class="line">    strict=True, </span><br><span class="line">    object_pairs_hook=None</span><br><span class="line">    )</span><br></pre></td></tr></table></figure></li>
<li><strong>json.JSONDecoder 方法</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* json.JSONDecoder.decode(s: str)</span><br><span class="line">  - 对 s 进行反序列化</span><br><span class="line">  - 返回值为 s 所表示的对象</span><br><span class="line"></span><br><span class="line">* json.JSONDecoder.raw_decode(s: str)</span><br><span class="line">  - s 以 Json 字符串开头</span><br><span class="line">  - 对 s 的开头部分进行反序列化</span><br><span class="line">  - 返回值为一个二元组，元素分别为 Json 字符串所代表的对象、Json 字符串在 s 中的结束位置</span><br></pre></td></tr></table></figure></li>
</ol>

    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2000/01/01/Blog61-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" rel="prev" title="Blog61-编程语言">
                  <i class="fa fa-chevron-left"></i> Blog61-编程语言
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2000/01/01/Blog63-java/" rel="next" title="Blog63-java">
                  Blog63-java <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2000 – 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  





  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"per_page":true,"tags":"none","cdn":"//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
