<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css" integrity="sha256-jTIdiMuX/e3DGJUGwl3pKSxuc6YOuqtJYkM0bGQESA4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.10.1","exturl":false,"sidebar":{"position":"left","width":500,"display":"always","padding":1,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="python">
<meta property="og:type" content="article">
<meta property="og:title" content="Blog62-python">
<meta property="og:url" content="http://example.com/2000/01/01/Blog62-python.new/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="python">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="1999-12-31T16:01:02.000Z">
<meta property="article:modified_time" content="2026-01-03T14:04:52.326Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/2000/01/01/Blog62-python.new/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://example.com/2000/01/01/Blog62-python.new/","path":"2000/01/01/Blog62-python.new/","title":"Blog62-python"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Blog62-python | Hexo</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Hexo</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Blog62-python"><span class="nav-text">Blog62-python</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#0-1-%E5%B8%AE%E5%8A%A9"><span class="nav-text">0.1 帮助</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#0-2-%E6%9C%AA%E6%95%B4%E7%90%86"><span class="nav-text">0.2 未整理</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter01-python-%E4%BB%8B%E7%BB%8D"><span class="nav-text">Chapter01 python 介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-python-%E4%BB%8B%E7%BB%8D"><span class="nav-text">1.1 python 介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：python 介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E7%89%B9%E7%82%B9"><span class="nav-text">知识点：python 特点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC%E5%BB%BA%E8%AE%AE"><span class="nav-text">知识点：python 代码风格建议</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-python-%E8%A7%A3%E9%87%8A%E5%99%A8"><span class="nav-text">1.2 python 解释器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E8%A7%A3%E9%87%8A%E5%99%A8%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：python 解释器介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E6%9F%A5%E7%9C%8B-python-%E4%B8%AD%E7%9A%84%E5%AD%97%E8%8A%82%E7%A0%81"><span class="nav-text">知识点：查看 python 中的字节码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E8%A7%A3%E9%87%8A%E5%99%A8%E7%9A%84%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B"><span class="nav-text">知识点：python 解释器的启动流程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E8%A7%A3%E9%87%8A%E5%99%A8%E5%AF%B9%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%BF%90%E8%A1%8C"><span class="nav-text">知识点：python 解释器对程序的运行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9AGIL"><span class="nav-text">知识点：GIL</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-python-%E5%AE%89%E8%A3%85"><span class="nav-text">1.3 python 安装</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E5%AE%89%E8%A3%85%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：python 安装介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E7%BC%96%E8%AF%91%E5%AE%89%E8%A3%85-python"><span class="nav-text">知识点：编译安装 python</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-python-%E5%91%BD%E4%BB%A4%E8%A1%8C"><span class="nav-text">1.4 python 命令行</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E5%91%BD%E4%BB%A4%E8%A1%8C"><span class="nav-text">知识点：python 命令行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-m"><span class="nav-text">知识点：python -m</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-c"><span class="nav-text">知识点：python -c</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-i"><span class="nav-text">知识点：python -i</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E8%84%9A%E6%9C%AC%E5%8F%82%E6%95%B0%E4%B8%8E-sys-argv"><span class="nav-text">知识点：python 脚本参数与 sys.argv</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-5-python-%E4%BA%A4%E4%BA%92%E6%A8%A1%E5%BC%8F"><span class="nav-text">1.5 python 交互模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E4%BA%A4%E4%BA%92%E6%A8%A1%E5%BC%8F%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：python 交互模式介绍</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-6-vscode-%E5%BC%80%E5%8F%91-python"><span class="nav-text">1.6 vscode 开发 python</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter02-%E5%86%85%E7%BD%AE%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-text">Chapter02 内置数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-%E5%86%85%E7%BD%AE%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%BB%8B%E7%BB%8D"><span class="nav-text">2.1 内置数据类型介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%86%85%E7%BD%AE%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：内置数据类型介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E7%9C%9F%E5%80%BC%E6%B5%8B%E8%AF%95"><span class="nav-text">知识点：真值测试</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%86%85%E7%BD%AE%E5%B8%B8%E9%87%8F"><span class="nav-text">知识点：内置常量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-%E6%95%B0%E5%80%BC%E5%9E%8B"><span class="nav-text">2.2 数值型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E6%95%B0%E5%80%BC%E5%9E%8B%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：数值型介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aint-%E5%9E%8B"><span class="nav-text">知识点：int 型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Abool-%E5%9E%8B"><span class="nav-text">知识点：bool 型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Afloat-%E5%9E%8B"><span class="nav-text">知识点：float 型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Acomplex-%E5%9E%8B"><span class="nav-text">知识点：complex 型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3-%E5%BA%8F%E5%88%97%E5%9E%8B"><span class="nav-text">2.3 序列型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%8F%AF%E5%8F%98%E7%B1%BB%E5%9E%8B%E3%80%81%E4%B8%8D%E5%8F%AF%E5%8F%98%E7%B1%BB%E5%9E%8B%E3%80%81%E5%8E%9F%E5%9C%B0%E6%93%8D%E4%BD%9C"><span class="nav-text">知识点：可变类型、不可变类型、原地操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AE%B9%E5%99%A8%E7%B1%BB%E5%9E%8B"><span class="nav-text">知识点：容器类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%BA%8F%E5%88%97-%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：序列-介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%BA%8F%E5%88%97-%E7%B4%A2%E5%BC%95"><span class="nav-text">知识点：序列-索引</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%BA%8F%E5%88%97-%E5%88%87%E7%89%87"><span class="nav-text">知识点：序列-切片</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%BA%8F%E5%88%97-%E5%88%87%E7%89%87%E8%B5%8B%E5%80%BC"><span class="nav-text">知识点：序列-切片赋值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%BA%8F%E5%88%97-%E5%BA%8F%E5%88%97%E6%8B%BC%E6%8E%A5"><span class="nav-text">知识点：序列-序列拼接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%BA%8F%E5%88%97-%E5%BA%8F%E5%88%97%E5%80%8D%E4%B9%98"><span class="nav-text">知识点：序列-序列倍乘</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%BA%8F%E5%88%97-%E5%BA%8F%E5%88%97%E6%AF%94%E8%BE%83"><span class="nav-text">知识点：序列-序列比较</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%BA%8F%E5%88%97-%E6%88%90%E5%91%98%E6%A3%80%E6%9F%A5"><span class="nav-text">知识点：序列-成员检查</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%BA%8F%E5%88%97-%E5%BA%8F%E5%88%97%E8%A7%A3%E5%8C%85"><span class="nav-text">知识点：序列-序列解包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%BA%8F%E5%88%97-sequence-count"><span class="nav-text">知识点：序列-sequence.count()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%BA%8F%E5%88%97-sequence-index"><span class="nav-text">知识点：序列-sequence.index()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Alist-%E5%9E%8B-%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：list 型-介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Alist-%E5%9E%8B-list-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：list 型-list() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Alist-%E5%9E%8B-%E5%88%97%E8%A1%A8%E6%8E%A8%E5%AF%BC%E5%BC%8F"><span class="nav-text">知识点：list 型-列表推导式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Alist-%E5%9E%8B-%E9%80%9A%E7%94%A8%E5%BA%8F%E5%88%97%E6%93%8D%E4%BD%9C"><span class="nav-text">知识点：list 型-通用序列操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Alist-%E5%9E%8B-%E5%8F%AF%E5%8F%98%E5%BA%8F%E5%88%97%E6%93%8D%E4%BD%9C"><span class="nav-text">知识点：list 型-可变序列操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Alist-%E5%9E%8B-%E5%86%85%E7%BD%AE%E6%96%B9%E6%B3%95"><span class="nav-text">知识点：list 型-内置方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Atuple-%E5%9E%8B"><span class="nav-text">知识点：tuple 型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Arange-%E5%9E%8B"><span class="nav-text">知识点：range 型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4-str-%E5%9E%8B"><span class="nav-text">2.4 str 型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Astr-%E5%9E%8B-%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：str 型-介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Astr-%E5%9E%8B-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%AD%97%E9%9D%A2%E9%87%8F"><span class="nav-text">知识点：str 型-字符串字面量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Astr-%E5%9E%8B-%E5%86%85%E7%BD%AE%E6%96%B9%E6%B3%95-%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：str 型-内置方法-介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Astr-%E5%9E%8B-%E5%86%85%E7%BD%AE%E6%96%B9%E6%B3%95-%E5%A4%A7%E5%B0%8F%E5%86%99%E5%A4%84%E7%90%86"><span class="nav-text">知识点：str 型-内置方法-大小写处理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Astr-%E5%9E%8B-%E5%86%85%E7%BD%AE%E6%96%B9%E6%B3%95-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%88%A4%E5%AE%9A"><span class="nav-text">知识点：str 型-内置方法-字符串判定</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Astr-%E5%9E%8B-%E5%86%85%E7%BD%AE%E6%96%B9%E6%B3%95-%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%9B%BF%E6%8D%A2"><span class="nav-text">知识点：str 型-内置方法-查找与替换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Astr-%E5%9E%8B-%E5%86%85%E7%BD%AE%E6%96%B9%E6%B3%95-%E6%8B%86%E5%88%86%E4%B8%8E%E8%BF%9E%E6%8E%A5"><span class="nav-text">知识点：str 型-内置方法-拆分与连接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Astr-%E5%9E%8B-%E5%86%85%E7%BD%AE%E6%96%B9%E6%B3%95-%E5%AF%B9%E9%BD%90%E4%B8%8E%E8%A3%81%E5%89%AA"><span class="nav-text">知识点：str 型-内置方法-对齐与裁剪</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Astr-%E5%9E%8B-%E5%86%85%E7%BD%AE%E6%96%B9%E6%B3%95-%E7%BF%BB%E8%AF%91%E4%B8%8E%E7%BC%96%E7%A0%81"><span class="nav-text">知识点：str 型-内置方法-翻译与编码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E8%BD%AC%E4%B9%89%E5%BA%8F%E5%88%97"><span class="nav-text">知识点：转义序列</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%BC%E5%BC%8F%E5%8C%96-%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：字符串格式化-介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%BC%E5%BC%8F%E5%8C%96-printf-%E9%A3%8E%E6%A0%BC"><span class="nav-text">知识点：字符串格式化-printf 风格</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%BC%E5%BC%8F%E5%8C%96-format-%E9%A3%8E%E6%A0%BC"><span class="nav-text">知识点：字符串格式化-format 风格</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%BC%E5%BC%8F%E5%8C%96-format-%E9%A3%8E%E6%A0%BC-%E6%A0%BC%E5%BC%8F%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-text">知识点：字符串格式化-format 风格-格式字符串</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%BC%E5%BC%8F%E5%8C%96-format-%E9%A3%8E%E6%A0%BC-%E6%A0%BC%E5%BC%8F%E8%A7%84%E6%A0%BC%E5%BE%AE%E8%AF%AD%E8%A8%80"><span class="nav-text">知识点：字符串格式化-format 风格-格式规格微语言</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8C%87%E5%AE%9A%E9%A2%9C%E8%89%B2-%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：字符串指定颜色-介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8C%87%E5%AE%9A%E9%A2%9C%E8%89%B2-16-%E8%89%B2%E6%96%B9%E5%BC%8F"><span class="nav-text">知识点：字符串指定颜色-16 色方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8C%87%E5%AE%9A%E9%A2%9C%E8%89%B2-256-%E8%89%B2%E6%96%B9%E5%BC%8F"><span class="nav-text">知识点：字符串指定颜色-256 色方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8C%87%E5%AE%9A%E9%A2%9C%E8%89%B2-RGB-%E6%96%B9%E5%BC%8F"><span class="nav-text">知识点：字符串指定颜色-RGB 方式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-5-dict-%E5%9E%8B"><span class="nav-text">2.5 dict 型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AD%97%E5%85%B8%E7%B1%BB%E5%9E%8B"><span class="nav-text">知识点：字典类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AD%97%E5%85%B8%E8%A7%86%E5%9B%BE%E7%B1%BB%E5%9E%8B"><span class="nav-text">知识点：字典视图类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%AD%97%E5%85%B8%E6%93%8D%E4%BD%9C"><span class="nav-text">知识点：字典操作</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-6-set-%E5%9E%8B"><span class="nav-text">2.6 set 型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%8F%AF%E5%93%88%E5%B8%8C%E5%AF%B9%E8%B1%A1"><span class="nav-text">知识点：可哈希对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Ahash-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：hash() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B"><span class="nav-text">知识点：集合类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C"><span class="nav-text">知识点：集合操作</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter03-%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="nav-text">Chapter03 内置函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E4%BB%8B%E7%BB%8D"><span class="nav-text">3.1 内置函数介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：内置函数介绍</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-%E6%95%B0%E5%AD%A6%E5%87%BD%E6%95%B0"><span class="nav-text">3.2 数学函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aabs-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：abs() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apow-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：pow() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Around-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：round() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Adivmod-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：divmod() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Abin-%E3%80%81oct-%E3%80%81hex-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：bin()、oct()、hex() 函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0"><span class="nav-text">3.3 字符串函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Astr-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：str() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Arepr-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：repr() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aascii-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：ascii() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Achr-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：chr() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aord-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：ord() 函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-%E5%8F%AF%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1%E5%87%BD%E6%95%B0"><span class="nav-text">3.4 可迭代对象函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Alen-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：len() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Asum-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：sum() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Amax-%E3%80%81min-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：max()、min() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aany-%E3%80%81all-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：any()、all() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Asorted-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：sorted() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aenumerate-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：enumerate() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Azip-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：zip() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Amap-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：map() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aiter-%E3%80%81reversed-%E3%80%81next-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：iter()、reversed()、next() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Afilter-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：filter() 函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-5-%E8%BE%93%E5%85%A5%E8%BE%93%E5%85%A5%E5%87%BD%E6%95%B0"><span class="nav-text">3.5 输入输入函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aprint-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：print() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Ainput-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：input() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aopen-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：open() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aformat-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：format() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aexec-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：exec() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aeval-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：eval() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Acompile-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：compile() 函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-6-%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5%E5%87%BD%E6%95%B0"><span class="nav-text">3.6 类型检查函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Atype-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：type() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aisinstance-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：isinstance() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aissubclass-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：issubclass() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Acallable-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：callable() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aid-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：id() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Ahash-%E5%87%BD%E6%95%B0-1"><span class="nav-text">知识点：hash() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Agetattr-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：getattr() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Asetattr-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：setattr() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Adelattr-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：delattr() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Ahasattr-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：hasattr() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Avars-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：vars() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Adir-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：dir() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aglobals-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：globals() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Alocals-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：locals() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Asuper-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：super() 函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-7-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%87%BD%E6%95%B0"><span class="nav-text">3.7 命名空间函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aglobals-%E3%80%81locals-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：globals()、locals() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Adir-%E5%87%BD%E6%95%B0-1"><span class="nav-text">知识点：dir() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Avars-%E5%87%BD%E6%95%B0-1"><span class="nav-text">知识点：vars() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aid-%E5%87%BD%E6%95%B0-1"><span class="nav-text">知识点：id() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Ahelp-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：help() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aimport-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：import() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Amemoryview-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：memoryview() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Abreakppoint-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：breakppoint() 函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-8-%E5%8F%8D%E5%B0%84%E5%87%BD%E6%95%B0"><span class="nav-text">3.8 反射函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Ahelp-%E5%87%BD%E6%95%B0-1"><span class="nav-text">知识点：help() 函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A-%E5%87%BD%E6%95%B0"><span class="nav-text">知识点：_ 函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-9-%E8%A3%85%E9%A5%B0%E5%99%A8%E5%87%BD%E6%95%B0"><span class="nav-text">3.9 装饰器函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-10-%E7%A8%8B%E5%BA%8F%E6%8E%A7%E5%88%B6%E5%87%BD%E6%95%B0"><span class="nav-text">3.10 程序控制函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-11-%E5%85%B6%E4%BB%96%E5%87%BD%E6%95%B0"><span class="nav-text">3.11 其他函数</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter04-python-%E8%AF%AD%E6%B3%95"><span class="nav-text">Chapter04 python 语法</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#4-1-python-%E8%AF%AD%E6%B3%95%E4%BB%8B%E7%BB%8D"><span class="nav-text">4.1 python 语法介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E8%AF%AD%E6%B3%95%E4%BD%93%E7%B3%BB%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：python 语法体系介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-token-%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：python token 介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-text">知识点：python 关键字</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E6%A0%87%E8%AF%86%E7%AC%A6"><span class="nav-text">知识点：python 标识符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-text">知识点：python 运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E5%88%86%E9%9A%94%E7%AC%A6"><span class="nav-text">知识点：python 分隔符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E8%A1%8C%E7%BB%93%E6%9E%84%E4%B8%8E%E8%A1%8C%E6%8B%BC%E6%8E%A5"><span class="nav-text">知识点：python 行结构与行拼接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E7%A9%BA%E8%A1%8C"><span class="nav-text">知识点：python 空行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E7%BC%A9%E8%BF%9B"><span class="nav-text">知识点：python 缩进</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E6%B3%A8%E9%87%8A"><span class="nav-text">知识点：python 注释</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E7%BC%96%E7%A0%81%E5%A3%B0%E6%98%8E"><span class="nav-text">知识点：python 编码声明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E5%AD%97%E9%9D%A2%E9%87%8F-%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：python 字面量-介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E5%AD%97%E9%9D%A2%E9%87%8F-%E6%95%B0%E5%80%BC%E5%AD%97%E9%9D%A2%E9%87%8F"><span class="nav-text">知识点：python 字面量-数值字面量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E5%AD%97%E9%9D%A2%E9%87%8F-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%AD%97%E9%9D%A2%E9%87%8F"><span class="nav-text">知识点：python 字面量-字符串字面量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E5%AD%97%E9%9D%A2%E9%87%8F-%E5%85%B6%E4%BB%96%E5%AD%97%E9%9D%A2%E9%87%8F"><span class="nav-text">知识点：python 字面量-其他字面量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-2-python-%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">4.2 python 表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：表达式介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8E%9F%E5%AD%90%E5%92%8C%E5%8E%9F%E5%9E%8B"><span class="nav-text">知识点：表达式原子和原型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E8%A1%A8%E8%BE%BE%E5%BC%8F-primary"><span class="nav-text">知识点：表达式 primary</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%8F%AF%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1%E8%A7%A3%E5%8C%85"><span class="nav-text">知识点：可迭代对象解包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">知识点：算术运算表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E4%BD%8D%E8%BF%90%E7%AE%97%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">知识点：位运算表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%80%BC%E6%AF%94%E8%BE%83%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">知识点：值比较表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E8%BA%AB%E4%BB%BD%E6%AF%94%E8%BE%83%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">知识点：身份比较表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E6%88%90%E5%91%98%E6%A3%80%E6%B5%8B%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">知识点：成员检测表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">知识点：逻辑运算表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">知识点：条件表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E7%9F%A9%E9%98%B5%E8%BF%90%E7%AE%97%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">知识点：矩阵运算表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Alambda-%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">知识点：lambda 表达式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E6%B5%B7%E8%B1%A1%E8%BF%90%E7%AE%97%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">知识点：海象运算表达式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3-python-%E8%AF%AD%E5%8F%A5"><span class="nav-text">4.3 python 语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E8%AF%AD%E5%8F%A5%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：python 语句介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apass-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：pass 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Adel-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：del 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Aif-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：if 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Awhile-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：while 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Afor-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：for 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Abreak-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：break 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Acontinue-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：continue 语句</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-4-python-%E8%B5%8B%E5%80%BC%E8%AF%AD%E5%8F%A5"><span class="nav-text">4.4 python 赋值语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E8%B5%8B%E5%80%BC%E8%AF%AD%E5%8F%A5%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：python 赋值语句介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E6%99%AE%E9%80%9A%E8%B5%8B%E5%80%BC"><span class="nav-text">知识点：普通赋值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%BA%8F%E5%88%97%E8%A7%A3%E5%8C%85-unpacking"><span class="nav-text">知识点：序列解包 unpacking</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%88%87%E7%89%87%E8%B5%8B%E5%80%BC"><span class="nav-text">知识点：切片赋值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%B1%9E%E6%80%A7%E8%B5%8B%E5%80%BC"><span class="nav-text">知识点：属性赋值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%B8%A6%E6%98%9F%E5%8F%B7%E7%9A%84%E8%B5%8B%E5%80%BC"><span class="nav-text">知识点：带星号的赋值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%A2%9E%E5%BC%BA%E8%B5%8B%E5%80%BC-Augmented-assignment"><span class="nav-text">知识点：增强赋值 Augmented assignment</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E5%B8%A6%E6%A0%87%E6%B3%A8%E7%9A%84%E8%B5%8B%E5%80%BC-Annotated-assignment"><span class="nav-text">知识点：带标注的赋值 Annotated assignment</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E8%BF%9E%E7%BB%AD%E8%B5%8B%E5%80%BC"><span class="nav-text">知识点：连续赋值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Amatch-%E8%AF%AD%E5%8F%A5"><span class="nav-text">知识点：match 语句</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-5-python-%E5%85%B6%E4%BB%96%E8%AF%AD%E5%8F%A5"><span class="nav-text">4.5 python 其他语句</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter05-python-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="nav-text">Chapter05 python 面向对象</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#5-1-%E5%90%8D%E7%A7%B0%E3%80%81%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E3%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">5.1 名称、命名空间、作用域</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E7%9A%84%E5%90%8D%E7%A7%B0%E7%BB%91%E5%AE%9A%E6%9C%BA%E5%88%B6"><span class="nav-text">知识点：python 的名称绑定机制</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-2-%E5%87%BD%E6%95%B0"><span class="nav-text">5.2 函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-3-%E5%AF%B9%E8%B1%A1"><span class="nav-text">5.3 对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-4-%E7%B1%BB"><span class="nav-text">5.4 类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-5-%E5%B1%9E%E6%80%A7"><span class="nav-text">5.5 属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-6-%E6%96%B9%E6%B3%95"><span class="nav-text">5.6 方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-7-%E7%BB%A7%E6%89%BF"><span class="nav-text">5.7 继承</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%E6%8A%BD%E8%B1%A1%E5%9F%BA%E7%B1%BB"><span class="nav-text">知识点：抽象基类</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter06-python-%E9%AD%94%E6%B3%95"><span class="nav-text">Chapter06 python 魔法</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#6-1-%E9%AD%94%E6%B3%95%E6%96%B9%E6%B3%95"><span class="nav-text">6.1 魔法方法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter07-python-%E5%BC%82%E5%B8%B8"><span class="nav-text">Chapter07 python 异常</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter09-python-%E6%A8%A1%E5%9D%97"><span class="nav-text">Chapter09 python 模块</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#9-1-python-%E6%A8%A1%E5%9D%97%E4%BB%8B%E7%BB%8D"><span class="nav-text">9.1 python 模块介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9Apython-%E6%A8%A1%E5%9D%97%E4%BB%8B%E7%BB%8D"><span class="nav-text">知识点：python 模块介绍</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-2-datetime-%E6%A8%A1%E5%9D%97"><span class="nav-text">9.2 datetime 模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-3-sys-%E6%A8%A1%E5%9D%97"><span class="nav-text">9.3 sys 模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-4-os-%E6%A8%A1%E5%9D%97"><span class="nav-text">9.4 os 模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-5-pprint-%E6%A8%A1%E5%9D%97"><span class="nav-text">9.5 pprint 模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-6-io-%E6%A8%A1%E5%9D%97"><span class="nav-text">9.6 io 模块</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-7-inspect-%E6%A8%A1%E5%9D%97"><span class="nav-text">9.7 inspect 模块</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">20</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2000/01/01/Blog62-python.new/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>
    
    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Blog62-python | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Blog62-python
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2000-01-01 00:01:02" itemprop="dateCreated datePublished" datetime="2000-01-01T00:01:02+08:00">2000-01-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2026-01-03 22:04:52" itemprop="dateModified" datetime="2026-01-03T22:04:52+08:00">2026-01-03</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <hr>
<h1 id="Blog62-python"><a href="#Blog62-python" class="headerlink" title="Blog62-python"></a>Blog62-python</h1><p><a href="#Chapter01-python-%E4%BB%8B%E7%BB%8D"><strong>Chapter01 python 介绍</strong></a></p>
<ul>
<li><a href="#1-1-python-%E4%BB%8B%E7%BB%8D">1.1 python 介绍</a></li>
<li><a href="#1-2-python-%E8%A7%A3%E9%87%8A%E5%99%A8">1.2 python 解释器</a></li>
<li><a href="#1-3-python-%E5%AE%89%E8%A3%85">1.3 python 安装</a></li>
<li><a href="#1-4-python-%E5%91%BD%E4%BB%A4%E8%A1%8C">1.4 python 命令行</a></li>
<li><a href="#1-5-python-%E4%BA%A4%E4%BA%92%E6%A8%A1%E5%BC%8F">1.5 python 交互模式</a></li>
<li><a href="#1-6-vscode-%E5%BC%80%E5%8F%91-python">1.6 vscode 开发 python</a></li>
</ul>
<p><a href="#Chapter02-%E5%86%85%E7%BD%AE%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><strong>Chapter02 内置数据类型</strong></a></p>
<ul>
<li><a href="#2-1-%E5%86%85%E7%BD%AE%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%BB%8B%E7%BB%8D">2.1 内置数据类型介绍</a></li>
<li><a href="#2-2-%E6%95%B0%E5%80%BC%E5%9E%8B">2.2 数值型</a></li>
<li><a href="#2-3-%E5%BA%8F%E5%88%97%E5%9E%8B">2.3 序列型</a></li>
<li><a href="#2-4-str-%E5%9E%8B">2.4 str 型</a></li>
<li><a href="#2-5-dict-%E5%9E%8B">2.5 dict 型</a></li>
<li><a href="#2-6-set-%E5%9E%8B">2.6 set 型</a></li>
</ul>
<p><a href="#Chapter03-%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><strong>Chapter03 内置函数</strong></a></p>
<ul>
<li><a href="#3-1-%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E4%BB%8B%E7%BB%8D">3.1 内置函数介绍</a></li>
<li><a href="#3-2-%E6%95%B0%E5%AD%A6%E5%87%BD%E6%95%B0">3.2 数学函数</a></li>
<li><a href="#3-3-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0">3.3 字符串函数</a></li>
<li><a href="#3-4-%E5%8F%AF%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1%E5%87%BD%E6%95%B0">3.4 可迭代对象函数</a></li>
<li><a href="#3-5-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E5%87%BD%E6%95%B0">3.5 输入输出函数</a></li>
<li><a href="#3-6-%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5%E5%87%BD%E6%95%B0">3.6 类型检查函数</a></li>
<li><a href="#3-7-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E5%87%BD%E6%95%B0">3.7 命名空间函数</a></li>
<li><a href="#3-8-%E5%8F%8D%E5%B0%84%E5%87%BD%E6%95%B0">3.8 反射函数</a></li>
<li><a href="#3-9-%E8%A3%85%E9%A5%B0%E5%99%A8%E5%87%BD%E6%95%B0">3.9 装饰器函数</a></li>
<li><a href="#3-10-%E7%A8%8B%E5%BA%8F%E6%8E%A7%E5%88%B6%E5%87%BD%E6%95%B0">3.10 程序控制函数</a></li>
<li><a href="#3-11-%E5%85%B6%E4%BB%96%E5%87%BD%E6%95%B0">3.11 其他函数</a></li>
</ul>
<p><a href="#Chapter04-python-%E8%AF%AD%E6%B3%95"><strong>Chapter04 python 语法</strong></a></p>
<ul>
<li><a href="#4-1-python-%E8%AF%AD%E6%B3%95%E4%BB%8B%E7%BB%8D">4.1 python 语法介绍</a></li>
<li><a href="#4-2-%E8%A1%A8%E8%BE%BE%E5%BC%8F">4.2 python 表达式</a></li>
<li><a href="#4-3-%E8%AF%AD%E5%8F%A5">4.3 python 语句</a></li>
<li><a href="#4-4-%E8%B5%8B%E5%80%BC%E8%AF%AD%E5%8F%A5">4.4 python 赋值语句</a></li>
<li><a href="#4-5-%E5%85%B6%E4%BB%96%E8%AF%AD%E5%8F%A5">4.5 python 其他语句</a></li>
</ul>
<p><a href="#Chapter05-python-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><strong>Chapter05 python 面向对象</strong></a></p>
<ul>
<li><a href="#5-1-%E5%90%8D%E7%A7%B0%E3%80%81%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E3%80%81%E4%BD%9C%E7%94%A8%E5%9F%9F">5.1 名称、命名空间、作用域</a></li>
<li><a href="#5-2-%E5%87%BD%E6%95%B0">5.2 函数</a></li>
<li><a href="#5-3-%E5%AF%B9%E8%B1%A1">5.3 对象</a></li>
<li><a href="#5-4-%E7%B1%BB">5.4 类</a></li>
<li><a href="#5-5-%E5%B1%9E%E6%80%A7">5.5 属性</a></li>
<li><a href="#5-6-%E6%96%B9%E6%B3%95">5.6 方法</a></li>
<li><a href="#5-7-%E7%BB%A7%E6%89%BF">5.7 继承</a></li>
</ul>
<p><a href="#Chapter06-python-%E9%AD%94%E6%B3%95"><strong>Chapter06 python 魔法</strong></a></p>
<ul>
<li><a href="#6-1-%E9%AD%94%E6%B3%95%E6%96%B9%E6%B3%95">6.1 魔法方法</a></li>
<li><a href="#6-2-%E6%8E%A8%E5%AF%BC%E5%BC%8F">6.2 推导式</a></li>
<li><a href="#6-3-%E8%BF%AD%E4%BB%A3%E5%99%A8">6.3 迭代器</a></li>
<li><a href="#6-4-%E7%94%9F%E6%88%90%E5%99%A8">6.4 生成器</a></li>
<li><a href="#6-5-%E8%A3%85%E9%A5%B0%E5%99%A8">6.5 装饰器</a></li>
<li><a href="#6-6-%E5%BC%82%E6%AD%A5">6.6 异步</a></li>
</ul>
<p><a href="#Chapter07-python-%E5%BC%82%E5%B8%B8"><strong>Chapter07 python 异常</strong></a></p>
<p><a href="#Chapter09-python-%E6%A8%A1%E5%9D%97"><strong>Chapter09 python 模块</strong></a></p>
<ul>
<li><a href="#9-1-python-%E6%A8%A1%E5%9D%97%E4%BB%8B%E7%BB%8D">9.1 python 模块介绍</a></li>
<li><a href="#9-2-datetime-%E6%A8%A1%E5%9D%97">9.2 datetime 模块</a></li>
<li><a href="#9-3-sys-%E6%A8%A1%E5%9D%97">9.3 sys 模块</a></li>
<li><a href="#9-4-os-%E6%A8%A1%E5%9D%97">9.4 os 模块</a></li>
<li><a href="#9-5-pprint-%E6%A8%A1%E5%9D%97">9.5 pprint 模块</a></li>
<li><a href="#9-6-io-%E6%A8%A1%E5%9D%97">9.6 io 模块</a></li>
<li><a href="#9-7-inspect-%E6%A8%A1%E5%9D%97">9.7 inspect 模块</a></li>
</ul>
<hr>
<h2 id="0-1-帮助"><a href="#0-1-帮助" class="headerlink" title="0.1 帮助"></a>0.1 帮助</h2><ol>
<li><strong>python 官网</strong></li>
</ol>
<ul>
<li>python 官网 <a target="_blank" rel="noopener" href="https://www.python.org/">https://www.python.org/</a></li>
</ul>
<ol start="2">
<li><strong>python 官方文档</strong></li>
</ol>
<ul>
<li>官方文档 <a target="_blank" rel="noopener" href="https://docs.python.org/3/">https://docs.python.org/3/</a></li>
<li>官方文档 初级教程 <a target="_blank" rel="noopener" href="https://docs.python.org/3/tutorial/index.html">https://docs.python.org/3/tutorial/index.html</a></li>
<li>官方文档 语言手册 <a target="_blank" rel="noopener" href="https://docs.python.org/3/reference/index.html">https://docs.python.org/3/reference/index.html</a></li>
<li>官方文档 模块手册 <a target="_blank" rel="noopener" href="https://docs.python.org/3/library/index.html">https://docs.python.org/3/library/index.html</a></li>
<li>官方文档 术语列表 <a target="_blank" rel="noopener" href="https://docs.python.org/3/glossary.html">https://docs.python.org/3/glossary.html</a></li>
<li>官方文档 模块索引 <a target="_blank" rel="noopener" href="https://docs.python.org/3/py-modindex.html">https://docs.python.org/3/py-modindex.html</a></li>
</ul>
<ol start="3">
<li><strong>Pypi</strong></li>
</ol>
<ul>
<li><a target="_blank" rel="noopener" href="https://pypi.org/">https://pypi.org/</a></li>
</ul>
<ol start="4">
<li><strong>各种网址</strong></li>
</ol>
<ul>
<li>大牛博客 <a target="_blank" rel="noopener" href="https://smartkeyerror.com/archives/">https://smartkeyerror.com/archives/</a></li>
<li>深入理解 python 虚拟机 <a target="_blank" rel="noopener" href="https://nanguage.gitbook.io/inside-python-vm-cn/">https://nanguage.gitbook.io/inside-python-vm-cn/</a></li>
</ul>
<hr>
<h2 id="0-2-未整理"><a href="#0-2-未整理" class="headerlink" title="0.2 未整理"></a>0.2 未整理</h2><p>0.0 <strong>综合</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">* 什么是单元测试 unittest</span><br><span class="line"></span><br><span class="line">* 什么是 Python 调试器 pdb</span><br><span class="line">  - 如何对 python 程序进行 debug</span><br><span class="line">  - 如何设置断点？断点如何生效</span><br><span class="line"></span><br><span class="line">* 什么是 site 模块？用来干什么的？python 启动时加载 site 模块做了哪些事情？</span><br><span class="line"></span><br><span class="line">* 笔记的整理思想：</span><br><span class="line">  1. 抓大放小，注重实战，不深究 python 的底层与实现细节，专注于使用 python 能做什么</span><br><span class="line">  2. python 的底层进行的抽象太过丰富，无法也不能像 C、Java 那样全面彻底的进行整理</span><br><span class="line"></span><br><span class="line">* 笔记的逻辑结构</span><br><span class="line">  1. python 基础</span><br><span class="line">    - python 内置数据类型</span><br><span class="line">    - python 内置函数</span><br><span class="line">    - python 语法</span><br><span class="line">  2. python 核心概念</span><br><span class="line">    - 面向对象</span><br><span class="line">    - namespace</span><br><span class="line">    - 函数</span><br><span class="line">    - 类</span><br><span class="line">    - 异常</span><br><span class="line">  3. python 各种模块</span><br><span class="line">    - 重要的内置模块：os、re、resquests 等</span><br><span class="line">    - 数据分析模块：numpy、pandas、Matplotlib</span><br><span class="line">  4. python 编程实战</span><br><span class="line">    - vscode + python</span><br><span class="line">    - vscode + python + ai</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>1.2 <strong>python 解释器</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* python 解释器对程序的运行</span><br><span class="line">  - 什么是 code object</span><br><span class="line">  - 什么是 机器码</span><br><span class="line">  - 什么是 frame 帧</span><br><span class="line"></span><br><span class="line">* python 命令行</span><br><span class="line">  - python 命令行应该如何启动</span><br><span class="line">  - python 命令行有哪些选项</span><br><span class="line">  - python 有哪些子命令</span><br><span class="line"></span><br><span class="line">* python 交互模式</span><br><span class="line"></span><br><span class="line">* GIL</span><br><span class="line">  - GIL 的优点和缺点</span><br><span class="line">  - python 委员会对于 GIL 的远期规划</span><br><span class="line">  - python 3.13 中如何启用 无 gil</span><br><span class="line">  - 当前对于对于 gil 的替代方案</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>1.3 <strong>python 安装</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* anaconda 安装 python</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>1.4. <strong>python 命令行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* python -W 选项</span><br><span class="line"></span><br><span class="line">* python -O 选项以及 assert 语句、PYTHONOPTIMIZE 环境变量</span><br><span class="line"></span><br><span class="line">* python -d 选项、PYTHONDEBUG 环境变量</span><br><span class="line"></span><br><span class="line">* python 的虚拟环境 venv</span><br><span class="line"></span><br><span class="line">* 关于系统级 site-packages 和 用户级 site-packages</span><br><span class="line"></span><br><span class="line">* 关于 python 内部的哈希随机化机制和 hash() 函数</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>1.5. <strong>python 交互模式</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* 如何退出 python 的交互模式</span><br><span class="line">  - quit() 的介绍</span><br><span class="line">  - quit()、exit()、sys.exit() 的区别</span><br><span class="line"></span><br><span class="line">* python 交互模式的功能</span><br><span class="line">  - 交互式编辑 interactive editing</span><br><span class="line">  - 历史替换 history substitution</span><br><span class="line">  - 代码补全 code completion。</span><br><span class="line"></span><br><span class="line">* 输出，交互模式的输出默认采用 repr() 函数</span><br><span class="line"></span><br><span class="line">* 特殊变量 &#x27;_&#x27;</span><br><span class="line">  - 在交互模式中，变量 &#x27;_&#x27; 用来编程上一次输出的表达式的结果</span><br><span class="line">  - 此变量应当作为一个 readonly 变量使用</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>1.6. <strong>vscode 开发 pyhton</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* windows 安装 vscode</span><br><span class="line"></span><br><span class="line">* vscode 配置</span><br><span class="line"></span><br><span class="line">* vscode 对 python 进行 debug</span><br><span class="line"></span><br><span class="line">* vscode 追踪 python 函数</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>2.1 <strong>内置数据类型介绍</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<p>2.3 <strong>list 型</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* collection 模块、collection 类</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>4.1 <strong>python 语法介绍</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* 文档字符串</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>4.2 <strong>python token</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 序列切片，放到序列里记录</span><br><span class="line"></span><br><span class="line">* 矩阵乘法 @，放到 numpy 里记录</span><br><span class="line"></span><br><span class="line">* 格式说明微语言</span><br><span class="line"></span><br><span class="line">* 字节字面量 byte literal</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>6.1 <strong>名称与命名空间</strong></p>
<p>6.2 <strong>函数</strong></p>
<p>6.3 <strong>对象</strong></p>
<p>6.4 <strong>属性</strong></p>
<p>6.5 <strong>类</strong></p>
<p>6.6 <strong>继承</strong></p>
<p>6.7 <strong>inspect 模块</strong></p>
<p>7.1 <strong>魔法方法</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* python 所有的魔法方法</span><br><span class="line"></span><br><span class="line">* python 运算符与魔法方法</span><br><span class="line"></span><br><span class="line">* python 内置函数与魔法方法</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>7.2 <strong>推导式</strong></p>
<p>7.3 <strong>迭代器</strong></p>
<p>7.4 <strong>生成器</strong></p>
<p>7.5 <strong>装饰器</strong></p>
<p>7.6 <strong>异步</strong></p>
<p>9.2 <strong>datetime 模块</strong></p>
<hr>
<h1 id="Chapter01-python-介绍"><a href="#Chapter01-python-介绍" class="headerlink" title="Chapter01 python 介绍"></a>Chapter01 python 介绍</h1><hr>
<h2 id="1-1-python-介绍"><a href="#1-1-python-介绍" class="headerlink" title="1.1 python 介绍"></a>1.1 python 介绍</h2><hr>
<h3 id="知识点：python-介绍"><a href="#知识点：python-介绍" class="headerlink" title="知识点：python 介绍"></a>知识点：python 介绍</h3><ol>
<li><strong>python 历史</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 1989年，Guido van Rossum</span><br><span class="line">* 1991年，公开发行</span><br><span class="line">* 1999年，Guido 说明了他对 python 的目标</span><br><span class="line">  - 一门简单直观的语言并与主要竞争者一样强大</span><br><span class="line">  - 开源，以便任何人都可以为它做贡献</span><br><span class="line">  - 代码像纯英语那样容易理解</span><br><span class="line">  - 适用于短期开发的日常任务</span><br><span class="line">* 2001年，python2</span><br><span class="line">* 2008年，python3</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>python ide</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">* IDLE</span><br><span class="line">  - python 提供的基础 IDE</span><br><span class="line">  - 精简，但功能较少</span><br><span class="line"></span><br><span class="line">* pycharm</span><br><span class="line">  - 适合开发</span><br><span class="line">  - 适合项目管理</span><br><span class="line"></span><br><span class="line">* spyder</span><br><span class="line">  - 适合数据分析</span><br><span class="line">  - anaconda+spyder</span><br><span class="line">  - 可以实时变量的值的变化情况</span><br><span class="line"></span><br><span class="line">* vscode</span><br><span class="line">  - 好用不解释</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>python 应用方向</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 人工智能</span><br><span class="line">  - 图像识别</span><br><span class="line">  - 图像处理</span><br><span class="line">  - 语音识别</span><br><span class="line">  - 机器学习</span><br><span class="line">  - 深度学习</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：python-特点"><a href="#知识点：python-特点" class="headerlink" title="知识点：python 特点"></a>知识点：python 特点</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* python 的三个重要特点</span><br><span class="line">  - 解释型语言</span><br><span class="line">  - 动态类型</span><br><span class="line">  - 面向对象</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>编译型语言和解释型语言</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">* 编译型语言 Compilation programming language</span><br><span class="line">  - 提前一次性编译出目标二进制程序文件，在计算机上运行程序时使用的是二进制程序文件</span><br><span class="line">  - 优点：性能高</span><br><span class="line">  - 缺点：跨平台要重新编译，debug 需要保留源代码</span><br><span class="line">  - 应用场景</span><br><span class="line">    - 适合对效率、运行速度有要求的场景</span><br><span class="line">    - 适合大型场景，如大型应用程序、数据库系统等</span><br><span class="line">  - 常见语言</span><br><span class="line">    - C</span><br><span class="line">    - C++</span><br><span class="line">    - Java</span><br><span class="line">    - C#</span><br><span class="line"></span><br><span class="line">* 解释型语言 Interpretation programming language</span><br><span class="line">  - 无需提前编译，而是在执行时编译，代码即程序</span><br><span class="line">  - 在计算机上运行时将代码逐条转换成二进制代码，同时逐条执行</span><br><span class="line">  - 每次运行程序都需要源代码和解释器</span><br><span class="line">  - 也称为脚本语言</span><br><span class="line">  - 优点</span><br><span class="line">    - 源代码明文，便于维护和传播</span><br><span class="line">    - 跨平台可移植性好</span><br><span class="line">    - 重视可读性</span><br><span class="line">  - 缺点</span><br><span class="line">    - 性能较差</span><br><span class="line">  - 应用场景</span><br><span class="line">    - 适合小型场景，如网页脚本、服务器脚本、辅助开发接口等</span><br><span class="line">    - 适合对跨平台兼容性有要求的场景</span><br><span class="line">  - 常见语言</span><br><span class="line">    - python</span><br><span class="line">    - PHP</span><br><span class="line">    - JavaScript</span><br><span class="line">    - Perl</span><br><span class="line">    - Ruby</span><br><span class="line">    - SQL</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>静态类型和动态类型</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 静态类型 Statically typed</span><br><span class="line">  - 使用变量时，必须提前显式声明变量的数据类型</span><br><span class="line">  - 变量的生命期中，变量的数据类型不可变更</span><br><span class="line">  - 通常都是编译型语言</span><br><span class="line"></span><br><span class="line">* 动态类型 dynamically typed</span><br><span class="line">  - 变量使用之前不强制要求提前声明数据类型，代码运行时解释器可以自动确定数据类型</span><br><span class="line">  - 变量的生命期中数据类型可以随意改变</span><br><span class="line">  - 通常为解释型语言</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>面向对象</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* python 中一切皆对象</span><br><span class="line">  - 在 python 中，操作的数据、调用的函数，甚至是类本身，本质上都是拥有属性和行为的对象</span><br><span class="line">  - 所有数据实体都自带类型和可调用的方法</span><br><span class="line">  - 详细内容见面向对象章节</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：python-代码风格建议"><a href="#知识点：python-代码风格建议" class="headerlink" title="知识点：python 代码风格建议"></a>知识点：python 代码风格建议</h3><ol>
<li><strong>代码风格 coding style</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - PEP 8 是 python 官方的推荐代码风格手册</span><br><span class="line"></span><br><span class="line">* 缩进 indent</span><br><span class="line">  - 使用 4 个 space</span><br><span class="line">  - 不要使用 tab</span><br><span class="line"></span><br><span class="line">* 行 line</span><br><span class="line">  - 每行的字符尽量不要超过 79 个</span><br><span class="line"></span><br><span class="line">* 代码块 code block</span><br><span class="line">  - 使用空行 blank line 来间隔代码块，如函数定义、类定义</span><br><span class="line"></span><br><span class="line">* 注释 comment</span><br><span class="line">  - 每一行的注释尽量放在当前行</span><br><span class="line"></span><br><span class="line">* 函数 function</span><br><span class="line">  - 函数添加 docstring</span><br><span class="line"></span><br><span class="line">* 空白 space</span><br><span class="line">  - 在操作符左右添加 space，如 a + b 而不是 a+b</span><br><span class="line">  - 在逗号之后添加 space，如 f(1, 2) 而不是 f(1,2)</span><br><span class="line">  - 在括号、中括号等前后不要添加 space，如 (a + b) 而不是 ( a + b )</span><br><span class="line"></span><br><span class="line">* 名称 name</span><br><span class="line">  - 类名，采用驼峰式命名法 UpperCamelCase</span><br><span class="line">  - 函数名、方法名，采用匈牙利式命名法 lowercase_with_underscores</span><br><span class="line">  - 名称中尽量不要采用 non-ascii 字符</span><br><span class="line">  - 方法中的 self 参数命名采用 &#x27;self&#x27;</span><br><span class="line">  - 类方法中的 class 参数命名采用 &#x27;cls&#x27;</span><br><span class="line"></span><br><span class="line">* 编码 encoding</span><br><span class="line">  - 尽量使用 utf-8，至少也是 ascii</span><br><span class="line">  - 不要使用奇怪的 encoding</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="1-2-python-解释器"><a href="#1-2-python-解释器" class="headerlink" title="1.2 python 解释器"></a>1.2 python 解释器</h2><hr>
<h3 id="知识点：python-解释器介绍"><a href="#知识点：python-解释器介绍" class="headerlink" title="知识点：python 解释器介绍"></a>知识点：python 解释器介绍</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - python 解释器 interpreter，是 python 程序在某个基础架构的服务器上的运行环境，负责将 python 源码 .py 文件转换为机器能执行的指令</span><br><span class="line">  - 所有的 python 程序都是交给 python 解释器进行执行</span><br><span class="line">  - python 解释器会对 python 源码进行编译，成为计算机能够理解和执行的指令，并最终执行</span><br><span class="line"></span><br><span class="line">* 解释器的构成</span><br><span class="line">  - 解析器 Parser，负责将源代码转换为抽象语法树 AST</span><br><span class="line">  - 编译器 Compiler，负责将 AST 转换为字节码对象 PyCodeObject</span><br><span class="line">  - 虚拟机 VM / Evaluator，解释执行字节码</span><br><span class="line">  - 内建对象系统 Objects，定义 Python 的一切对象类型，int、list、dict、function</span><br><span class="line">  - 运行时系统 Runtime System，管理内存、GC、导入系统、异常机制等</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>解释器的工作流程</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">* 解释器的工作流程：</span><br><span class="line">  源码 Source Code (.py)</span><br><span class="line">      ↓</span><br><span class="line">  词法分析 Lexical Analysis → Tokens</span><br><span class="line">      ↓</span><br><span class="line">  语法分析 Syntax Analysis → AST（抽象语法树）</span><br><span class="line">      ↓</span><br><span class="line">  编译器 Bytecode Compilation → .pyc</span><br><span class="line">      ↓</span><br><span class="line">  虚拟机运行时 Interpreter Execution</span><br><span class="line"></span><br><span class="line">* 源码</span><br><span class="line">  - python 源码文件本质上是一个文本文件</span><br><span class="line"></span><br><span class="line">* 词法分析</span><br><span class="line">  - 解释器读取源码，将其分解成一系列更小的单元，称为标记 Tokens，如关键字 if def、变量名、运算符等</span><br><span class="line"></span><br><span class="line">* 语法分析</span><br><span class="line">  - 解释器根据 python 的语法规则，检查这些 Tokens 是否能组成一个结构正确的句子，即程序语句</span><br><span class="line">  - 这个过程会生成一棵抽象语法树 AST，代表了代码的结构化逻辑</span><br><span class="line">  - 如果代码的语法有误，就会在这一步报错</span><br><span class="line"></span><br><span class="line">* 编译生成生成字节码</span><br><span class="line">  - 语法正确的代码会被编译成一种叫做字节码 Bytecode 的中间格式</span><br><span class="line">  - 字节码不是机器码，而是一种专为 python 虚拟机 PVM 设计的低级指令集，它比源代码更接近机器语言，但仍然是平台无关的</span><br><span class="line"></span><br><span class="line">* 执行字节码</span><br><span class="line">  - python 虚拟机 PVM 一条一条地读取并执行字节码指令，这一步才是代码真正产生效果的时候</span><br><span class="line"></span><br><span class="line">* .pyc 文件</span><br><span class="line">  - 为了提高效率，python 会对字节码进行缓存，生成 .pyc 文件</span><br><span class="line">  - 下次运行同一程序时，如果源代码没变，就可以直接加载这些 .pyc 文件，跳过前面的编译步骤，从而加快启动速度</span><br><span class="line">  - .pyc 文件并不是每次都会生成，python 解释器有一套智能的机制来决定何时需要重新生成 .pyc 文件</span><br><span class="line">  - .pyc 文件的主要目的是为了提升模块的加载速度，因此主要是与 import 有关</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>解释器的实现</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* Cpython</span><br><span class="line">  - 使用 C 语言实现的 python</span><br><span class="line">  - 最基础、最常见的 python 解释器</span><br><span class="line">  - 相当于 python 的实际标准，所有新功能都是先在 cpython 中添加，然后其他实现再进行跟进</span><br><span class="line"></span><br><span class="line">* Jython</span><br><span class="line">  - 使用 Java 实现的 python</span><br><span class="line"></span><br><span class="line">* python for .NET</span><br><span class="line"></span><br><span class="line">* Ironpython</span><br><span class="line"></span><br><span class="line">* PyPy</span><br><span class="line">  - 使用 python 实现的 python</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：查看-python-中的字节码"><a href="#知识点：查看-python-中的字节码" class="headerlink" title="知识点：查看 python 中的字节码"></a>知识点：查看 python 中的字节码</h3><ol>
<li><strong>查看函数字节码</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> dis</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>():</span></span><br><span class="line">  <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">dis.dis(func)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>查看模块字节码</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> dis</span><br><span class="line"></span><br><span class="line">f=<span class="string">&#x27;demo01.py&#x27;</span></span><br><span class="line">file=<span class="built_in">open</span>(f,encoding=<span class="string">&#x27;utf-8&#x27;</span>).read()</span><br><span class="line">co=<span class="built_in">compile</span>(file,f,<span class="string">&#x27;exec&#x27;</span>)</span><br><span class="line"></span><br><span class="line">dis.dis(co)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：python-解释器的启动流程"><a href="#知识点：python-解释器的启动流程" class="headerlink" title="知识点：python 解释器的启动流程"></a>知识点：python 解释器的启动流程</h3><hr>
<h3 id="知识点：python-解释器对程序的运行"><a href="#知识点：python-解释器对程序的运行" class="headerlink" title="知识点：python 解释器对程序的运行"></a>知识点：python 解释器对程序的运行</h3><hr>
<h3 id="知识点：GIL"><a href="#知识点：GIL" class="headerlink" title="知识点：GIL"></a>知识点：GIL</h3><hr>
<h2 id="1-3-python-安装"><a href="#1-3-python-安装" class="headerlink" title="1.3 python 安装"></a>1.3 python 安装</h2><hr>
<h3 id="知识点：python-安装介绍"><a href="#知识点：python-安装介绍" class="headerlink" title="知识点：python 安装介绍"></a>知识点：python 安装介绍</h3><ol start="4">
<li><strong>安装目录</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* $&#123;prefix&#125;</span><br><span class="line">  - 纯 Python 安装前缀</span><br><span class="line">  - 注意，prefix 是一个安装前缀而并非实际的安装目录，实际的安装目录是通过安装前缀进行推导得出</span><br><span class="line">  - 是 python 的安装目录的核心变量，会实际影响后续 python 文件的安装位置，主要影响 python 的标准库的安装目录</span><br><span class="line">  - 保存在 sys.prefix 中</span><br><span class="line">  - 在编译安装时，通过 --prefix 选项来进行指定</span><br><span class="line"></span><br><span class="line">* $&#123;exec_prefix&#125;</span><br><span class="line">  - 可执行文件或平台相关模块有关的安装前缀</span><br><span class="line">  - 是 python 的安装目录的核心变量，会实际影响后续 python 文件的安装位置，如会影响 python 解释器的安装位置</span><br><span class="line">  - 保存在 sys.exec_prefix</span><br><span class="line">  - 在编译安装时，通过 --exec-prefix 选项来进行指定</span><br><span class="line"></span><br><span class="line">* $&#123;exec_prefix&#125;/bin/python</span><br><span class="line">  - python 解释器的安装位置</span><br><span class="line"></span><br><span class="line">* $&#123;exec_prefix&#125;/python</span><br><span class="line">  - windows 系统下 python 解释器的安装位置</span><br><span class="line">  - 原因是因为 windows 的安装习惯中，可执行文件通常直接安装在安装目录下而不是再加一个 bin 子层级</span><br><span class="line"></span><br><span class="line">* $&#123;prefix&#125;/lib/python&lt;version&gt;</span><br><span class="line">* $&#123;exec_prefix&#125;/lib/python&lt;version&gt;</span><br><span class="line">  - python 标准库的安装位置</span><br><span class="line"></span><br><span class="line">* $&#123;prefix&#125;/include/python&lt;version&gt;</span><br><span class="line">* $&#123;exec_prefix&#125;/include/python&lt;version&gt;</span><br><span class="line">  - python 的头文件的安装位置</span><br><span class="line"></span><br><span class="line">* /usr/lib64/python&lt;version&gt;</span><br><span class="line">* /usr/libexec/</span><br><span class="line">  - 特定 linux 发行版会使用到的 python 安装目录，如 centos7 等，不属于 python 官方的目录体系结构</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：编译安装-python"><a href="#知识点：编译安装-python" class="headerlink" title="知识点：编译安装 python"></a>知识点：编译安装 python</h3><ol>
<li><strong>centos7 编译安装 python3.14</strong><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 安装必要的编译环境及依赖包</span></span><br><span class="line">yum -y update</span><br><span class="line">yum -y groupinstall &quot;Development Tools&quot;</span><br><span class="line">yum -y install openssl-devel bzip2-devel libffi-devel zlib-devel xz-devel wget</span><br><span class="line">yum -y install gcc gcc-c++ glibc make automake autoconf zlib zlib-devel perl</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 获取 openssl-1.1.1 源码包</span></span><br><span class="line">wget https://www.openssl.org/source/openssl-1.1.1w.tar.gz</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 编译升级 openssl-1.1.1</span></span><br><span class="line">tar -zxf openssl-1.1.1w.tar.gz</span><br><span class="line">cd openssl-1.1.1w/</span><br><span class="line">./config shared zlib -fPIC --prefix=/usr/local/openssl-1.1.1w --openssldir=/usr/local/openssl-1.1.1w</span><br><span class="line">make -j 8 &amp;&amp; make -j 8 install</span><br><span class="line"></span><br><span class="line">mv /usr/bin/openssl&#123;,.bak&#125;</span><br><span class="line">mv /usr/include/openssl&#123;,.bak&#125;</span><br><span class="line">ln -s /usr/local/openssl-1.1.1w/bin/openssl /usr/bin/openssl</span><br><span class="line">ln -s /usr/local/openssl-1.1.1w/include/openssl /usr/include/openssl</span><br><span class="line">echo &#x27;/usr/local/openssl-1.1.1w/lib&#x27; &gt; /etc/ld.so.conf.d/openssl-x86_64.conf</span><br><span class="line">ldconfig -v</span><br><span class="line">openssl version -a</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 获取 python 3.14 源码包</span></span><br><span class="line">wget https://www.python.org/ftp/python/3.14.0/Python-3.14.0.tgz</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 配置、编译、安装</span></span><br><span class="line">tar xzf Python-3.14.0.tgz</span><br><span class="line">cd Python-3.14.0</span><br><span class="line">./configure \</span><br><span class="line">  --prefix=/opt/Python314 \</span><br><span class="line">  --exec-prefix=/opt/Python314 \</span><br><span class="line">  --enable-optimizations \</span><br><span class="line">  --with-ensurepip=install \</span><br><span class="line">  --with-openssl=/usr/local/openssl-1.1.1w \</span><br><span class="line">  LDFLAGS=&quot;-Wl,-rpath=/usr/local/openssl-1.1.1w/lib&quot;</span><br><span class="line">make altinstall</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 验证安装</span></span><br><span class="line">/opt/Python314/bin/python3.14 --version</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 添加权限</span></span><br><span class="line">chmod -R a+x /opt/Python314</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 添加环境变量</span></span><br><span class="line">echo &#x27;PATH=$PATH:/opt/Python314/bin&#x27; &gt;&gt; /etc/profile</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="1-4-python-命令行"><a href="#1-4-python-命令行" class="headerlink" title="1.4 python 命令行"></a>1.4 python 命令行</h2><hr>
<h3 id="知识点：python-命令行"><a href="#知识点：python-命令行" class="headerlink" title="知识点：python 命令行"></a>知识点：python 命令行</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 在命令行环境中，python 解释器的表现形式就是一个指令</span><br><span class="line">  - 通过类似 linux 指令的方式，运行 python 指令，来运行一个 python 程序</span><br><span class="line"></span><br><span class="line">* 运行 python 程序格式</span><br><span class="line">  python [OPTIONS] script.py</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>选项</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* -v</span><br><span class="line">  - 启用详细模式 verbose mode，显示 Python 在运行时导入模块的详细过程</span><br><span class="line"></span><br><span class="line">* -h, --help</span><br><span class="line">* -V, --version</span><br><span class="line">  - 打印帮助信息、版本信息</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>运行环境相关选项</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">* -E</span><br><span class="line">  - 忽略对 python 运行有影响的环境变量</span><br><span class="line">  - 相当于以所有环境变量为默认值的情况下运行 python</span><br><span class="line"></span><br><span class="line">* -s</span><br><span class="line">  - 不把用户级 site-packages 目录加入 sys.path</span><br><span class="line">  - 相当于只能使用系统级 site-packages 中的模块，以 pip install --user 方式安装的模块不会被使用</span><br><span class="line"></span><br><span class="line">* -I</span><br><span class="line">  - 以隔离模式启动 python 程序</span><br><span class="line">  - 相当于 &quot;-E&quot; + &quot;-s&quot; + 不把当前目录加入 sys.path</span><br><span class="line">  - &quot;-E&quot;、&quot;-s&quot;、&quot;-I&quot; 选项的作用，都是以较为纯洁的方式运行 python 程序，防止系统或用户影响 python 的运行环境，</span><br><span class="line"></span><br><span class="line">* -S</span><br><span class="line">  - 完全禁用 site 模块，包括 系统级 site-packages 和 用户级 site-packages</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>python 命令行相关的环境变量</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">* PYTHONPATH</span><br><span class="line">  - 扩展 Python 的模块搜索路径</span><br><span class="line"></span><br><span class="line">* PYTHONSTARTUP</span><br><span class="line">  - 指定一个初始化脚本文件，在启动 python 交互模式时会先执行此脚本</span><br><span class="line"></span><br><span class="line">* PYTHONINSPECT</span><br><span class="line">  - 指导 python 在执行完主程序后会进入交互模式</span><br><span class="line">  - 相当于指定了 &quot;-i&quot; 选项</span><br><span class="line"></span><br><span class="line">* PYTHONIOENCODING</span><br><span class="line">  - 强制指定标准输入输出（sys.stdin, sys.stdout, sys.stderr）的编码</span><br><span class="line"></span><br><span class="line">* PYTHONNOUSERSITE</span><br><span class="line">  - 禁止加载用户级的 site-packages 目录</span><br><span class="line"></span><br><span class="line">* PYTHONVERBOSE</span><br><span class="line">  - 指导 python 输出详细信息</span><br><span class="line">  - 相当于指定了 &quot;-v&quot; 选项</span><br><span class="line"></span><br><span class="line">* PYTHONWARNINGS</span><br><span class="line">  - 控制 warnings 模块的行为</span><br><span class="line">  - 相当于指定了 &quot;-W&quot; 选项</span><br><span class="line"></span><br><span class="line">* PYTHONHASHSEED</span><br><span class="line">  - 控制 python 内部的哈希随机化机制的种子</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：python-m"><a href="#知识点：python-m" class="headerlink" title="知识点：python -m"></a>知识点：python -m</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 直接以模块的方式运行 Python 代码，而不是手动指定脚本文件</span><br><span class="line">  - 常用来将 python 程序保存为模块后，进行调用</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  python -m &lt;module-name&gt; [args...]</span><br><span class="line"></span><br><span class="line">* 核心概念理解</span><br><span class="line">  - 在 Python 中，-m 选项会：</span><br><span class="line">    - 在 sys.path 中查找模块</span><br><span class="line">    - 加载该模块</span><br><span class="line">    - 以 __main__ 的身份执行它（类似执行一个脚本文件）</span><br><span class="line">    - 同时允许你传递命令行参数</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 启动一个临时 HTTP 文件服务器</span></span><br><span class="line">python -m http.server 8080</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 使用 Python 的 pip 包管理器安装</span></span><br><span class="line">python -m pip install requests</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 创建虚拟环境</span></span><br><span class="line">python -m venv env</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 对 json 数据进行格式化</span></span><br><span class="line">python -m json.tool data.json</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：python-c"><a href="#知识点：python-c" class="headerlink" title="知识点：python -c"></a>知识点：python -c</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 不通过 .py 文件来启动 python 程序，而是直接在命令行上通过字符串指定要执行的 python 代码</span><br><span class="line">  - python 会将字符串当做一段完整的 Python 程序来执行</span><br><span class="line">  - 通常用来快速对语句进行调试</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  python -c &lt;command&gt; [arg1 arg2 ...]</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 执行多条语句（用分号隔开）</span></span><br><span class="line">python -c &quot;import sys; print(sys.version)&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 调试或测试小代码片段</span></span><br><span class="line">python -c &quot;for i in range(3): print(i)&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看当前目录下文件</span></span><br><span class="line">python -c &quot;import os; print(&#x27;\n&#x27;.join(os.listdir(&#x27;.&#x27;)))&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 快速删除当前目录下以 .tmp 结尾的文件</span></span><br><span class="line">python -c &quot;import os; [os.remove(f) for f in os.listdir(&#x27;.&#x27;) if f.endswith(&#x27;.tmp&#x27;)]&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 提取 CSV 第 n 列</span></span><br><span class="line">python -c &quot;import csv,sys; [print(row[2]) for row in csv.reader(sys.stdin)]&quot; &lt; data.csv</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：python-i"><a href="#知识点：python-i" class="headerlink" title="知识点：python -i"></a>知识点：python -i</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 在脚本运行结束后，不是退出 python，而是进入交互模式</span><br><span class="line">  - 在交互模式中，保留了脚本的运行环境，如脚本中定义的变量、函数、类等</span><br><span class="line">  - 适合用来调试或探索脚本结果</span><br><span class="line"></span><br><span class="line">* 异常</span><br><span class="line">  - &quot;-i&quot; 选项对于脚本调试非常有效</span><br><span class="line">  - 当脚本运行报错抛出异常后，&quot;-i&quot; 也会指导 python 进入交互模式</span><br><span class="line">  - 此时可以根据抛出的异常进行调试和修改，并且此时依然保持了抛出异常时的运行环境</span><br><span class="line">  - 如果异常是脚本中间的某个代码所抛出，则进入交互模式后运行时环境将恰好维持在执行抛出异常的语句时的运行环境，异常代码行的后续代码不会执行</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  python -i script.py</span><br><span class="line">  python -i -c &lt;command&gt;</span><br><span class="line">  python -i -m &lt;module-name&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：python-脚本参数与-sys-argv"><a href="#知识点：python-脚本参数与-sys-argv" class="headerlink" title="知识点：python 脚本参数与 sys.argv"></a>知识点：python 脚本参数与 sys.argv</h3><ol>
<li><p><strong>介绍</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 在启动 python 时，可以为脚本指定参数</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  python script.py foo bar</span><br><span class="line"></span><br><span class="line">* sys.argv</span><br><span class="line">  - python 会将在脚本名以及所有脚本参数保存到 sys.argv 变量中</span><br><span class="line">  - 在 python 脚本内，可以通过 sys.argv 来读取相应的命令行参数，类似 shell 脚本的 $N 方式</span><br><span class="line">  - sys.argv 变量的类型为一个 list，长度最小为 1</span><br><span class="line">  - python 自己的命令行选项，如 -i、-W 等，不会保存到 sys.argv 中</span><br><span class="line"></span><br><span class="line">* sys.argv[0]</span><br><span class="line">  - 保存启动 python 程序时在命令行上指定的脚本名（绝对路径、相对路径）</span><br><span class="line"></span><br><span class="line">* sys.argv[1:]</span><br><span class="line">  - 从 sys.argv[1] 及以后的元素，依次保存运行 python 脚本时指定的脚本的参数</span><br><span class="line">  - 在 &quot;-c&quot;、&quot;-m&quot; 之后找到即使符合 &quot;-X&quot; 格式的选项，也不会被 Python 解释器识别为解释器的选项，而是作为脚本的参数保存到 sys.argv[1:] 中</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p><strong>特殊情况</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">* 当没有任何脚本和参数时</span><br><span class="line">  - sys.argv[0] 为空字符串，sys.argv[1:] 不存在</span><br><span class="line"></span><br><span class="line">* python - 方式启动程序</span><br><span class="line">  - sys.argv[0] 为 &quot;-&quot;，表示脚本为标准输入</span><br><span class="line"></span><br><span class="line">* python -c 方式启动程序</span><br><span class="line">  - sys.argv[0] 为 &quot;-c&quot;</span><br><span class="line">  - sys.argv[1:] 保存的是 &quot;-c&quot; 所指定的字符串指令之后所带的参数，</span><br><span class="line">  - &quot;-c&quot; 所指定的字符串指令，sys.arvg 中不会对其进行保存</span><br><span class="line"></span><br><span class="line">* python -m 方式启动程序</span><br><span class="line">  - 在 3.8 以前版本，sys.argv[0] 为 &quot;-m&quot;，sys.argv[1] 为所定位模块的全名</span><br><span class="line">  - 在 3.8 以后版本，sys.argv[0] 为所定位模块的全名</span><br><span class="line">  - sys.argv[1:] 保存的是 &quot;-m&quot; 所指定的模块之后所带的参数</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p><strong>命令行参数的解析</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">* 命令行参数的流向</span><br><span class="line">  命令行输入</span><br><span class="line">  │</span><br><span class="line">  └──&gt; Python 解释器解析</span><br><span class="line">       │</span><br><span class="line">       ├── 解释器自己的选项（例如 -O, -W, -B, -X ...）</span><br><span class="line">       │</span><br><span class="line">       └── 剩余部分（传给你的程序或模块）</span><br><span class="line">              ↓</span><br><span class="line">           sys.argv</span><br><span class="line"></span><br><span class="line">* 普通脚本运行时命令行参数的流向</span><br><span class="line">  python script.py foo bar</span><br><span class="line">  命令行拆解：</span><br><span class="line">  │</span><br><span class="line">  ├─ python                → 启动解释器</span><br><span class="line">  ├─ script.py             → 用户脚本文件 (sys.argv[0])</span><br><span class="line">  ├─ foo bar               → 用户参数 (sys.argv[1:])</span><br><span class="line">  │</span><br><span class="line">  └─ sys.argv = [&#x27;script.py&#x27;, &#x27;foo&#x27;, &#x27;bar&#x27;]</span><br><span class="line"></span><br><span class="line">* 使用 -m 运行模块时命令行参数的流向</span><br><span class="line">  python -m http.server 8080</span><br><span class="line">  命令行拆解：</span><br><span class="line">  │</span><br><span class="line">  ├─ python                → 启动解释器</span><br><span class="line">  ├─ -m http.server        → 以模块方式运行</span><br><span class="line">  ├─ 8080                  → 模块的参数</span><br><span class="line">  │</span><br><span class="line">  └─ sys.argv = [&#x27;http.server&#x27;, &#x27;8080&#x27;]</span><br><span class="line"></span><br><span class="line">* 使用 -c 执行命令字符串时命令行参数的流向</span><br><span class="line">  python -c &quot;import sys; print(sys.argv)&quot; arg1 arg2</span><br><span class="line">  命令行拆解：</span><br><span class="line">  │</span><br><span class="line">  ├─ python                → 启动解释器</span><br><span class="line">  ├─ -c &quot;import sys; ...&quot;  → 执行命令字符串</span><br><span class="line">  ├─ arg1 arg2             → 命令的参数</span><br><span class="line">  │</span><br><span class="line">  └─ sys.argv = [&#x27;-c&#x27;, &#x27;arg1&#x27;, &#x27;arg2&#x27;]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>sys.argv 范例</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 直接运行 python</span></span><br><span class="line">[<span class="string">&#x27;&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># python script.py foo bar</span></span><br><span class="line">[<span class="string">&#x27;script.py&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># python -m http.server 8080</span></span><br><span class="line"><span class="comment"># 3.8 以前</span></span><br><span class="line">[<span class="string">&#x27;-m&#x27;</span>, <span class="string">&#x27;http.server&#x27;</span>, <span class="string">&#x27;8080&#x27;</span>]</span><br><span class="line"><span class="comment"># 3.8 以后</span></span><br><span class="line">[<span class="string">&#x27;http.server&#x27;</span>, <span class="string">&#x27;8080&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># python -c &quot;import sys; print(sys.argv)&quot; -x -y foo bar</span></span><br><span class="line">[<span class="string">&#x27;-c&#x27;</span>, <span class="string">&#x27;-x&#x27;</span>, <span class="string">&#x27;-y&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;bar&#x27;</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="1-5-python-交互模式"><a href="#1-5-python-交互模式" class="headerlink" title="1.5 python 交互模式"></a>1.5 python 交互模式</h2><hr>
<h3 id="知识点：python-交互模式介绍"><a href="#知识点：python-交互模式介绍" class="headerlink" title="知识点：python 交互模式介绍"></a>知识点：python 交互模式介绍</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - python 交互模式 interactive mode，是一种让可以直接输入并立即执行 Python 代码的工作方式</span><br><span class="line">  - 在交互模式中，每一行代码都会被立即解析并执行，在执行完每条语句后会立刻回显返回值（如果有）。</span><br><span class="line">  - 在命令行上直接执行 python 并不带任何参数，即进入交互模式</span><br><span class="line">  - 交互模式仅适合临时测试，不适合编写长程序或复杂逻辑</span><br><span class="line"></span><br><span class="line">* 交互模式的特点</span><br><span class="line">  - 立即执行    每输入一条语句就立即运行并显示结果</span><br><span class="line">  - 自动回显    表达式的值会自动输出，无需调用 print() 函数</span><br><span class="line">  - 无需文件    不用保存脚本文件即可快速测试</span><br><span class="line">  - 变量持久    在一次会话中，变量会保留直到退出</span><br><span class="line"></span><br><span class="line">* 提示符</span><br><span class="line">  - 交互模式的主提示符 primary prompt 为 &quot;&gt;&gt;&gt;&quot;</span><br><span class="line">  - 次级提示符 secondary prompt 为 &quot;...&quot;</span><br><span class="line"></span><br><span class="line">* 退出交互模式</span><br><span class="line">  - 执行 quit()、exit()、sys.exit() 均能退出交互模式</span><br><span class="line">  - 按下 EOF 字符也可以退出交互模式，unix 为 ctrl+D，windows 为 ctrl+Z</span><br><span class="line"></span><br><span class="line">* 多行模式</span><br><span class="line">  - 在交互模式下，输入 for、while 等语句时，python 会自动进入多行模式</span><br><span class="line">  - 在多行模式中，python 会自动按照层级对语句进行缩进</span><br><span class="line">  - 缩进的行的提示符为次级提示符 &quot;...&quot;</span><br><span class="line">  - 一个空行表示对多行模式的结束，此时 python 会执行多行模式中的语句</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>增强版交互环境</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* IPython</span><br><span class="line">  - 功能更强的交互 shell</span><br><span class="line">  - 支持语法高亮、命令补全、历史记录、魔法命令 %time 等。</span><br><span class="line">  - 执行 pip install ipython 进行安装</span><br><span class="line"></span><br><span class="line">* bpython</span><br><span class="line">  - 更轻量、更漂亮的交互环境。</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 自动回显，表达式的值会自动输出，无需调用 print() 函数</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=<span class="number">14</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line"><span class="number">14</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="1-6-vscode-开发-python"><a href="#1-6-vscode-开发-python" class="headerlink" title="1.6 vscode 开发 python"></a>1.6 vscode 开发 python</h2><hr>
<h1 id="Chapter02-内置数据类型"><a href="#Chapter02-内置数据类型" class="headerlink" title="Chapter02 内置数据类型"></a>Chapter02 内置数据类型</h1><hr>
<h2 id="2-1-内置数据类型介绍"><a href="#2-1-内置数据类型介绍" class="headerlink" title="2.1 内置数据类型介绍"></a>2.1 内置数据类型介绍</h2><hr>
<h3 id="知识点：内置数据类型介绍"><a href="#知识点：内置数据类型介绍" class="headerlink" title="知识点：内置数据类型介绍"></a>知识点：内置数据类型介绍</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 内置数据类型 built-in types，是指 python 内部包含直接可用、由 python 自己进行定义、在 Python 解释器启动后自动加载到在内置命名空间 builtins 中可以直接使用的对象类型</span><br><span class="line">  - 在解释器启动时由 builtins 模块注入到全局内置命名空间</span><br><span class="line">  - 由 C 层或解释器本身实现，无需额外的 import</span><br><span class="line">  - 全部是 class 对象，可以用来实例化具体的对象</span><br><span class="line">  - 用于承载 Python 中最基础的数据表示</span><br><span class="line">  - 是构建所有其他对象的底层类型系统基础</span><br><span class="line"></span><br><span class="line">* Python 内置数据类型可分为 6 大类</span><br><span class="line">  - 数值类型 Numeric Types，包括 int、float、complex</span><br><span class="line">  - 序列类型 Sequence Types，包括 list、tuple、str、bytes、bytearray</span><br><span class="line">  - 集合类型 Set Types，包括 set、frozenset</span><br><span class="line">  - 映射类型 Mapping Types，包括 dict</span><br><span class="line">  - 布尔类型与空值类型，包括 bool、NoneType</span><br><span class="line">  - 其他，包括 type、object、range、slice、memoryview、ellipsis、NotImplementedType 等</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：真值测试"><a href="#知识点：真值测试" class="headerlink" title="知识点：真值测试"></a>知识点：真值测试</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - Truth Value Testing</span><br><span class="line">  - 在 Python 里，任何对象都可以拿来做真假检查，即任何对象如果用在逻辑表达式、条件判断中都可以表示 True 或者 False</span><br><span class="line">  - 默认情况下，没有特别说明，所有的对象都是表示 True</span><br><span class="line">  - 默认情况下，表示 False 的对象如下：</span><br><span class="line">    - 常量中的 False、None</span><br><span class="line">    - 数值类型中的任何的 0，包括 int 0，float 0.0，complex 0j、0+0j，decimal.Decimal Decimal(0)，fractions.Fraction Fraction(0, 1)</span><br><span class="line">    - 容器类型中的空集合，如 空字符串 &quot;&quot;、空元组 ()、空列表 []、空字典 &#123;&#125;、空集合 set()、空 range range(0)</span><br><span class="line"></span><br><span class="line">* 魔法方法</span><br><span class="line">  - 容器类型采用 object.__len__(self) 的结果来判断，0 为 False，非 0 为 True</span><br><span class="line">  - 支持使用 object.__bool__(self) 来显示指定对于真假检查运算的结果</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：内置常量"><a href="#知识点：内置常量" class="headerlink" title="知识点：内置常量"></a>知识点：内置常量</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 内置常量 builtin constants</span><br><span class="line">  - 本质上是指位于 builtins 命名空间中的固定的名称，这些名称在每次 python 解释器启动时都会绑定到固定的对象上</span><br><span class="line"></span><br><span class="line">* 如何正确理解 Python 的所谓的常量</span><br><span class="line">  - 在 python 中，常量的概念与其他编程语言中的常量的概念存在非常大的区别</span><br><span class="line">  - 在其他的编程语言中，所谓的常量一般就是指一个值</span><br><span class="line">  - 而在 python 中，所谓的常量实际上是 builtins 命名空间中的一个标识符，然后指向一个特殊的对象</span><br><span class="line">  - Python 的核心哲学：一切皆对象 everything is an object，所有值都是通过 name binding 暴露出来的对象引用</span><br><span class="line">  - python 中一切皆对象，而在语法中可以键入的内容，如果不是关键字、运算符、字面量，就一定是一个标识符</span><br><span class="line">  - 标识符会存在于相应的命名空间中，从而可以被使用</span><br><span class="line">  - 标识符会通过名称绑定 name banding，与某一个对象直接绑定</span><br><span class="line">  - 由于常量指向的是对象，而对象可能是一个方法，因此实际上某些常量在使用后的实际效果可能是返回一个值，也可能是执行某个操作</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>语言级内置常量</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 由 CPython 解释器自身引入到 builtins 命名空间的常量，由 CPython 在启动阶段初始化 builtins 模块时加入到 builtins.__dict__ 中</span><br><span class="line"></span><br><span class="line">* True</span><br><span class="line">  - boolean 类型的 true</span><br><span class="line"></span><br><span class="line">* False</span><br><span class="line">  - boolean 类型的 false</span><br><span class="line"></span><br><span class="line">* None</span><br><span class="line">  - NoneType 类型的对象，用来表示 absence of a value</span><br><span class="line"></span><br><span class="line">* NotImplemented</span><br><span class="line">  - （好复杂，有空问一下chatgpt把，适用于二元运算符的魔术方法）</span><br><span class="line"></span><br><span class="line">* __debug__</span><br><span class="line">  - boolean 类型的对象</span><br><span class="line">  - 当 python 解释器开启了 debug 模式时，__debug__ 就指向 boolean 类型的 true，反之则指向 boolean 的 false</span><br><span class="line"></span><br><span class="line">* Ellipsis</span><br><span class="line">  - （不记录）</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>site 模块注入的内置常量</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 由 site 模块注入到 builtins 命名空间的常量</span><br><span class="line">  - 在 CPython 解释器启动时，会自动加载 site 模块，此时会将这些常量注入到 builtin 命名空间中</span><br><span class="line">  - 如果在 CPython 解释器启动时指定 -S 选项禁止自动加载 site 模块，则这些常量就不会被注入到 builtin 命名空间中</span><br><span class="line"></span><br><span class="line">* quit、exit</span><br><span class="line">  - 退出 python 环境</span><br><span class="line">  - 实际上是 Quitter(&#x27;quit&#x27;)、Quitter(&#x27;exit&#x27;)</span><br><span class="line"></span><br><span class="line">* help</span><br><span class="line">  - 调用后进入 pydoc 的交互帮助环境</span><br><span class="line">  - 实际上是 _sitebuiltins._Helper()</span><br><span class="line"></span><br><span class="line">* license、credits、copyright</span><br><span class="line">  - 打印一些标语、版权信息</span><br><span class="line">  - 都是 _sitebuiltins 里的对象</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看 builtins 命名空间中的所有名称</span></span><br><span class="line"><span class="keyword">import</span> builtins</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dir</span>(builtins))</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="2-2-数值型"><a href="#2-2-数值型" class="headerlink" title="2.2 数值型"></a>2.2 数值型</h2><hr>
<h3 id="知识点：数值型介绍"><a href="#知识点：数值型介绍" class="headerlink" title="知识点：数值型介绍"></a>知识点：数值型介绍</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 数值型 Numeric Types，是 Python 中用来表示数学概念中的&quot;数&quot;的几种基础类型，可以用作算术运算，在表达式里是最核心的一类值</span><br><span class="line">  - 内置数值型都是不可变类型 immutable，一旦创建就不能被原地修改，只能通过名称绑定将标识符绑定到另一个对象上</span><br><span class="line"></span><br><span class="line">* 分类</span><br><span class="line">  - int 整数</span><br><span class="line">  - float 浮点数</span><br><span class="line">  - complex 复数</span><br><span class="line">  - bool 布尔数</span><br><span class="line"></span><br><span class="line">* 其他常用的非内置的数值型</span><br><span class="line">  - decimal.Decimal</span><br><span class="line">  - fractions.Fraction</span><br><span class="line">  - NumPy</span><br><span class="line">  - Pandas</span><br><span class="line">  - SymPy</span><br><span class="line"></span><br><span class="line">* 抽象基类</span><br><span class="line">  - python 的内置数值型，以及大多数的非内置的数值型，如 numpy 中的 int64、float64，decimal.Decimal、fractions.Fraction，都是 numbers.Number 的虚子类</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>数值型的算术运算的类型转换</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">* 内置数值型之间的算术运算的类型转换</span><br><span class="line">  - 在进行算术运算时，如果如果两个操作数的类型相同，大多数情况下，运算结果的类型与操作数的类型相同，少数情况下存在例外</span><br><span class="line">  - 如果两个操作数的类型不同，python 会把级别更低的那个转换成级别更高的那个，再进行计算</span><br><span class="line">  - 如果一个操作数是 int 型，另一个操作数是 float 型，则先将 int 型转换为 float 型再进行计算，结果为 float 型</span><br><span class="line">  - 如果一个操作数是 int 型，另一个操作数是 complex 型，则先将 int 型转换为 complex 型再进行计算，结果为 complex 型</span><br><span class="line">  - 如果一个操作数是 float 型，另一个操作数是 complex 型，则先将 float 型转为 complex 型再进行计算，结果为 complex 型</span><br><span class="line"></span><br><span class="line">* 内置数值型与非内置数值型的算术运算规则</span><br><span class="line">  - 内置数值型与非内置数值型混合进行算术运算，返回值的类型没有统一的准则或要求，取决于非内置数据类型自己的定义</span><br><span class="line">  - int 与 np.int64 相加，结果为 np.int64</span><br><span class="line">  - float 与 fractions.Fraction 相加，结果为 float</span><br><span class="line">  - float 与 decimal.Decimal 相加，会抛异常</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>数值型的比较运算</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 数值型的比较运算，运算逻辑为比较两个操作数的数学意义的值的大小，对于不同数值类型之间会先对齐统一的数值然后再比较</span></span><br><span class="line"><span class="comment"># 例如：</span></span><br><span class="line"><span class="built_in">int</span> <span class="number">1</span> == <span class="built_in">float</span> <span class="number">1.0</span>  <span class="comment"># true</span></span><br><span class="line">decimal.Decimal(<span class="number">1.5</span>) == fractions.Fraction(<span class="number">1.5</span>)   <span class="comment"># true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对于 float 型，可能因为浮点误差导致某些看起来相等的值实际上不相等</span></span><br><span class="line"><span class="comment"># 例如：</span></span><br><span class="line"><span class="number">0.1</span> + <span class="number">0.2</span> == <span class="number">0.3</span>    <span class="comment"># false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对于 complex 型，只支持 ==、!= 两个比较运算，不支持 &gt;、&lt;、&gt;=、&lt;= 四个运算，即使复数的虚部为 0，因为复数在数学上没有全序的自然定义</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对于 bool 型，在进行比较运算时，会被视为 int 0、1 进行运算</span></span><br><span class="line"><span class="comment"># 例如：</span></span><br><span class="line"><span class="literal">True</span> == Fraction(<span class="number">1.0</span>)   <span class="comment"># True</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>数值型的哈希</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 介绍 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># Python 里所有数值类型，int、float、complex、decimal.Decimal、fractions.Fraction 等，只要 x == y，无论它们是什么数值类型，就必须有 hash(x) == hash(y)</span></span><br><span class="line"><span class="comment"># Python 把这套数值哈希方案的一些参数公开在 sys.hash_info 中</span></span><br><span class="line"><span class="number">1</span> == <span class="number">1.0</span> == (<span class="number">1</span>+<span class="number">0j</span>) == fractions.Fraction(<span class="number">1.0</span>) == decimal.Decimal(<span class="string">&quot;1&quot;</span>)                               <span class="comment"># True</span></span><br><span class="line"><span class="built_in">hash</span>(<span class="number">1</span>) == <span class="built_in">hash</span>(<span class="number">1.0</span>) == <span class="built_in">hash</span>(<span class="number">1</span>+<span class="number">0j</span>) == <span class="built_in">hash</span>(fractions.Fraction(<span class="number">1.0</span>)) == <span class="built_in">hash</span>(decimal.Decimal(<span class="number">1</span>))     <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这对 dict / set 的正确性非常关键，因为 dict / set 是先用 hash() 再用 == 来判断 key 是否相同的</span></span><br><span class="line"><span class="comment"># set 范例：</span></span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">1.0</span>, fractions.Fraction(<span class="number">1</span>, <span class="number">1</span>), decimal.Decimal(<span class="string">&quot;1&quot;</span>)&#125;    <span class="comment"># &#123;1&#125;，集合内只会有第一个元素 1，因为后面的元素与 1 和 hash() 结果相同，因此被 set 认为是相同元素而不进行添加</span></span><br><span class="line"><span class="comment"># dict 范例：</span></span><br><span class="line">d=&#123;<span class="number">1</span>:<span class="string">&#x27;Tom&#x27;</span>&#125;</span><br><span class="line">d[<span class="number">1.0</span>]=<span class="string">&#x27;Jim&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(d[<span class="number">1</span>])               <span class="comment"># Jim，因为 dict 视 int 1 和 float 1.0 为相同的键值，因此修改 d[1.0] 实际修改了 d[1]</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：int-型"><a href="#知识点：int-型" class="headerlink" title="知识点：int 型"></a>知识点：int 型</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - int 型，在 Python 中用来表示数学上的整数</span><br><span class="line">  - 抽象基类为 numbers.Integral</span><br><span class="line"></span><br><span class="line">* 无限精度 unlimited precision</span><br><span class="line">  - python 的 int 型具有无限精度</span><br><span class="line">  - 即，python 的 int 型可以拥有无限多的位数，没有固定的最大值或最小值限制，不会溢出，只会越来越慢、越来越占内存</span><br><span class="line">  - int 型长度的上限仅取决于硬件内存</span><br><span class="line"></span><br><span class="line">* 内存驻留 interning</span><br><span class="line">  - Python 出于性能优化的考虑，会对常用的小整数，通常是 -5 到 256，进行内存驻留</span><br><span class="line">  - CPython 会预先创建并缓存一段&quot;小整数对象池&quot;，典型是 -5 ~ 256 这一段，这几个值在解释器启动时就被创建好</span><br><span class="line">  - 整个解释器的进程生命周期内一直存在</span><br><span class="line">  - 所以当你写很多 1、2、-1 时，实际上是&quot;同一个对象&quot;在被重复引用</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>整数字面量</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 介绍 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 整数字面量 Integer literals，用来表示整数</span></span><br><span class="line"><span class="comment"># Python 默认会将整数字面量识别为 int 型</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 下划线 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 所有字面量均可以使用下划线来对数字进行分组，以增加可读性</span></span><br><span class="line"><span class="number">10_253</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 下划线可以位于数字之间，也可以位于数字前缀之后</span></span><br><span class="line"><span class="number">0x_a1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 下划线不可以出现在字面量的开头或结尾，不可以有两个连续的下划线</span></span><br><span class="line">_123      <span class="comment"># ❌ 以下划线开头</span></span><br><span class="line">123_      <span class="comment"># ❌ 以下划线结尾</span></span><br><span class="line">1__000    <span class="comment"># ❌ 连续两个下划线</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 十进制型 decinteger 字面量 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 直接使用 0-9 表示整数值</span></span><br><span class="line"><span class="comment"># 不允许存在 leading zeros，如 000 合法，但 010 不合法</span></span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">42</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 二进制型 bininteger 字面量 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 以 0b 或者 0B 开头，后跟 0-1 组成的二进制数值</span></span><br><span class="line"><span class="number">0b1010</span>    <span class="comment"># 10</span></span><br><span class="line"><span class="number">0B1101</span>    <span class="comment"># 13</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 八进制型 octinteger 字面量 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 以 0o 或者 0O 开头，后跟 0-7 组成的八进制数值</span></span><br><span class="line"><span class="number">0o755</span>   <span class="comment"># 493</span></span><br><span class="line"><span class="number">0O12</span>    <span class="comment"># 10</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 十六进制型 hexinteger 字面量 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 以 0x 或者 0X 开头，后跟 0-9、a-f、A-F 组成的十六进制数值</span></span><br><span class="line"><span class="number">0x1A</span>    <span class="comment"># 26</span></span><br><span class="line"><span class="number">0XfF</span>    <span class="comment"># 255</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>int() 函数</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># int() 函数，属于 python 的内置函数，是 python 内置类型 int 的构造函数，用来创建 int 型对象，或者用来将别的类型的数据转换为 int 型</span></span><br><span class="line"><span class="comment"># 常用来对浮点数如 float、fractions.Fraction、decimal.Decimal 进行截断</span></span><br><span class="line"><span class="comment"># 有两种用法，一个是将其他数值型转换为 int 型，一个是将符合整数字面量 Integer literals 规则的字符串转换为 int 型</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   class int(number=0, /)</span></span><br><span class="line"><span class="comment">#   class int(string, /, base=10)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在不包含任何参数时，int() 函数直接返回 int 0</span></span><br><span class="line"><span class="built_in">int</span>()         <span class="comment"># 0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 number：</span></span><br><span class="line"><span class="comment">#   指定需要转换为 int 型的数字，将其他数值型转换为 int 型</span></span><br><span class="line"><span class="comment">#   可以是 int、bool、float 等内置类型，也可以是 fractions.Fraction、decimal.Decimal 等类型</span></span><br><span class="line"><span class="comment">#   python 会按照向 0 截断的方式构造 int 型</span></span><br><span class="line"><span class="built_in">int</span>(<span class="number">10</span>)                     <span class="comment"># 10</span></span><br><span class="line"><span class="built_in">int</span>(<span class="literal">True</span>)                   <span class="comment"># 1</span></span><br><span class="line"><span class="built_in">int</span>(<span class="literal">False</span>)                  <span class="comment"># 0</span></span><br><span class="line"><span class="built_in">int</span>(<span class="number">3.14</span>)                   <span class="comment"># 3，注意，不是四舍五入，是截断</span></span><br><span class="line"><span class="built_in">int</span>(-<span class="number">3.14</span>)                  <span class="comment"># -3，向 0 截断</span></span><br><span class="line"><span class="built_in">int</span>(decimal.Decimal(<span class="number">7.7</span>))   <span class="comment"># 7</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 string：</span></span><br><span class="line"><span class="comment">#   指定需要转换为 int 型的字符串，字符串必须符合整数字面量 Integer literals 的规则</span></span><br><span class="line"><span class="comment">#   可以是 str 型，也支持 bytes、bytearray 等类型</span></span><br><span class="line"><span class="comment">#   不能是空字符串，会报错</span></span><br><span class="line"><span class="built_in">int</span>(<span class="string">&quot;123&quot;</span>)              <span class="comment"># 123</span></span><br><span class="line"><span class="built_in">int</span>(<span class="string">&quot;+123&quot;</span>)             <span class="comment"># 123</span></span><br><span class="line"><span class="built_in">int</span>(<span class="string">&quot;-123&quot;</span>)             <span class="comment"># -123</span></span><br><span class="line"><span class="built_in">int</span>(<span class="string">&quot;  123\n&quot;</span>)          <span class="comment"># 123，允许前后空白</span></span><br><span class="line"><span class="built_in">int</span>(<span class="string">&quot;   -12_345\n&quot;</span>)     <span class="comment"># -12345，支持下划线和空白</span></span><br><span class="line"><span class="built_in">int</span>(<span class="string">&quot;&quot;</span>)                 <span class="comment"># ❌，ValueError，空字符串</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 常见的一种错误，就是字符串采用了 float 型的字符串，即字符串中带小数点</span></span><br><span class="line"><span class="comment"># 正确的通常做法是先将 float 型字符串转化为 float 型，再传递给 int()</span></span><br><span class="line"><span class="built_in">int</span>(<span class="string">&quot;115.115&quot;</span>)          <span class="comment"># ❌，ValueError</span></span><br><span class="line"><span class="built_in">int</span>(<span class="built_in">float</span>(<span class="string">&quot;115.115&quot;</span>))   <span class="comment"># 115</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 base：</span></span><br><span class="line"><span class="comment">#   在将字符串转换为 int 型时，指定对字符串进行解析时采用哪种进位制</span></span><br><span class="line"><span class="comment">#   base=0 时自动根据前缀推断进制</span></span><br><span class="line"><span class="built_in">int</span>(<span class="string">&quot;FACE&quot;</span>, <span class="number">16</span>)             <span class="comment"># 64206，指定采用十六进制</span></span><br><span class="line"><span class="built_in">int</span>(<span class="string">&quot;0xface&quot;</span>, <span class="number">0</span>)            <span class="comment"># 64206，指定 base=0 自动识别前缀</span></span><br><span class="line"><span class="built_in">int</span>(<span class="string">&quot;01110011&quot;</span>, base=<span class="number">2</span>)     <span class="comment"># 115，指定采用二进制</span></span><br><span class="line"><span class="built_in">int</span>(<span class="string">&quot;2&quot;</span>, <span class="number">2</span>)                 <span class="comment"># ❌，ValueError，字面量错误，二进制里不能出现 2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 魔法方法：</span></span><br><span class="line"><span class="comment"># 在将数值型转换为 int 型时，int() 函数会尝试调用对象的如下魔法方法</span></span><br><span class="line"><span class="comment"># 因此只要自定义对象实现了 __int__() 或 __index__()，int() 函数就支持此自定义对象</span></span><br><span class="line"><span class="comment"># x.__int__()</span></span><br><span class="line"><span class="comment"># x.__index__()</span></span><br><span class="line"><span class="comment"># x.__trunc__()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>int 型支持的运算</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 算术运算 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># int 型支持全部 9 种算术运算：x + y、x - y、x * y、x / y、x // y、x % y、x ** y、-x、+x</span></span><br><span class="line"><span class="comment"># 对于 x + y、x - y、x * y、x // y、x % y、x ** y、-x、+x 这八种运算，如果操作数都是 int 型，则运算结果也都是 int 型</span></span><br><span class="line"><span class="number">7</span> + <span class="number">3</span>     <span class="comment"># 10</span></span><br><span class="line"><span class="number">7</span> - <span class="number">3</span>     <span class="comment"># 4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对于真除法 x / y，即使两个操作数都是 int 型，即使结果可以整除，运算结果也仍然是 float 型</span></span><br><span class="line"><span class="number">10</span> / <span class="number">2</span>    <span class="comment"># 5.0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 比较运算 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># int 型支持全部 6 种比较运算：x &gt; y、x &lt; y、x &gt;= y、x &lt;= y、x == y、x != y</span></span><br><span class="line"><span class="number">3</span> &gt; <span class="number">2</span>     <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 位运算 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># int 型支持全部 6 种位运算：x &amp; y、x | y、x ^ y、x &lt;&lt; n、x &gt;&gt; n、~x</span></span><br><span class="line"><span class="comment"># python 的内置数据类型中，也只有 int 型支持位运算</span></span><br><span class="line"><span class="number">16</span> &gt;&gt; <span class="number">1</span>           <span class="comment"># 8</span></span><br><span class="line"><span class="number">0b1010</span> &amp; <span class="number">0b0101</span>   <span class="comment"># 0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>内置方法</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- int.bit_length() ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 返回这个整数的二进制形式需要多少位，不包括符号位</span></span><br><span class="line">n=<span class="number">37</span></span><br><span class="line"><span class="built_in">bin</span>(n)            <span class="comment"># &#x27;0b100101&#x27;</span></span><br><span class="line">n.bit_length()    <span class="comment"># 6</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- int.bit_count() ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 统计一个整数（取绝对值后）二进制里有多少个 1</span></span><br><span class="line">n=<span class="number">37</span></span><br><span class="line"><span class="built_in">bin</span>(n)          <span class="comment"># &#x27;0b100101&#x27;</span></span><br><span class="line">n.bit_count()   <span class="comment"># 3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- int.to_bytes() ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 把一个整数转成 bytes 对象</span></span><br><span class="line"><span class="comment"># 格式：int.to_bytes(length=1, byteorder=&#x27;big&#x27;, *, signed=False)</span></span><br><span class="line"><span class="comment"># length：用多少字节来表示这个整数，不够会 OverflowError，多出来的高位用 0 填充，或对有符号负数用 0xff 填充</span></span><br><span class="line">n=<span class="number">1024</span></span><br><span class="line">n.to_bytes(<span class="number">2</span>)   <span class="comment"># b&#x27;\x04\x00&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- int.from_bytes() ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># to_bytes 的逆操作，从给定字节序列解析出一个整数</span></span><br><span class="line"><span class="comment"># 格式：classmethod int.from_bytes(bytes, byteorder=&#x27;big&#x27;, *, signed=False)</span></span><br><span class="line"><span class="built_in">int</span>.from_bytes(<span class="string">b&#x27;\x00\x10&#x27;</span>, byteorder=<span class="string">&#x27;big&#x27;</span>)    <span class="comment"># 16</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- int.from_bytes() ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 格式：int.as_integer_ratio()</span></span><br><span class="line"><span class="comment"># 作用：</span></span><br><span class="line"><span class="comment">#   - 把整数视作一个有理数 p/q，返回 (p, q) 这个二元组</span></span><br><span class="line"><span class="comment">#   - 其比率 ratio 正好等于 int 并且分母为正数</span></span><br><span class="line"><span class="comment">#   - 整数的比率总是用这个整数本身作为分子，1 作为分母</span></span><br><span class="line">(<span class="number">5</span>).as_integer_ratio()      <span class="comment"># (5, 1)</span></span><br><span class="line">(-<span class="number">7</span>).as_integer_ratio()     <span class="comment"># (-7, 1)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- int.is_integer() ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 这个方法的存在理由很简单：</span></span><br><span class="line"><span class="comment">#   float 有一个实例方法 .is_integer()，用于判断 “这个浮点数是不是整数值（小数部分是否为 0）”</span></span><br><span class="line"><span class="comment">#   为了写代码时可以对“任意数值类型”统一调用 .is_integer()，int 也提供了同名方法</span></span><br><span class="line"><span class="comment">#   但对整数来说，这个问题是废话，所以 永远返回 True</span></span><br><span class="line"><span class="comment">#   这种东西在 python 中都称为 duck type</span></span><br><span class="line">n=<span class="number">10</span></span><br><span class="line">n.is_integer()    <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：bool-型"><a href="#知识点：bool-型" class="headerlink" title="知识点：bool 型"></a>知识点：bool 型</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 布尔型 bool，是 python 中内置的用来表示布尔值的类型</span><br><span class="line">  - 布尔型只有两个可选值，True 和 False，两个值都是 python 的关键字</span><br><span class="line">  - 布尔型是 int 型的子类，即 issubclass(bool,int) 结果为 True，因此布尔型可以参与数学运算，True 代表 int 1，False 代表 int 0</span><br><span class="line"></span><br><span class="line">* bool 型字面量</span><br><span class="line">  - bool 型只支持两个字面量，True、False，都是 python 的关键字</span><br><span class="line">  - 区分大小写</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>bool() 函数</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># bool() 函数，属于 python 的内置函数，是 python 内置类型 bool 的构造函数，根据对象返回其所对应的 bool 值</span></span><br><span class="line"><span class="comment"># 参数支持 python 中的任何类型的对象</span></span><br><span class="line"><span class="comment"># 相当于对对象进行真值检测</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     class bool(object=False, /)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bool</span>())       <span class="comment"># False，没有参数时，默认是 False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bool</span>(<span class="number">1</span>))      <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bool</span>(<span class="number">0</span>))      <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bool</span>(<span class="string">&quot;hi&quot;</span>))   <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bool</span>(<span class="string">&quot;&quot;</span>))     <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bool</span>(<span class="literal">None</span>))   <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>bool 型支持的运算</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 算术运算 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># bool 型支持进行算术运算</span></span><br><span class="line"><span class="comment"># 在算术运算中，True 被当做 int 1，False 被当做 int 0 进行运算</span></span><br><span class="line"><span class="literal">True</span> + <span class="literal">True</span>      <span class="comment"># 2</span></span><br><span class="line"><span class="literal">True</span> + <span class="literal">False</span>     <span class="comment"># 1</span></span><br><span class="line"><span class="literal">False</span> + <span class="literal">False</span>    <span class="comment"># 0</span></span><br><span class="line"><span class="literal">True</span> - <span class="literal">False</span>     <span class="comment"># 1</span></span><br><span class="line"><span class="literal">False</span> - <span class="literal">True</span>     <span class="comment"># -1</span></span><br><span class="line"><span class="literal">True</span> * <span class="number">10</span>        <span class="comment"># 10</span></span><br><span class="line"><span class="literal">False</span> * <span class="number">10</span>       <span class="comment"># 0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 相等比较运算 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># bool 型支持进行相等比较运算</span></span><br><span class="line"><span class="comment"># bool 型与数值型进行相等比较运算时，bool 型会被当做 int 1 和 0 进行运算</span></span><br><span class="line"><span class="literal">True</span> == <span class="literal">True</span>    <span class="comment"># True</span></span><br><span class="line"><span class="literal">True</span> == <span class="literal">False</span>   <span class="comment"># False</span></span><br><span class="line"><span class="literal">False</span> == <span class="literal">False</span>  <span class="comment"># True</span></span><br><span class="line"><span class="literal">True</span> == <span class="number">1</span>       <span class="comment"># True</span></span><br><span class="line"><span class="literal">False</span> == <span class="number">0</span>      <span class="comment"># True</span></span><br><span class="line"><span class="literal">True</span> == <span class="number">2</span>       <span class="comment"># False</span></span><br><span class="line"><span class="literal">False</span> == -<span class="number">0</span>     <span class="comment"># True，-0 也是 0</span></span><br><span class="line"><span class="literal">True</span> == <span class="number">1.0</span>     <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># bool 型与非数值对象，如 str/list/dict 等，进行相等比较运算，结果基本全是 false</span></span><br><span class="line"><span class="literal">True</span> == <span class="string">&quot;1&quot;</span>     <span class="comment"># False</span></span><br><span class="line"><span class="literal">True</span> == [<span class="number">1</span>]     <span class="comment"># False</span></span><br><span class="line"><span class="literal">False</span> == <span class="string">&quot;&quot;</span>     <span class="comment"># False</span></span><br><span class="line"><span class="literal">False</span> == []     <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 由于 bool 型的特点，python 非常不推荐的 if 条件判断的写法：</span></span><br><span class="line"><span class="keyword">if</span> x == <span class="literal">True</span>:     <span class="comment"># 实际上是对 bool 型进行相等比较运算，例如，如果 x 是 2 会导致程序逻辑错误</span></span><br><span class="line"><span class="keyword">if</span> x <span class="keyword">is</span> <span class="literal">True</span>:     <span class="comment"># 仅在 x 是 int 1 时才会认为条件为真，但这样的写法会语义不明</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># python 推荐如下写法：</span></span><br><span class="line"><span class="keyword">if</span> x:         <span class="comment"># 判断是否为真</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> x:     <span class="comment"># 判断是否为假</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 大小比较运算 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># bool 型支持与数值型进行大小比较运算，bool 型会被当做 int 1 和 0 进行运算</span></span><br><span class="line"><span class="literal">True</span> &gt; <span class="number">0</span>        <span class="comment"># True</span></span><br><span class="line"><span class="literal">False</span> &lt; <span class="number">5</span>       <span class="comment"># True</span></span><br><span class="line"><span class="literal">True</span> &lt;= <span class="number">1</span>       <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># bool 型不支持与其他类型进行大小比较运算，Python 不允许无意义的跨类型排序比较</span></span><br><span class="line"><span class="literal">True</span> &lt; <span class="string">&quot;a&quot;</span>      <span class="comment"># ❌，TypeError</span></span><br><span class="line"><span class="literal">False</span> &gt; []      <span class="comment"># ❌，TypeError</span></span><br><span class="line"><span class="literal">True</span> &lt;= <span class="literal">None</span>    <span class="comment"># ❌，TypeError</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>bool() 函数</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># bool() 函数，是 python 的内置函数，是 bool 型的构造函数</span></span><br><span class="line"><span class="comment"># 用来对其他对象进行 truth value testing，返回其所对应的 bool 值</span></span><br><span class="line"><span class="comment"># 参数可以接受 python 中的任何对象</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   class bool(object=False, /)</span></span><br><span class="line"><span class="built_in">bool</span>(<span class="number">1</span>)         <span class="comment"># True</span></span><br><span class="line"><span class="built_in">bool</span>(<span class="string">&quot;hi&quot;</span>)      <span class="comment"># True</span></span><br><span class="line"><span class="built_in">bool</span>([<span class="number">1</span>, <span class="number">2</span>])    <span class="comment"># True</span></span><br><span class="line"><span class="built_in">bool</span>(<span class="string">&quot;0&quot;</span>)       <span class="comment"># True，长度为 1 的字符串</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># bool() 返回 False 的情况：</span></span><br><span class="line"><span class="built_in">bool</span>()          <span class="comment"># False，零参数返回 False</span></span><br><span class="line"><span class="built_in">bool</span>(<span class="literal">None</span>)      <span class="comment"># False</span></span><br><span class="line"><span class="built_in">bool</span>(<span class="number">0</span>)         <span class="comment"># False</span></span><br><span class="line"><span class="built_in">bool</span>(<span class="number">0.0</span>)       <span class="comment"># False</span></span><br><span class="line"><span class="built_in">bool</span>(<span class="number">0j</span>)        <span class="comment"># False</span></span><br><span class="line"><span class="built_in">bool</span>(<span class="string">&quot;&quot;</span>)        <span class="comment"># False</span></span><br><span class="line"><span class="built_in">bool</span>([])        <span class="comment"># False</span></span><br><span class="line"><span class="built_in">bool</span>(&#123;&#125;)        <span class="comment"># False</span></span><br><span class="line"><span class="built_in">bool</span>(<span class="built_in">set</span>())     <span class="comment"># False</span></span><br><span class="line"><span class="built_in">bool</span>(<span class="built_in">range</span>(<span class="number">0</span>))  <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：float-型"><a href="#知识点：float-型" class="headerlink" title="知识点：float 型"></a>知识点：float 型</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 浮点型 float，是 python 中内置的用来表示带小数的实数的类型</span><br><span class="line">  - 底层通常是 C 语言的 64 位二进制浮点数 double</span><br><span class="line">  - 当前设备对 float 型的实现的各种指标，可以在 sys.float_info 中看到，包括精度 precision、范围等</span><br><span class="line">  - 抽象基类为 numbers.Real</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>浮点数字面量</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 介绍 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 浮点数字面量 floating-point literal，是 python 中用来表示浮点数、小数的文法</span></span><br><span class="line"><span class="comment"># 在解析浮点型字面量时，不论整数部分还是小数部分，都按照十进制来进行解析</span></span><br><span class="line"><span class="comment"># Python 默认会将浮点数字面量识别为 float 型</span></span><br><span class="line"><span class="comment"># 支持两种形式：小数点形式、科学计数法形式</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 小数点形式 pointfloat ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 由整数部分 integer part、小数点 decimal point、小数部分 fraction part 组成</span></span><br><span class="line"><span class="comment"># 整数部分、小数部分，都只能使用十进制整数字面量来标识</span></span><br><span class="line"><span class="comment"># 小数点是核心，即使只有整数部分或者只有小数部分也会被认为是 pointfloat 字面量</span></span><br><span class="line"><span class="comment"># 支持使用下划线来对数字进行分组，但下划线只能出现在整数部分的中间或者小数部分的中间，不能出现在开头、末尾或小数点左右，不能有连续的下划线</span></span><br><span class="line"><span class="comment"># 与整数型字面量不同，小数点形式的浮点数字面量可以出现 leading zeros、trailing zeros</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   [+|-]&lt;0...9&gt;+.[&lt;0...9&gt;+]</span></span><br><span class="line"><span class="comment"># 范例：</span></span><br><span class="line"><span class="number">3.14</span></span><br><span class="line"><span class="number">.2</span></span><br><span class="line"><span class="number">1.0</span></span><br><span class="line"><span class="number">077.010</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 科学计数法形式 exponentfloat ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 由底数部分 significand、指数符号 exponent indicator e 或 E、指数部分 exponent 组成</span></span><br><span class="line"><span class="comment"># 底数部分可以使用整数型字面量或小数点型字面量</span></span><br><span class="line"><span class="comment"># 指数部分必须使用整数型字面量，可以是正数或负数</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   [+|-]&lt;0...9&gt;+e[+|-]&lt;0...9&gt;+</span></span><br><span class="line"><span class="comment">#   [+|-]&lt;0...9&gt;+E[+|-]&lt;0...9&gt;+</span></span><br><span class="line"><span class="comment">#   [+|-]&lt;0...9&gt;+[.&lt;0...9&gt;+]e[+|-]&lt;0...9&gt;+</span></span><br><span class="line"><span class="comment">#   [+|-]&lt;0...9&gt;+[.&lt;0...9&gt;+]e[+|-]&lt;0...9&gt;+</span></span><br><span class="line"><span class="comment"># 范例：</span></span><br><span class="line"><span class="number">3.14e1</span>      <span class="comment"># 3.14</span></span><br><span class="line"><span class="number">3.14e-2</span>     <span class="comment"># 0.0314</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>float() 函数</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># float() 函数，属于 python 的内置函数，是 python 内置类型 float 的构造函数</span></span><br><span class="line"><span class="comment"># 参数支持绝大多数的数值型数值型，或字符串</span></span><br><span class="line"><span class="comment"># 魔法方法采用 object.__float__()，也支持 object.__index__()</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   class float(number=0.0, /)</span></span><br><span class="line"><span class="comment">#   class float(string, /)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 number</span></span><br><span class="line"><span class="comment"># 指定需要转换为 float 型的数字，必须是数值型，将其他数值型转换为 float 型</span></span><br><span class="line"><span class="comment"># 可以是 int、bool、float 等内置类型，也可以是 fractions.Fraction、decimal.Decimal 等类型</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>())          <span class="comment"># 0.0，不带任何参数，则默认返回 0.0</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="number">3</span>))         <span class="comment"># 3.0</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(-<span class="number">7</span>))        <span class="comment"># -7.0</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="literal">True</span>))      <span class="comment"># 1.0</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="literal">False</span>))     <span class="comment"># 0.0</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="number">3.14</span>))      <span class="comment"># 3.14</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(Decimal(<span class="string">&quot;1.1&quot;</span>)))      <span class="comment"># 1.1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(Fraction(<span class="number">1</span>, <span class="number">3</span>)))      <span class="comment"># 0.3333333333333333</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="literal">None</span>))      <span class="comment"># ❌，不支持 None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 string</span></span><br><span class="line"><span class="comment"># 指定需要转换为 float 型的字符串，字符串必须符合浮点数字面量 floating-point literal 的规则</span></span><br><span class="line"><span class="comment"># 可以是 str 型，也支持 bytes、bytearray 等类型</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="string">&quot;  3.14  &quot;</span>))    <span class="comment"># 3.14，支持前导/末尾空白</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="string">&quot;\n-2.5\t&quot;</span>))    <span class="comment"># -2.5，支持前导/末尾空白</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="string">&quot;+1.5&quot;</span>))        <span class="comment"># 1.5   ，支持正负号</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="string">&quot;-0.25&quot;</span>))       <span class="comment"># -0.25 ，支持正负号</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="string">&quot;1e3&quot;</span>))         <span class="comment"># 1000.0，支持科学计数法形式</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="string">&quot;1_2.3_4&quot;</span>))     <span class="comment"># 12.34 ，支持下划线分隔符</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="string">&quot;inf&quot;</span>))         <span class="comment"># inf   ，支持特殊值</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="string">&quot;-Infinity&quot;</span>))   <span class="comment"># -inf</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="string">&quot;nan&quot;</span>))         <span class="comment"># nan</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 支持 bytes 型</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="string">b&quot;3.14&quot;</span>))             <span class="comment"># 3.14</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="built_in">bytearray</span>(<span class="string">b&quot;-2.5&quot;</span>)))  <span class="comment"># -2.5</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 字符串不合法则会抛异常</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="string">&quot;3.14.15&quot;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="string">&quot;1,234.5&quot;</span>))   <span class="comment"># ❌，不支持逗号</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="string">&quot;&quot;</span>))          <span class="comment"># ❌，不支持空字符串</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="string">&quot;&quot;</span>))          <span class="comment"># ❌，不支持空字符串</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">float</span>(<span class="string">&quot;abc&quot;</span>))       <span class="comment"># ❌</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>inf 和 nan</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 介绍 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># python 的 float 型支持两个特殊值：</span></span><br><span class="line"><span class="comment">#     inf 表示无穷大</span></span><br><span class="line"><span class="comment">#     nan 表示不是一个数 Not a Number</span></span><br><span class="line"><span class="comment"># 这两个特殊值都没有合法的字面量格式，只能通过构造函数或运算产生</span></span><br><span class="line"><span class="comment">#     inf 可以通过普通的运算得出</span></span><br><span class="line"><span class="comment">#     nan 无法通过普通的运算得出，但可以通过 inf 的运算得出</span></span><br><span class="line"><span class="comment"># 与其他编程语言不同：</span></span><br><span class="line"><span class="comment">#     对于如 100.0 ** 200 的情况，python 会抛出 OverflowError 异常而不是返回 inf</span></span><br><span class="line"><span class="comment">#     对于如 1 / 0 的情况，python 会抛出 ZeroDivisionError 异常而不是返回 inf 或 nan</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 构造 inf 和 nan 不区分大小写</span></span><br><span class="line"><span class="built_in">float</span>(<span class="string">&quot;inf&quot;</span>)        <span class="comment"># 正无穷大</span></span><br><span class="line"><span class="built_in">float</span>(<span class="string">&quot;-inf&quot;</span>)       <span class="comment"># 负无穷大</span></span><br><span class="line"><span class="built_in">float</span>(<span class="string">&#x27;infinity&#x27;</span>)   <span class="comment"># inf</span></span><br><span class="line"><span class="built_in">float</span>(<span class="string">&#x27;-infinity&#x27;</span>)  <span class="comment"># -inf</span></span><br><span class="line"><span class="built_in">float</span>(<span class="string">&quot;nan&quot;</span>)        <span class="comment"># NaN</span></span><br><span class="line"><span class="number">1e319</span>               <span class="comment"># inf</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># math 模块提供了常量 math.inf 和 math.nan，也可以用来表示 inf 和 nan，与使用 float() 方式等价</span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line">math.inf          <span class="comment"># 等价于 float(&#x27;inf&#x27;)</span></span><br><span class="line">-math.inf         <span class="comment"># 等价于 float(&#x27;-inf&#x27;)</span></span><br><span class="line">math.nan          <span class="comment"># 等价于 float(&#x27;nan&#x27;)</span></span><br><span class="line"><span class="built_in">type</span>(math.inf)    <span class="comment"># &lt;class &#x27;float&#x27;&gt;</span></span><br><span class="line"><span class="built_in">type</span>(math.nan)    <span class="comment"># &lt;class &#x27;float&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 算数运算规则 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># inf 可以和数值型、inf 进行算数运算</span></span><br><span class="line"><span class="comment"># 如果结果存疑，那么结果都是 nan</span></span><br><span class="line"><span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>) * <span class="number">3</span>              <span class="comment"># inf</span></span><br><span class="line"><span class="number">3</span> / <span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>)              <span class="comment"># 0.0</span></span><br><span class="line">-<span class="number">3</span> / <span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>)             <span class="comment"># -0.0</span></span><br><span class="line"><span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>) * <span class="number">0.0</span>            <span class="comment"># nan</span></span><br><span class="line"><span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>) - <span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>)   <span class="comment"># nan</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># nan 可以与数值型进行算数运算，结果都是 nan</span></span><br><span class="line"><span class="comment"># 只要正常算术运算中出现了 nan，结果基本都会变成 nan，因为 nan 的这个特性，一旦数据里混入 nan，它会在数值运算中一传十、十传百，非常传染</span></span><br><span class="line"><span class="built_in">float</span>(<span class="string">&#x27;nan&#x27;</span>) * <span class="number">3</span>    <span class="comment"># nan</span></span><br><span class="line"><span class="number">3</span> / <span class="built_in">float</span>(<span class="string">&#x27;nan&#x27;</span>)    <span class="comment"># nan</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 比较运算规则 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># inf 可以与数值型进行比较运算，行为符合数学直觉，即 -inf 最小，+inf 最大，中间是普通浮点数</span></span><br><span class="line">math.inf &gt; <span class="number">3</span>      <span class="comment"># True</span></span><br><span class="line">-math.inf &lt; -<span class="number">3</span>    <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># inf 与 inf 进行比较运算，inf 与 inf 相等</span></span><br><span class="line">math.inf == math.inf    <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># nan 与数值型进行比较运算，结果都是 False，只有不等于运算 != 结果是 True</span></span><br><span class="line"><span class="comment"># nan 与 nan 进行比较运算，结果都是 False，只有不等于运算 != 结果是 True</span></span><br><span class="line">math.nan &gt; <span class="number">3</span>          <span class="comment"># False</span></span><br><span class="line">math.nan &lt; <span class="number">3</span>          <span class="comment"># False</span></span><br><span class="line">math.nan == <span class="number">3</span>         <span class="comment"># False</span></span><br><span class="line">math.nan != <span class="number">3</span>         <span class="comment"># True</span></span><br><span class="line">math.nan &gt; math.nan   <span class="comment"># False</span></span><br><span class="line">math.nan &lt; math.nan   <span class="comment"># False</span></span><br><span class="line">math.nan == math.nan  <span class="comment"># False</span></span><br><span class="line">math.nan != math.nan  <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>float 支持的运算</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 算术运算 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># float 型支持全部 9 种算术运算：x + y、x - y、x * y、x / y、x // y、x % y、x ** y、-x、+x</span></span><br><span class="line"><span class="comment"># 返回值也都是 float 型，包括地板除 &#x27;//&#x27; 和求余 &#x27;%&#x27;</span></span><br><span class="line">x + y   <span class="comment"># 7.0</span></span><br><span class="line">x - y   <span class="comment"># 3.0</span></span><br><span class="line">x * y   <span class="comment"># 10.0</span></span><br><span class="line">x / y   <span class="comment"># 2.5</span></span><br><span class="line">x // y  <span class="comment"># 2.0</span></span><br><span class="line">x % y   <span class="comment"># 1.0</span></span><br><span class="line">x ** y  <span class="comment"># 25.0</span></span><br><span class="line">-x      <span class="comment"># -5.0</span></span><br><span class="line">+x      <span class="comment"># 5.0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 比较运算 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># float 型支持全部 6 种比较运算：x &gt; y、x &lt; y、x &gt;= y、x &lt;= y、x == y、x != y</span></span><br><span class="line"><span class="number">1.0</span> == <span class="number">1</span>      <span class="comment"># True</span></span><br><span class="line"><span class="number">1.0</span> &lt;  <span class="number">2</span>      <span class="comment"># True</span></span><br><span class="line"><span class="number">1.0</span> &gt;  <span class="number">2</span>      <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 但由于浮点近似，有时看起来应该相等的数不相等：</span></span><br><span class="line">(<span class="number">0.1</span> + <span class="number">0.2</span>) == <span class="number">0.3</span>    <span class="comment"># False</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>float 的附加方法</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- float.from_number() ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 从一个数构造浮点数</span></span><br><span class="line"><span class="comment"># 格式：classmethod float.from_number(x)</span></span><br><span class="line"><span class="comment"># 和 float() 的区别</span></span><br><span class="line"><span class="comment">#   - 对于内置的 int/float，两者效果几乎等价</span></span><br><span class="line"><span class="comment">#   - 不同点在语义和协议顺序上，文档明确说：它是一个从 number 构造 float的类方法，而不是随便从任意对象构造 float</span></span><br><span class="line"><span class="built_in">float</span>.from_number(<span class="number">10</span>)      <span class="comment"># 10.0</span></span><br><span class="line"><span class="built_in">float</span>.from_number(<span class="number">3.5</span>)     <span class="comment"># 3.5</span></span><br><span class="line"><span class="built_in">float</span>.from_number(<span class="literal">True</span>)    <span class="comment"># 1.0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- float.as_integer_ratio() ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 精确的有理数表示</span></span><br><span class="line"><span class="comment"># 返回一对整数 (p, q)，满足 p / q 精确等于原来的 float，且是最简分数，即分子分母没有公约数，分母为正</span></span><br><span class="line">(<span class="number">0.75</span>).as_integer_ratio()   <span class="comment"># (3, 4)</span></span><br><span class="line">(<span class="number">1.1</span>).as_integer_ratio()    <span class="comment"># 比如 (2476979795053773, 2251799813685248) 这样的超长分数</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这一对整数可以直接喂回去重建原来的 float</span></span><br><span class="line">a,b = (<span class="number">1.1</span>).as_integer_ratio()</span><br><span class="line">a / b == <span class="number">1.1</span>                <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- float.is_integer() ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 检查一个 float 是否正好是一个整数值</span></span><br><span class="line">(<span class="number">2.0</span>).is_integer()      <span class="comment"># True</span></span><br><span class="line">(<span class="number">2.5</span>).is_integer()      <span class="comment"># False</span></span><br><span class="line">(-<span class="number">3.0</span>).is_integer()     <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- float.hex() ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 返回浮点数的十六进制的形式的字符串</span></span><br><span class="line"><span class="comment"># 由于 float 是使用二进制保存，因此十六进制表示 float 相比于十进制更精确</span></span><br><span class="line"><span class="comment"># 由于硬件实现机制的不同，在不同平台上细节可能略有差别</span></span><br><span class="line">(<span class="number">0.1</span>).<span class="built_in">hex</span>()      <span class="comment"># &#x27;0x1.999999999999ap-4&#x27;</span></span><br><span class="line">(<span class="number">3740.0</span>).<span class="built_in">hex</span>()   <span class="comment"># &#x27;0x1.d380000000000p+11&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- float.fromhex() ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 从十六进制字符串恢复出来一个 float</span></span><br><span class="line"><span class="comment"># 格式：classmethod float.fromhex(s)</span></span><br><span class="line"><span class="built_in">float</span>.fromhex(<span class="string">&#x27;0x1.d380000000000p+11&#x27;</span>)      <span class="comment"># 3740.0</span></span><br><span class="line"><span class="built_in">float</span>.fromhex(<span class="string">&#x27;   0x1.999999999999ap-4   &#x27;</span>) <span class="comment"># 0.1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># float.hex() 和 float.fromhex() 正好相反</span></span><br><span class="line"><span class="built_in">float</span>.fromhex((<span class="number">1.273</span>).<span class="built_in">hex</span>())      <span class="comment"># 1.274</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：complex-型"><a href="#知识点：complex-型" class="headerlink" title="知识点：complex 型"></a>知识点：complex 型</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 虚数型 complex，是 python 中内置的用来表示复数的类型</span><br><span class="line">  - complex 型具有实部 real part 和虚部 imaginary part，均使用 float 型来进行记录</span><br><span class="line">  - 抽象基类是 numbers.Complex</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>虚数字面量</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 介绍 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 虚数字面量 imaginary literal，是用于表示复数的虚部的常量形式</span></span><br><span class="line"><span class="comment"># Python 默认会将虚数字面量识别为 complex 型</span></span><br><span class="line"><span class="comment"># 格式：(floatnumber | digitpart) (&quot;j&quot; | &quot;J&quot;)</span></span><br><span class="line"><span class="number">2j</span></span><br><span class="line"><span class="number">1.5j</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 常见的复数的表示法，如 1+2j，可以认为在 Python 中本质上是一个表达式</span></span><br><span class="line"><span class="number">3</span>+<span class="number">2j</span></span><br><span class="line"><span class="number">9</span>-<span class="number">0.5j</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 和整数、浮点数一样，虚数字面量同样支持 _ 作为分隔符，但下划线必须出现在数字内部，不能在 j 前后或开头、结尾</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>complex() 函数</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># complex() 函数，python 的内置函数之一，complex 型的构建函数</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     class complex(number=0, /)</span></span><br><span class="line"><span class="comment">#     class complex(string, /)</span></span><br><span class="line"><span class="comment">#     class complex(real=0, imag=0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 str</span></span><br><span class="line"><span class="comment"># 一个表示复数的字符串，要符合 complex literial</span></span><br><span class="line"><span class="comment"># 实部与虚部和加减号之间，不能有空格</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 real</span></span><br><span class="line"><span class="comment"># 表示复数的实部</span></span><br><span class="line"><span class="comment"># 可以是 number</span></span><br><span class="line"><span class="comment"># 可以是 complex</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 imag</span></span><br><span class="line"><span class="comment"># 表示复数的虚部</span></span><br><span class="line"><span class="comment"># 可以是 number</span></span><br><span class="line"><span class="comment"># 可以是 complex</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">complex</span>())        <span class="comment"># 0j</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">complex</span>(<span class="number">3</span>))       <span class="comment"># (3+0j)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">complex</span>(<span class="number">2.5</span>))     <span class="comment"># (2.5+0j)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">complex</span>(<span class="literal">True</span>))    <span class="comment"># (1+0j)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">complex</span>(<span class="number">1</span>+<span class="number">2j</span>))    <span class="comment"># (1+2j)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">complex</span>(<span class="number">3</span>, <span class="number">4</span>))    <span class="comment"># (3+4j)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">complex</span>(-<span class="number">1</span>, <span class="number">0.5</span>)) <span class="comment"># (-1+0.5j)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">complex</span>(<span class="number">0</span>, -<span class="number">2</span>))   <span class="comment"># -2j</span></span><br><span class="line">  </span><br><span class="line">pirnt(<span class="built_in">complex</span>(<span class="string">&#x27; 1+2j &#x27;</span>))        <span class="comment"># (1+2j)</span></span><br><span class="line">pirnt(<span class="built_in">complex</span>(<span class="string">&#x27;1 + 2j&#x27;</span>))        <span class="comment"># ❌，参数为 str 时，加减号左右不允许有空格</span></span><br><span class="line">  </span><br><span class="line">pirnt(<span class="built_in">complex</span>(<span class="number">15</span>+<span class="number">32j</span>, <span class="number">4</span>+<span class="number">17j</span>))   <span class="comment"># (-2+36j)，参数可以是复数，按照 real + imag * j 的方式进行运算</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>属性和方法</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- complex.real ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># complex 型的属性，Data descriptor，返回复数的实部</span></span><br><span class="line">(<span class="number">3</span>+<span class="number">2j</span>).real       <span class="comment"># 3.0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- complex.imag ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># complex 型的属性，Data descriptor，返回复数的虚部</span></span><br><span class="line">(<span class="number">3</span>+<span class="number">2j</span>).imag       <span class="comment"># 2.0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- complex.conjugate() ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 返回复数的的共轭复数</span></span><br><span class="line">(<span class="number">3</span>+<span class="number">2j</span>).conjugate()    <span class="comment"># 3-2j</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>complex 支持的运算</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 算术运算 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># complex 型支持以下算数运算：加法 +、减法 -、乘法 *、真除法 /、幂运算 **、一元正号 +、一元负号 -</span></span><br><span class="line"><span class="comment"># complex 型不支持以下算数运算：地板除 //、取模 %</span></span><br><span class="line"><span class="comment"># complex 型与 int 型或 float 型混合运算，结果仍然是 complex 型</span></span><br><span class="line">z1 = <span class="number">1</span> + <span class="number">2j</span></span><br><span class="line">z2 = <span class="number">3</span> - <span class="number">4j</span></span><br><span class="line">z1 + z2           <span class="comment"># (4-2j)</span></span><br><span class="line">z1 - z2           <span class="comment"># (-2+6j)</span></span><br><span class="line">z1 * z2           <span class="comment"># (11+2j)</span></span><br><span class="line">z1 / z2           <span class="comment"># (-0.2+0.4j)</span></span><br><span class="line">(<span class="number">1</span>+<span class="number">2j</span>) ** <span class="number">2</span>       <span class="comment"># (-3+4j)</span></span><br><span class="line">(<span class="number">1</span>+<span class="number">2j</span>) ** <span class="number">0.5</span>     <span class="comment"># (1.272019649514069+0.7861513777574233j)</span></span><br><span class="line">(<span class="number">1</span>+<span class="number">2j</span>) ** -<span class="number">1</span>      <span class="comment"># (0.2-0.4j)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 比较运算 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># complex 型只支持等值比较运算：==、!=</span></span><br><span class="line"><span class="comment"># complex 型不支持大小比较运算：&lt;、&lt;=、&gt;、&gt;=</span></span><br><span class="line"><span class="comment"># 只有实部和虚部都相等，才算相等</span></span><br><span class="line">(<span class="number">1</span>+<span class="number">2j</span>) == (<span class="number">1</span>+<span class="number">2j</span>)     <span class="comment"># True</span></span><br><span class="line">(<span class="number">1</span>+<span class="number">2j</span>) == (<span class="number">1</span>+<span class="number">3j</span>)     <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># complex 型与 int 或 float 进行比较，会先将 int 或 float 提升为 N + 0j 再进行比较</span></span><br><span class="line">(<span class="number">1</span>+<span class="number">0j</span>) == <span class="number">1</span>          <span class="comment"># True</span></span><br><span class="line">(<span class="number">1</span>+<span class="number">0j</span>) == <span class="number">1.0</span>        <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>complex 支持的内置函数</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- abs() ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># abs() 函数对于 complex 型进行运算，相当于对 complex 型计算复数的模</span></span><br><span class="line"><span class="built_in">abs</span>(<span class="number">3</span> + <span class="number">4j</span>)       <span class="comment"># 5.0。因为 sqrt(3^2 + 4^2) = 5</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- pow() ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># pow() 函数对于 complex 型进行运算，与幂运算符 ** 功能相同</span></span><br><span class="line">(<span class="number">1</span>+<span class="number">2j</span>) ** <span class="number">2</span>       <span class="comment"># (-3+4j)</span></span><br><span class="line"><span class="built_in">pow</span>((<span class="number">1</span>+<span class="number">2j</span>),<span class="number">2</span>)     <span class="comment"># (-3+4j)</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>构造函数 complex()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 介绍 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># complex 型的构造函数，用来将其他数值型或字符串转换为 complex 型</span></span><br><span class="line"><span class="comment"># 魔法方法：object.__complex__(self)</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment"># class complex(number=0, /)</span></span><br><span class="line"><span class="comment"># class complex(string, /)</span></span><br><span class="line"><span class="comment"># class complex(real=0, imag=0)</span></span><br><span class="line"><span class="built_in">complex</span>(<span class="string">&#x27;+1.23&#x27;</span>)                  <span class="comment"># (1.23+0j)</span></span><br><span class="line"><span class="built_in">complex</span>(<span class="string">&#x27;-4.5j&#x27;</span>)                  <span class="comment"># -4.5j</span></span><br><span class="line"><span class="built_in">complex</span>(<span class="string">&#x27;-1.23+4.5j&#x27;</span>)             <span class="comment"># (-1.23+4.5j)</span></span><br><span class="line"><span class="built_in">complex</span>(<span class="string">&#x27;\t( -1.23+4.5J )\n&#x27;</span>)     <span class="comment"># (-1.23+4.5j)</span></span><br><span class="line"><span class="built_in">complex</span>(<span class="string">&#x27;-Infinity+NaNj&#x27;</span>)         <span class="comment"># (-inf+nanj)</span></span><br><span class="line"><span class="built_in">complex</span>(<span class="number">1.23</span>)                     <span class="comment"># (1.23+0j)</span></span><br><span class="line"><span class="built_in">complex</span>(imag=-<span class="number">4.5</span>)                <span class="comment"># -4.5j</span></span><br><span class="line"><span class="built_in">complex</span>(-<span class="number">1.23</span>, <span class="number">4.5</span>)               <span class="comment"># (-1.23+4.5j)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 字符串形式，+ / - / j / J 和数字之间不能有空格</span></span><br><span class="line"><span class="built_in">complex</span>(<span class="string">&#x27;1+2j&#x27;</span>)       <span class="comment"># OK</span></span><br><span class="line"><span class="built_in">complex</span>(<span class="string">&#x27;  1+2j  &#x27;</span>)   <span class="comment"># OK</span></span><br><span class="line"><span class="built_in">complex</span>(<span class="string">&#x27;\n1+2j\t&#x27;</span>)   <span class="comment"># OK</span></span><br><span class="line"><span class="built_in">complex</span>(<span class="string">&#x27;1 + 2j&#x27;</span>)     <span class="comment"># ValueError: invalid complex number</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="2-3-序列型"><a href="#2-3-序列型" class="headerlink" title="2.3 序列型"></a>2.3 序列型</h2><hr>
<h3 id="知识点：可变类型、不可变类型、原地操作"><a href="#知识点：可变类型、不可变类型、原地操作" class="headerlink" title="知识点：可变类型、不可变类型、原地操作"></a>知识点：可变类型、不可变类型、原地操作</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">* 可变类型和不可变类型</span><br><span class="line">  - 可变类型 mutable，是指对象创建之后内部状态还能改的类型</span><br><span class="line">  - 不可变类型 immutable，是指对象一旦创建内容就不能再改的类型</span><br><span class="line">  - 可变支持通过原地操作进行修改</span><br><span class="line">  - 不可变对象是 hashable，可以作为 dict 的 key、set 的元素</span><br><span class="line"></span><br><span class="line">* 原地操作</span><br><span class="line">  - 原地操作 in-place，是指直接修改对象内部内容的操作，不更换对象，也就是说对象的身份 id 不变但对象内部存的东西变了</span><br><span class="line">  - 原地操作的返回值为 None</span><br><span class="line">  - 原地操作只有可变类型才支持</span><br><span class="line">  - 与原地操作相对的，另一种叫做非原地操作 out-of-place，亦即不改原对象而是创建一个新对象并返回，例如 list.sort() 是原地操作而 sorted(list) 是非原地操作</span><br><span class="line"></span><br><span class="line">* 疑似原地操作</span><br><span class="line">  - 扩展赋值运算 &quot;+=&quot;、&quot;-=&quot; 等，对于可变类型和不可变类型具有不同的处理方式</span><br><span class="line">  - 对于不可变类型，&quot;+=&quot; 实际上是产生了一个新对象然后重新绑定名字</span><br><span class="line">  - 对于可变类型，&quot;+=&quot; 通常会调用 object.__iadd__(self, other)，在原列表上 extend，是真原地修改</span><br><span class="line"></span><br><span class="line">* 新对象</span><br><span class="line">  - 如果表达式的计算的结果是一个可变类型的对象，则永远返回一个新建的对象，如 a=[]; b=[] 则 a 和 b 是两个新创建的空列表</span><br><span class="line">  - 如果表达式的计算的结果是不可变类型的对象，则可能调用缓存机制，返回一个已经存在的对象</span><br><span class="line">  - 可变类型参与运算，实际是创建了一个新对象，然后名称指向新对象，如 s = &quot;abc&quot; ; s = s + &#x27;d&#x27; 实际是生成了一个新的字符串对象 &#x27;abcd&#x27;，然后再将名称 s 指向这个新对象，原来的对象 &#x27;abc&#x27; 由于缺乏被引用会被 python 解释器垃圾回收</span><br><span class="line"></span><br><span class="line">* 不可变类型里放可变类型</span><br><span class="line">  - 例如，tuple 中的元素为 list</span><br><span class="line"></span><br><span class="line">* 典型的内置可变类型</span><br><span class="line">  - 序列 list</span><br><span class="line">  - 集合 set</span><br><span class="line">  - 字典 dict</span><br><span class="line"></span><br><span class="line">* 典型的内置不可变类型</span><br><span class="line">  - 数字类型：int、float、complex、bool</span><br><span class="line">  - 文本/序列：str、tuple、bytes、range</span><br><span class="line">  - 集合：frozenset</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>影响</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 可变对象作为参数，函数里改它，外面也会看到变化</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_one</span>(<span class="params">lst</span>):</span></span><br><span class="line">    lst.append(<span class="number">1</span>)   <span class="comment"># 原地修改</span></span><br><span class="line"></span><br><span class="line">a = []</span><br><span class="line">add_one(a)</span><br><span class="line"><span class="built_in">print</span>(a)  <span class="comment"># [1]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 不可变对象作为参数，在函数内部改变量名，不会影响外面</span></span><br><span class="line"><span class="comment"># 这就是很多Python 传参讨论的本质：Python 传入的是对象引用，能不能在外部看到变化，取决于对象本身是否可变以及你在函数里做的是修改对象还是重新绑定变量名</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_one</span>(<span class="params">x</span>):</span></span><br><span class="line">    x = x + <span class="number">1</span>       <span class="comment"># 这里只是让 x 这个名字指向新对象</span></span><br><span class="line"></span><br><span class="line">a = <span class="number">10</span></span><br><span class="line">add_one(a)</span><br><span class="line"><span class="built_in">print</span>(a)  <span class="comment"># 还是 10</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 原地操作的返回值为 None，无法写成链式调用，所以原地操作通常写成单独一行</span></span><br><span class="line"><span class="comment"># 错误写法</span></span><br><span class="line">lst.sort().append(<span class="number">4</span>)   <span class="comment"># 直接炸：&#x27;NoneType&#x27; object has no attribute &#x27;append&#x27;</span></span><br><span class="line"><span class="comment"># 正确写法</span></span><br><span class="line">lst.sort()</span><br><span class="line">lst.append(<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在共享引用时，原地操作会导致意外修改，就会出现我改了 A 结果 B 也变了的情况</span></span><br><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">b = a</span><br><span class="line">a.append(<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(b)    <span class="comment"># [1, 2, 3, 4]</span></span><br><span class="line"><span class="comment"># 解决办法为进行复制</span></span><br><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">b = a.copy()      <span class="comment"># 或 b = a[:] 等</span></span><br><span class="line">a.append(<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(b)          <span class="comment"># [1, 2, 3]，b 不受影响</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：容器类型"><a href="#知识点：容器类型" class="headerlink" title="知识点：容器类型"></a>知识点：容器类型</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 容器类型 container，是指能装多个对象的类型，其中的每一个对象称之为元素 element</span><br><span class="line">  - 抽象基类为 collections.abc.Container</span><br><span class="line"></span><br><span class="line">* 特点</span><br><span class="line">  - 可以装多个对象，但底层保存的是对象引用，不是把对象再拷贝一份进去</span><br><span class="line">  - 支持 len() 函数获得元素的个数</span><br><span class="line">  - 支持 in 运算符进行成因关系运算</span><br><span class="line">  - 支持 for x in obj 对元素进行迭代</span><br><span class="line">  - 只要实现了 object.__contains__(self, item) 方法，就被视为容器</span><br><span class="line"></span><br><span class="line">* Python 内置容器类型</span><br><span class="line">  - 序列类型：list、tuple、str、bytes、bytearray、range</span><br><span class="line">  - 集合类型：set、frozenset</span><br><span class="line">  - 映射类型：dict</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：序列-介绍"><a href="#知识点：序列-介绍" class="headerlink" title="知识点：序列-介绍"></a>知识点：序列-介绍</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 序列 sequence，是指 python 中具有以下特点的容器类型</span><br><span class="line">    - 元素有限 ifinite</span><br><span class="line">    - 有序 ordered</span><br><span class="line">    - 支持通过位置/下标/索引来访问元素</span><br><span class="line">    - 支持 len()、切片、遍历、in 等通用操作</span><br><span class="line">  - 抽象基类为 collections.abc.Sequence</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>内置类型中的序列</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* 基本序列 basic sequence types</span><br><span class="line">  - list</span><br><span class="line">  - tuple</span><br><span class="line">  - range</span><br><span class="line"></span><br><span class="line">* 文本序列 Text Sequence Type</span><br><span class="line">  - str</span><br><span class="line"></span><br><span class="line">* 二进制字节序列 Binary Sequence Types</span><br><span class="line">  - bytes</span><br><span class="line">  - bytearray</span><br><span class="line">  - memoryview</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>可变序列和不可变序列</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* 可变序列 mutable sequences</span><br><span class="line">  - 可以通过原地操作来增删改对象中的元素</span><br><span class="line">  - list</span><br><span class="line">  - bytearray</span><br><span class="line"></span><br><span class="line">* 不可变序列 immutable sequences</span><br><span class="line">  - 对象一旦创建，里面的元素位置就不能改变</span><br><span class="line">  - tuple</span><br><span class="line">  - str</span><br><span class="line">  - bytes</span><br><span class="line">  - range</span><br><span class="line">  - memoryview</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：序列-索引"><a href="#知识点：序列-索引" class="headerlink" title="知识点：序列-索引"></a>知识点：序列-索引</h3><ol start="4">
<li><strong>索引</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 介绍 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 索引 index，就是使用一个整数作为位置编号来标记序列中的元素</span></span><br><span class="line"><span class="comment"># 通过索引，可以从序列中取出或修改某个元素</span></span><br><span class="line"><span class="comment"># Python 所有标准序列 list、tuple、str、range、bytes 等，都支持这种索引操作</span></span><br><span class="line"><span class="comment"># 格式上使用中括号</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   sequence[index]</span></span><br><span class="line">s = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br><span class="line">s[<span class="number">0</span>]  <span class="comment"># &#x27;a&#x27;</span></span><br><span class="line">s[<span class="number">1</span>]  <span class="comment"># &#x27;b&#x27;</span></span><br><span class="line">s[<span class="number">4</span>]  <span class="comment"># &#x27;e&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 正向索引，即使用非负整数 non-negative numbers 来表示索引，即索引为 0、1、2、3...</span></span><br><span class="line"><span class="comment"># 索引的编号从 0 开始，即第一个元素的索引为 0</span></span><br><span class="line"><span class="comment"># 最后一个元素的索引为 len(s)-1</span></span><br><span class="line"><span class="comment"># s[len(s)] 会抛出 IndexError</span></span><br><span class="line"><span class="comment"># 元素  a b c d e</span></span><br><span class="line"><span class="comment"># 索引  0 1 2 3 4</span></span><br><span class="line">s = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br><span class="line">s[<span class="number">0</span>]    <span class="comment"># a</span></span><br><span class="line">s[<span class="number">1</span>]    <span class="comment"># b</span></span><br><span class="line">s[<span class="number">4</span>]    <span class="comment"># e</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 负向索引，即使用负数来表示索引，即索引为 -1、-2、-3...</span></span><br><span class="line"><span class="comment"># 负索引为从后向前取数，即 -1 表示最后一个元素</span></span><br><span class="line"><span class="comment"># 负索引的本质是 s[-k] == s[len(s) - k]</span></span><br><span class="line"><span class="comment"># 元素       a  b  c  d  e</span></span><br><span class="line"><span class="comment"># 正向索引   0  1  2  3  4</span></span><br><span class="line"><span class="comment"># 负向索引  -5 -4 -3 -2 -1</span></span><br><span class="line">s = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br><span class="line">s[-<span class="number">1</span>]    <span class="comment"># e</span></span><br><span class="line">s[-<span class="number">3</span>]    <span class="comment"># c</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># s[-0] 与 s[0] 等价</span></span><br><span class="line">s = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br><span class="line">s[<span class="number">0</span>]    <span class="comment"># a</span></span><br><span class="line">s[-<span class="number">0</span>]   <span class="comment"># a</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 抽取元素 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 通过索引获取序列的元素，即称为抽取元素 subscription</span></span><br><span class="line"><span class="comment"># 返回值为序列中对应的元素所代表的对象</span></span><br><span class="line">r=<span class="built_in">range</span>(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(r[<span class="number">7</span>])       <span class="comment"># 7</span></span><br><span class="line">s=<span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s[<span class="number">6</span>])       <span class="comment"># W</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 通过索引进行赋值 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 对于可变序列如 list，支持使用索引进行赋值，效果为修改其中的某个元素所引用的对象</span></span><br><span class="line"><span class="comment"># 属于原地操作</span></span><br><span class="line"><span class="comment"># 具体见 list 型</span></span><br><span class="line">s = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line">s[<span class="number">1</span>]=<span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(s)              <span class="comment"># [&#x27;a&#x27;, 10, &#x27;c&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 通过索引删除元素 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 对于可变序列如 list，支持使用索引删除序列中的某个元素</span></span><br><span class="line"><span class="comment"># 属于原地操作</span></span><br><span class="line"><span class="comment"># 具体见 list 型</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   del sequence[index]</span></span><br><span class="line">s = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>]</span><br><span class="line"><span class="keyword">del</span> s[<span class="number">3</span>]</span><br><span class="line"><span class="built_in">print</span>(s)              <span class="comment"># [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;e&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：序列-切片"><a href="#知识点：序列-切片" class="headerlink" title="知识点：序列-切片"></a>知识点：序列-切片</h3><ol start="5">
<li><strong>切片</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 切片 slice，是从一个序列里，按照一定的规则&quot;切出&quot;来一段子序列，不会修改原序列，而是返回一个新对象</span></span><br><span class="line"><span class="comment"># 切片仍然是使用索引来标记元素的位置，与单个索引只指定一个位置不同，切片是指定一个索引范围 + 步长</span></span><br><span class="line"><span class="comment"># start 和 stop 用来指定取数的范围，step 用来指定如何取数</span></span><br><span class="line"><span class="comment"># 取数的逻辑相当于 start 每次加上 step，直到 stop 为止</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment"># sequence[:]</span></span><br><span class="line"><span class="comment"># sequence[start:stop]</span></span><br><span class="line"><span class="comment"># sequence[start:stop:step]</span></span><br><span class="line">l = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))     <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"><span class="built_in">print</span>(l[<span class="number">0</span>:<span class="number">3</span>])           <span class="comment"># [0, 1, 2]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># start 用来指定起始索引，返回的结果中包含 start 所代表的元素</span></span><br><span class="line"><span class="comment"># 省略 start，则表示 start 为序列的开始位置</span></span><br><span class="line">l = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))     <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"><span class="built_in">print</span>(l[<span class="number">3</span>])             <span class="comment"># 3</span></span><br><span class="line"><span class="built_in">print</span>(l[<span class="number">3</span>:<span class="number">7</span>])           <span class="comment"># [3, 4, 5, 6]</span></span><br><span class="line"><span class="built_in">print</span>(l[:<span class="number">7</span>])            <span class="comment"># [0, 1, 2, 3, 4, 5, 6]，省略 start</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># stop 用来指定结束索引，返回的结果中不包含 stop 所代表的元素，即切片是左开右闭的</span></span><br><span class="line"><span class="comment"># 因此，如果想要将序列的最后一个元素包含在序列中，则 stop 应当指定为 len(s)，注意序列的最后一个元素的索引为 len(s)-1</span></span><br><span class="line"><span class="comment"># 省略 stop，则表示 stop 为序列的末尾，默认为 len(s)</span></span><br><span class="line">l = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))     <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"><span class="built_in">print</span>(l[<span class="number">3</span>])             <span class="comment"># 3</span></span><br><span class="line"><span class="built_in">print</span>(l[<span class="number">0</span>:<span class="number">3</span>])           <span class="comment"># [0, 1, 2]</span></span><br><span class="line"><span class="built_in">print</span>(l[<span class="number">3</span>:])            <span class="comment"># [3, 4, 5, 6, 7, 8, 9]，省略 stop</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># start 和 stop 也可以使用负整数，规则与负整数索引相同</span></span><br><span class="line">l = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))     <span class="comment">#  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line">                        <span class="comment">#   0  1  2  3  4  5  6  7  8  9   正数索引</span></span><br><span class="line">                        <span class="comment"># -10 -9 -8 -7 -6 -5 -4 -3 -2  -1  负数索引</span></span><br><span class="line"><span class="built_in">print</span>(l[<span class="number">3</span>:<span class="number">7</span>])           <span class="comment"># [3, 4, 5, 6]</span></span><br><span class="line"><span class="built_in">print</span>(l[-<span class="number">7</span>:-<span class="number">3</span>])         <span class="comment"># [3, 4, 5, 6]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># step 用来表示步长，如果省略默认步长为 1</span></span><br><span class="line">l = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))     <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"><span class="built_in">print</span>(l[<span class="number">3</span>:<span class="number">8</span>])           <span class="comment"># [3, 4, 5, 6, 7]</span></span><br><span class="line"><span class="built_in">print</span>(l[<span class="number">3</span>:<span class="number">8</span>:<span class="number">2</span>])         <span class="comment"># [3, 5, 7]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># step 可以为正整数，也可以为负整数</span></span><br><span class="line"><span class="comment"># 步长的正负决定了取数的方向，正数为从前向后取数，负数为从后向前取数</span></span><br><span class="line"><span class="comment"># 取数的逻辑相当于 start 每次减去 step，直到 stop 为止</span></span><br><span class="line">l = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))     <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"><span class="built_in">print</span>(l[<span class="number">3</span>:<span class="number">8</span>:<span class="number">2</span>])         <span class="comment"># [3, 5, 7]</span></span><br><span class="line"><span class="built_in">print</span>(l[<span class="number">8</span>:<span class="number">3</span>:-<span class="number">2</span>])        <span class="comment"># [8, 6, 4]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># step 的正负也会决定 start 和 stop 的默认位置</span></span><br><span class="line"><span class="comment"># step 为正时，start 默认为序列的开始，stop 默认为序列的末尾</span></span><br><span class="line"><span class="comment"># step 为负时，start 默认为序列的末尾，stop 默认为序列的开始</span></span><br><span class="line">l = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))     <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"><span class="built_in">print</span>(l[<span class="number">3</span>::<span class="number">2</span>])          <span class="comment"># [3, 5, 7, 9]</span></span><br><span class="line"><span class="built_in">print</span>(l[<span class="number">3</span>::-<span class="number">2</span>])         <span class="comment"># [3, 1]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Python 会自动裁剪在合法范围内进行裁剪，如果如果无法取出数，不会抛出异常，返回的是空序列，称为切片越界</span></span><br><span class="line">l = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))     <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"><span class="built_in">print</span>(l[<span class="number">3</span>:<span class="number">8</span>:<span class="number">2</span>])         <span class="comment"># [3, 5, 7]</span></span><br><span class="line"><span class="built_in">print</span>(l[<span class="number">3</span>:<span class="number">8</span>:-<span class="number">2</span>])        <span class="comment"># []，从后向前取数，但 3 索引在 8 索引之前，因此无法取数，因此返回空序列</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># sequence[:] 返回的是与原始序列相同的新序列</span></span><br><span class="line">l = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))     <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"><span class="built_in">print</span>(l[:])             <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># sequence[::-1] 返回的是与原始的逆序新序列</span></span><br><span class="line">l = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))     <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"><span class="built_in">print</span>(l[::-<span class="number">1</span>])          <span class="comment"># [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 切片获得的是序列的 shallow copy，即切片会创建一个新序列对象，不会递归新建序列内部的元素</span></span><br><span class="line"><span class="comment"># 即，切片只是复制外层容器</span></span><br><span class="line">lst = [[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>]]</span><br><span class="line">sub = lst[:]</span><br><span class="line"><span class="built_in">print</span>(lst <span class="keyword">is</span> sub)             <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(lst[<span class="number">0</span>] <span class="keyword">is</span> sub[<span class="number">0</span>])       <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：序列-切片赋值"><a href="#知识点：序列-切片赋值" class="headerlink" title="知识点：序列-切片赋值"></a>知识点：序列-切片赋值</h3><ol start="6">
<li><strong>切片赋值</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 对于可变序列如 list，可以通过切片进行赋值，来批量修改、删除序列中的元素</span></span><br><span class="line"><span class="comment"># 切片赋值属于原地操作</span></span><br><span class="line"><span class="comment"># 使用右侧 iterable 迭代出来的元素去替换左侧切片 [i:j] 那一段</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   list[i:j]=iterable</span></span><br><span class="line"><span class="comment">#   list[i:j:k]=iterable</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 切片的赋值，等号右边必须是一个 iterable，但不限定类型，可以是 list、tuple、str 等</span></span><br><span class="line">lst = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))     <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"><span class="built_in">print</span>(lst[<span class="number">3</span>:<span class="number">8</span>])           <span class="comment"># [3, 4, 5, 6, 7]</span></span><br><span class="line">lst[<span class="number">3</span>:<span class="number">8</span>]=<span class="string">&#x27;a&#x27;</span>              <span class="comment"># 等号右边必须是一个 iterable</span></span><br><span class="line"><span class="built_in">print</span>(lst)                <span class="comment"># [0, 1, 2, &#x27;a&#x27;, 8, 9]</span></span><br><span class="line">lst[<span class="number">0</span>:<span class="number">3</span>]=<span class="number">12</span>               <span class="comment"># ❌，TypeError，等号右边必须是一个 iterable</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果切片不带 step，其在原始 list 中的位置为一段连续的序列，此时等号右边可以指定任意长度的 list，如空 list []、只有一个元素的list、有多个元素的 list 等</span></span><br><span class="line"><span class="comment"># 赋值的结果为将等号右边的 list 替换掉原始 list 中的切片的位置</span></span><br><span class="line">lst01 = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))     <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line">lst02 = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))     <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line">lst03 = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))     <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line">lst01[<span class="number">3</span>:<span class="number">8</span>]=()</span><br><span class="line">lst02[<span class="number">3</span>:<span class="number">8</span>]=[<span class="string">&#x27;a&#x27;</span>]</span><br><span class="line">lst03[<span class="number">3</span>:<span class="number">8</span>]=<span class="string">&#x27;abcdefg&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(lst01)                <span class="comment"># [0, 1, 2, 8, 9]</span></span><br><span class="line"><span class="built_in">print</span>(lst02)                <span class="comment"># [0, 1, 2, &#x27;a&#x27;, 8, 9]</span></span><br><span class="line"><span class="built_in">print</span>(lst03)                <span class="comment"># [0, 1, 2, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;, &#x27;f&#x27;, &#x27;g&#x27;, 8, 9]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果切片带 step，则通常情况下切片在 list 中是不连续的，因此 Python 要求在进行赋值时，等号右边的序列的元素的个数必须与切片的元素的个数相同，即使 step 为 1</span></span><br><span class="line"><span class="comment"># 因此 python 中不带 step 的切片称为普通切片，带 step 的切片称为 扩展切片 extended slice</span></span><br><span class="line">lst = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))       <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"><span class="built_in">print</span>(lst[<span class="number">3</span>:<span class="number">8</span>])             <span class="comment"># [3, 4, 5, 6, 7]</span></span><br><span class="line">lst[<span class="number">3</span>:<span class="number">8</span>:<span class="number">1</span>]=()               <span class="comment"># 报错</span></span><br><span class="line">lst[<span class="number">3</span>:<span class="number">8</span>:<span class="number">1</span>]=[<span class="string">&#x27;a&#x27;</span>]            <span class="comment"># 报错</span></span><br><span class="line">lst[<span class="number">3</span>:<span class="number">8</span>:<span class="number">1</span>]=<span class="string">&#x27;abcdefg&#x27;</span>        <span class="comment"># 报错</span></span><br><span class="line">lst[<span class="number">3</span>:<span class="number">8</span>:<span class="number">1</span>]=<span class="string">&#x27;abcde&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(lst)                  <span class="comment"># [0, 1, 2, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;, 8, 9]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 切片也可以用来删除 list 中的元素，使用 del 语句</span></span><br><span class="line">lst01 = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))       <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line">lst02 = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))       <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"><span class="built_in">print</span>(lst01[<span class="number">3</span>:<span class="number">8</span>])             <span class="comment"># [3, 4, 5, 6, 7]</span></span><br><span class="line"><span class="built_in">print</span>(lst02[<span class="number">3</span>:<span class="number">8</span>:<span class="number">2</span>])           <span class="comment"># [3, 5, 7]</span></span><br><span class="line"><span class="keyword">del</span> lst01[<span class="number">3</span>:<span class="number">8</span>]</span><br><span class="line"><span class="keyword">del</span> lst02[<span class="number">3</span>:<span class="number">8</span>:<span class="number">2</span>]</span><br><span class="line"><span class="built_in">print</span>(lst01)                  <span class="comment"># [0, 1, 2, 8, 9]</span></span><br><span class="line"><span class="built_in">print</span>(lst02)                  <span class="comment"># [0, 1, 2, 4, 6, 8, 9]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 切片赋值的一个常用用法，使用空切片实现插入</span></span><br><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">lst[<span class="number">1</span>:<span class="number">1</span>] = [<span class="number">10</span>, <span class="number">20</span>]   <span class="comment"># lst[1:1] 得到的结果是一个空切片</span></span><br><span class="line"><span class="built_in">print</span>(lst)            <span class="comment"># [1, 10, 20, 2, 3]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 切片赋值的一个常用用法，通过赋值空序列来删除 list 中的元素</span></span><br><span class="line"><span class="comment"># 当右侧是空序列时，相当于用零个元素替换这段，也就是把这段删掉</span></span><br><span class="line"><span class="comment"># 只支持连续切片即 lst[i:j] 的形式，不支持扩展切片 lst[i:j:k] 的形式</span></span><br><span class="line">lst=<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))   <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line">lst[<span class="number">3</span>:<span class="number">8</span>]=[]           <span class="comment"># 删除掉 [3, 4, 5, 6, 7] 部分</span></span><br><span class="line"><span class="built_in">print</span>(lst)            <span class="comment"># [0, 1, 2, 7, 8, 9]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 当切片发生越界时，不会抛出异常，而是会尽最大努力完成赋值操作</span></span><br><span class="line"><span class="comment"># 只针对连续切片有效，对于带步长的切片不要去研究，步长不一样结果不一样</span></span><br><span class="line">lst01=<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line">lst01[<span class="number">12</span>:<span class="number">15</span>]=[<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>]</span><br><span class="line"><span class="built_in">print</span>(lst01)            <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 3, 3, 3]</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：序列-序列拼接"><a href="#知识点：序列-序列拼接" class="headerlink" title="知识点：序列-序列拼接"></a>知识点：序列-序列拼接</h3><ol start="7">
<li><strong>序列拼接 concatenation</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Python 的序列支持加法运算，运算的作用就是将两个序列拼接成一个序列</span></span><br><span class="line"><span class="comment"># list、tuple、str、byte、bytearray 支持序列拼接运算</span></span><br><span class="line"><span class="comment"># range 不支持序列拼接运行</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   sequence_1 + sequence_2</span></span><br><span class="line">a=<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line">b=a+[<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>]</span><br><span class="line"><span class="built_in">print</span>(b)              <span class="comment"># [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 序列拼接，返回的是一个新的对象</span></span><br><span class="line">a=<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line">b=a+[<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(a))    <span class="comment"># 2078017334080</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(b))    <span class="comment"># 2078011225408</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 序列拼接，只能相同类型的序列进行拼接，如 list + list，str + str，tuple + tuple</span></span><br><span class="line"><span class="comment"># 不支持如 list + str、list + tuple，也不支持如 list + int</span></span><br><span class="line">a=<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line">b=a+(<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>)      <span class="comment"># ❌ 抛出 TypeError 异常</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 序列也支持 += 运算符，效果也是拼接</span></span><br><span class="line"><span class="comment"># 与 + 不同：</span></span><br><span class="line"><span class="comment">#   对于可变序列如 list，+= 的作用是在原有对象末尾追加，是一个原地操作</span></span><br><span class="line"><span class="comment">#   对于不可变序列如 str、tuple，+= 的作用是返回一个新对象</span></span><br><span class="line">a=<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line">b=<span class="built_in">tuple</span>(<span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(a),<span class="built_in">id</span>(b))    <span class="comment"># 2059800099712 2059799691968</span></span><br><span class="line">a+=[<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>]</span><br><span class="line">b+=(<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(a),<span class="built_in">id</span>(b))    <span class="comment"># 2059800099712 2059799759104，list 的对象 id 没变，tuple 的对象 id 变了</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：序列-序列倍乘"><a href="#知识点：序列-序列倍乘" class="headerlink" title="知识点：序列-序列倍乘"></a>知识点：序列-序列倍乘</h3><ol start="8">
<li><strong>序列倍乘 repetition</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Python 的序列支持与整数进行乘法运算，运算的作用是对序列进行倍增</span></span><br><span class="line"><span class="comment"># list、tuple、str、byte、bytearray 支持序列倍乘运算</span></span><br><span class="line"><span class="comment"># range 不支持序列倍乘运行</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   sequence * n</span></span><br><span class="line"><span class="comment">#   n * sequence</span></span><br><span class="line">a=<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">5</span>))</span><br><span class="line">b=a*<span class="number">3</span></span><br><span class="line"><span class="built_in">print</span>(a)            <span class="comment"># [0, 1, 2, 3, 4]</span></span><br><span class="line"><span class="built_in">print</span>(b)            <span class="comment"># [0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 0, 1, 2, 3, 4]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 与序列加法相同，序列倍乘也是返回一个新的对象</span></span><br><span class="line">a=<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">5</span>))</span><br><span class="line">b=a*<span class="number">3</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(a))              <span class="comment"># 2008105691968</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(b))              <span class="comment"># 2008104993536</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># n 如果小于等于 0，则结果为一个空序列</span></span><br><span class="line">a=<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">5</span>))</span><br><span class="line">b=a*<span class="number">0</span></span><br><span class="line">c=a*(-<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(b)              <span class="comment"># []</span></span><br><span class="line"><span class="built_in">print</span>(c)              <span class="comment"># []</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 经典坑：嵌套列表会复制同一个内层列表引用</span></span><br><span class="line">m=[[<span class="number">0</span>] * <span class="number">3</span>] * <span class="number">2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(m[<span class="number">0</span>])==<span class="built_in">id</span>(m[<span class="number">1</span>]))   <span class="comment"># True，序列倍乘复制的实际上是对对象的引用</span></span><br><span class="line">m[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">99</span></span><br><span class="line"><span class="built_in">print</span>(m)                    <span class="comment"># [[99, 0, 0], [99, 0, 0]]，如果修改子对象，则两行一起变</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 序列也支持 *= 运算符，效果也是倍乘</span></span><br><span class="line"><span class="comment"># 与 + 不同：</span></span><br><span class="line"><span class="comment">#   对于可变序列如 list，*= 的作用是在原有对象末尾追加，是一个原地操作</span></span><br><span class="line"><span class="comment">#   对于不可变序列如 str、tuple，*= 的作用是返回一个新对象</span></span><br><span class="line">a=<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">3</span>))</span><br><span class="line">b=<span class="built_in">tuple</span>(<span class="built_in">range</span>(<span class="number">3</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(a),<span class="built_in">id</span>(b))    <span class="comment"># 1599396326208 1599395943168</span></span><br><span class="line">a*=<span class="number">3</span></span><br><span class="line">b*=<span class="number">3</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(a),<span class="built_in">id</span>(b))    <span class="comment"># 1599396326208 1599395922752，list 的对象 id 没变，tuple 的对象 id 变了</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：序列-序列比较"><a href="#知识点：序列-序列比较" class="headerlink" title="知识点：序列-序列比较"></a>知识点：序列-序列比较</h3><ol start="9">
<li><strong>序列比较</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 相等比较 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 任意两个序列之间都支持进行相等比较，即 == 和 !=</span></span><br><span class="line"><span class="comment"># 比较方式为，对比两个序列是否完全一样，即每个对应元素都进行相等比较</span></span><br><span class="line"><span class="comment"># 相等的两个序列，序列类型相同，元素的个数相同，每个对应的元素都相同，每个对应的元素的类型也相同</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>] == [<span class="number">1</span>, <span class="number">2</span>]      <span class="comment"># True</span></span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>) == (<span class="number">1</span>, <span class="number">2</span>)      <span class="comment"># True</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>] == [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]   <span class="comment"># False ，元素个数不同</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>] == [<span class="number">1</span>, <span class="number">2</span>]      <span class="comment"># False ，元素的值不同</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>] == [<span class="number">1</span>, <span class="string">&#x27;2&#x27;</span>]    <span class="comment"># False ，元素类型不同</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>] == (<span class="number">1</span>, <span class="number">2</span>)      <span class="comment"># False ，序列类型不同</span></span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>] == <span class="built_in">range</span>(<span class="number">3</span>) <span class="comment"># False ，序列类型不同，但 range 支持进行相等比较</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 大小比较 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 相同类型的序列之间支持进行大小比较，即 &gt;、&gt;=、&lt;、&lt;=</span></span><br><span class="line"><span class="comment"># 不同类型的序列之间进行大小比较会抛出 TypeError</span></span><br><span class="line"><span class="comment"># 序列之间的大小比较的运算规则参考字典序 lexicographical ordering：</span></span><br><span class="line"><span class="comment">#   先比较对应第一个元素</span></span><br><span class="line"><span class="comment">#   如果相等则在比较下一个元素</span></span><br><span class="line"><span class="comment">#   从第 0 个元素开始逐个比，遇到第一个不相等的元素就用它们的大小决定结果</span></span><br><span class="line"><span class="comment">#   如果一路都相等但序列的长度不同，则短的序列更小</span></span><br><span class="line"><span class="comment">#   两个序列的对应元素应当支持进行大小比较，否则会抛出 TypeError</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] &lt; [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>]       <span class="comment"># True</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>] &lt; [<span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>]          <span class="comment"># True，短的序列更小</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">9</span>] &lt; [<span class="number">2</span>, <span class="number">0</span>]             <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>] &lt; (<span class="number">1</span>, <span class="number">2</span>)             <span class="comment"># ❌ TypeError 不同类型的序列不能进行大小比较</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>] &lt; [<span class="number">1</span>, <span class="string">&#x27;2&#x27;</span>]           <span class="comment"># ❌ TypeError 元素类型之间不支持进行大小比较</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>] &lt; [<span class="number">1</span>, <span class="number">2.5</span>]           <span class="comment"># True，元素类型不同但相互之间可以进行大小比较</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：序列-成员检查"><a href="#知识点：序列-成员检查" class="headerlink" title="知识点：序列-成员检查"></a>知识点：序列-成员检查</h3><ol start="10">
<li><strong>成员检查 containment test</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python 中所有的序列均支持进行成员检查，用来检查某个对象是否存在于序列中</span></span><br><span class="line"><span class="comment"># not in 相当于对 in 运算的结果进行取反，即 x not in sequence 等价于 not (x in sequence)</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   x in sequence</span></span><br><span class="line"><span class="comment">#   x not in sequence</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]      <span class="comment"># True</span></span><br><span class="line"><span class="string">&#x27;a&#x27;</span> <span class="keyword">in</span> <span class="string">&#x27;cat&#x27;</span>        <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对于不同的序列类型，成员检查的运算规则也不相同</span></span><br><span class="line"><span class="comment"># list、tuble 型，是检查对象是否是 list/tuple 中的一个元素，方式为将对象与 list/tuple 中的每一个元素进行相等比较运算 ==</span></span><br><span class="line"><span class="comment"># 时间复杂度为 O(n)</span></span><br><span class="line"><span class="comment"># 空 list、空 tuple 会被当做一个元素进行检查</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]            <span class="comment"># True</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]            <span class="comment"># False</span></span><br><span class="line"><span class="string">&#x27;1&#x27;</span> <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]          <span class="comment"># False，元素类型不一致</span></span><br><span class="line">[] <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]           <span class="comment"># False</span></span><br><span class="line">[] <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, []]       <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># str 型，是进行子字符串搜索，检查对象是否是 str 中的连续子串</span></span><br><span class="line"><span class="comment"># 检查的必须也是一个 str 型，否则会抛出 TypeError</span></span><br><span class="line"><span class="comment"># 空字符串对任何 str 型进行成员检查，结果都是 True</span></span><br><span class="line"><span class="string">&#x27;a&#x27;</span> <span class="keyword">in</span> <span class="string">&#x27;cat&#x27;</span>              <span class="comment"># True</span></span><br><span class="line"><span class="string">&#x27;at&#x27;</span> <span class="keyword">in</span> <span class="string">&#x27;cat&#x27;</span>             <span class="comment"># True</span></span><br><span class="line"><span class="string">&#x27;xx&#x27;</span> <span class="keyword">in</span> <span class="string">&#x27;cat&#x27;</span>             <span class="comment"># False</span></span><br><span class="line"><span class="string">&#x27;ta&#x27;</span> <span class="keyword">in</span> <span class="string">&#x27;cat&#x27;</span>             <span class="comment"># False，不连续</span></span><br><span class="line"><span class="string">&#x27;&#x27;</span> <span class="keyword">in</span> <span class="string">&#x27;cat&#x27;</span>               <span class="comment"># True，空字符串</span></span><br><span class="line"><span class="string">&#x27;&#x27;</span> <span class="keyword">in</span> <span class="string">&#x27;&#x27;</span>                  <span class="comment"># True</span></span><br><span class="line"><span class="string">&#x27;Hello&#x27;</span> <span class="keyword">in</span> <span class="string">&#x27;Hello World!&#x27;</span> <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># range 型，是进行数学意义上的区间检查</span></span><br><span class="line"><span class="comment"># 即，检查 start &lt;= x &lt; stop，检查 (x - start) % step == 0</span></span><br><span class="line"><span class="comment"># 因此 range 型的成员检查速度非常快，时间复杂度为 O(1)</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">10</span>)         <span class="comment"># True</span></span><br><span class="line"><span class="number">10</span> <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">10</span>)        <span class="comment"># False</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">10</span>, <span class="number">2</span>)      <span class="comment"># True</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">10</span>, <span class="number">2</span>)      <span class="comment"># False</span></span><br><span class="line"><span class="number">3.0</span> <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">5</span>)        <span class="comment"># False，只接受 int</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># bytes       子字节串检查</span></span><br><span class="line"><span class="comment"># bytearray   子字节串检查</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：序列-序列解包"><a href="#知识点：序列-序列解包" class="headerlink" title="知识点：序列-序列解包"></a>知识点：序列-序列解包</h3><ol start="11">
<li><strong>序列解包 sequence unpacking</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 序列解包 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 序列解包，就是把一个序列里的多个元素一次性赋值给多个变量</span></span><br><span class="line"><span class="comment"># 等号左边是多个变量，等号右边是一个序列对象，按顺序一一对应赋值</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   target, target, target = sequence</span></span><br><span class="line">a, b, c = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="comment"># 等价于：</span></span><br><span class="line">a = <span class="number">1</span></span><br><span class="line">b = <span class="number">2</span></span><br><span class="line">c = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 等号左边的变量的数量，必须与序列的长度相等</span></span><br><span class="line">l=<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">3</span>))</span><br><span class="line">a,b,c=l             <span class="comment"># 成功</span></span><br><span class="line">x,y=l               <span class="comment"># ❌ ValueError</span></span><br><span class="line">v01,v02,v03,v04=l   <span class="comment"># ❌ ValueError</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 序列解包本质上是多重赋值 multiple assignment 的一种形式，实际上可迭代对象都支持多重赋值</span></span><br><span class="line">d=&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>,<span class="string">&#x27;b&#x27;</span>:<span class="number">2</span>,<span class="string">&#x27;c&#x27;</span>:<span class="number">3</span>&#125;</span><br><span class="line">a,b,c=d.items()</span><br><span class="line"><span class="built_in">print</span>(a)        <span class="comment"># (&#x27;a&#x27;, 1)</span></span><br><span class="line"><span class="built_in">print</span>(b)        <span class="comment"># (&#x27;b&#x27;, 2)</span></span><br><span class="line"><span class="built_in">print</span>(c)        <span class="comment"># (&#x27;c&#x27;, 3)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 嵌套序列解包 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 嵌套序列解包是指，等号左边的变量的结构本身也是嵌套的</span></span><br><span class="line"><span class="comment"># Python 会按照这个结构，递归地对右侧可迭代对象进行解包</span></span><br><span class="line">(a, b), c = ((<span class="number">1</span>, <span class="number">2</span>), <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 嵌套序列解包的核心规则是等号左边的嵌套结构必须与等号邮编的嵌套结构完全匹配</span></span><br><span class="line">a, b = (<span class="number">1</span>, (<span class="number">2</span>, <span class="number">3</span>))        <span class="comment"># ❌ 错误，原因：左边期望 2 个原子值，右边第二个值是一个可迭代对象</span></span><br><span class="line">a, (b, _) = (<span class="number">1</span>, (<span class="number">2</span>, <span class="number">3</span>))   <span class="comment"># 正确写法，其中变量 &#x27;_&#x27; 是 python 的一个常用写法，约定俗成表示我不关心</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 解包只看可迭代性，不看具体类型</span></span><br><span class="line">[a, b], (c, d) = ([<span class="number">1</span>, <span class="number">2</span>], (<span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line">(a, b), [c, d] = [(<span class="number">1</span>, <span class="number">2</span>), [<span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 扩展序列解包 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 扩展序列解包是 python3 引入的新特性，功能为在赋值解包时，允许使用一个带 * 的变量，来一次性接收不定数量的元素</span></span><br><span class="line"><span class="comment"># python 会把这些不定数量的元素放到一个 list 中</span></span><br><span class="line"><span class="comment"># 核心作用，打破序列解包时左右元素数量必须完全相等的限制</span></span><br><span class="line">a, *b = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">a == <span class="number">1</span></span><br><span class="line">b == [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># * 接收的是剩余的所有元素</span></span><br><span class="line"><span class="comment"># 可以放在开头，也可以放在中间，也可以放在末尾</span></span><br><span class="line">a, *b, c = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">a == <span class="number">1</span></span><br><span class="line">b == [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">c == <span class="number">5</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 每一层只能有一个 *</span></span><br><span class="line">a, *b, *c = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]   <span class="comment"># ❌ 语法错误</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># * 绑定的变量的结果一定是 list，不管等号右侧的序列是什么类型的</span></span><br><span class="line">*a, b = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="built_in">type</span>(a)             <span class="comment"># list</span></span><br><span class="line">d=&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>,<span class="string">&#x27;b&#x27;</span>:<span class="number">2</span>,<span class="string">&#x27;c&#x27;</span>:<span class="number">3</span>,<span class="string">&#x27;d&#x27;</span>:<span class="number">4</span>,<span class="string">&#x27;e&#x27;</span>:<span class="number">5</span>&#125;</span><br><span class="line">a,*b,c=d.items()    <span class="comment">#</span></span><br><span class="line"><span class="built_in">print</span>(a)            <span class="comment"># (&#x27;a&#x27;, 1)</span></span><br><span class="line"><span class="built_in">print</span>(b)            <span class="comment"># [(&#x27;b&#x27;, 2), (&#x27;c&#x27;, 3), (&#x27;d&#x27;, 4)]</span></span><br><span class="line"><span class="built_in">print</span>(c)            <span class="comment"># (&#x27;e&#x27;, 5)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 非 * 的变量依然需要最少的元素</span></span><br><span class="line">a, *b, c, d = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]     <span class="comment"># ❌ ValueError: not enough values to unpack</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># * 变量为空是合法的，此时 * 变量的结果为空 list</span></span><br><span class="line">a, *b, c = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">b == []</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以省略别的变量，即在解包时只有一个 * 变量</span></span><br><span class="line">d=&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>,<span class="string">&#x27;b&#x27;</span>:<span class="number">2</span>,<span class="string">&#x27;c&#x27;</span>:<span class="number">3</span>,<span class="string">&#x27;d&#x27;</span>:<span class="number">4</span>,<span class="string">&#x27;e&#x27;</span>:<span class="number">5</span>&#125;</span><br><span class="line">*b,=d.items()</span><br><span class="line"><span class="built_in">print</span>(b)          <span class="comment"># [(&#x27;a&#x27;, 1), (&#x27;b&#x27;, 2), (&#x27;c&#x27;, 3), (&#x27;d&#x27;, 4), (&#x27;e&#x27;, 5)]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 嵌套序列解包 + 扩展解包，这是实战中非常常见的组合</span></span><br><span class="line">(a, *b), c = ([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], <span class="number">5</span>)    <span class="comment"># 在嵌套内部使用 *</span></span><br><span class="line">a == <span class="number">1</span></span><br><span class="line">b == [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">c == <span class="number">5</span></span><br><span class="line"></span><br><span class="line">a, (*b, c) = [<span class="number">1</span>, (<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)]    <span class="comment"># 多层嵌套 + *</span></span><br><span class="line">a == <span class="number">1</span></span><br><span class="line">b == [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">c == <span class="number">5</span></span><br><span class="line"></span><br><span class="line">_, (x, y, *_), _ = data           <span class="comment"># 使用约定变量 &#x27;_&#x27; 吃掉不关心的部分</span></span><br><span class="line">(name, age), *_ = users</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 实际应用</span></span><br><span class="line">first, *_ = data      <span class="comment"># 忽略掉不关心的部分</span></span><br><span class="line">_, *_, last = seq</span><br><span class="line"></span><br><span class="line">head, *tail = seq     <span class="comment"># 取头/尾”</span></span><br><span class="line">*body, tail = seq</span><br><span class="line"></span><br><span class="line">name, *scores = record    <span class="comment"># 拆解不定长记录</span></span><br><span class="line"></span><br><span class="line">cmd, *args = <span class="built_in">input</span>().split()    <span class="comment"># 安全解包外部数据</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- for 循环 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 序列解包在 for 循环中的使用频率非常高</span></span><br><span class="line"><span class="comment"># for 循环的语句 for target in iterable 这一步，本身就支持序列解包</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 遍历成对数据</span></span><br><span class="line">pairs = [(<span class="number">1</span>, <span class="string">&#x27;a&#x27;</span>), (<span class="number">2</span>, <span class="string">&#x27;b&#x27;</span>), (<span class="number">3</span>, <span class="string">&#x27;c&#x27;</span>)]</span><br><span class="line"><span class="keyword">for</span> x, y <span class="keyword">in</span> pairs:</span><br><span class="line">    <span class="built_in">print</span>(x, y)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 三元解包</span></span><br><span class="line">records = [</span><br><span class="line">    (<span class="string">&#x27;alice&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;F&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;bob&#x27;</span>,   <span class="number">22</span>, <span class="string">&#x27;M&#x27;</span>),</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name, age, gender <span class="keyword">in</span> records:</span><br><span class="line">    <span class="built_in">print</span>(name, age)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 遍历 dict.items()</span></span><br><span class="line"><span class="comment"># 这是对 dict 对象进行迭代的最经典用法，胜过单独遍历 dict.keys() 和 dict.values()</span></span><br><span class="line">d=&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>,<span class="string">&#x27;b&#x27;</span>:<span class="number">2</span>,<span class="string">&#x27;c&#x27;</span>:<span class="number">3</span>,<span class="string">&#x27;d&#x27;</span>:<span class="number">4</span>,<span class="string">&#x27;e&#x27;</span>:<span class="number">5</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> key, value <span class="keyword">in</span> d.items():        <span class="comment"># 遍历 dict.items()</span></span><br><span class="line">    <span class="built_in">print</span>(key, value)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 嵌套序列解包</span></span><br><span class="line">users = [</span><br><span class="line">    (<span class="string">&#x27;alice&#x27;</span>, (<span class="number">20</span>, <span class="string">&#x27;F&#x27;</span>)),</span><br><span class="line">    (<span class="string">&#x27;bob&#x27;</span>,   (<span class="number">22</span>, <span class="string">&#x27;M&#x27;</span>)),</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name, (age, gender) <span class="keyword">in</span> users:</span><br><span class="line">    <span class="built_in">print</span>(name, age, gender)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用扩展序列解包接收变长数据</span></span><br><span class="line">records = [</span><br><span class="line">    (<span class="string">&#x27;cmd1&#x27;</span>, <span class="string">&#x27;arg1&#x27;</span>, <span class="string">&#x27;arg2&#x27;</span>, <span class="string">&#x27;arg3&#x27;</span>),</span><br><span class="line">    (<span class="string">&#x27;cmd2&#x27;</span>, <span class="string">&#x27;arg4&#x27;</span>, <span class="string">&#x27;arg5&#x27;</span>),</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> cmd, *args <span class="keyword">in</span> records:</span><br><span class="line">    <span class="built_in">print</span>(cmd, args)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># enumerate + 解包</span></span><br><span class="line">items = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> index, value <span class="keyword">in</span> <span class="built_in">enumerate</span>(items):</span><br><span class="line">    <span class="built_in">print</span>(index, value)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># zip + 解包</span></span><br><span class="line">names = [<span class="string">&#x27;alice&#x27;</span>, <span class="string">&#x27;bob&#x27;</span>]</span><br><span class="line">ages  = [<span class="number">20</span>, <span class="number">22</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name, age <span class="keyword">in</span> <span class="built_in">zip</span>(names, ages):</span><br><span class="line">    <span class="built_in">print</span>(name, age)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># zip + 嵌套解包</span></span><br><span class="line">data = <span class="built_in">zip</span>(</span><br><span class="line">    [(<span class="string">&#x27;a&#x27;</span>, <span class="number">1</span>), (<span class="string">&#x27;b&#x27;</span>, <span class="number">2</span>)],</span><br><span class="line">    [<span class="number">100</span>, <span class="number">200</span>] )</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (k, v), score <span class="keyword">in</span> data:</span><br><span class="line">    <span class="built_in">print</span>(k, v, score)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：序列-sequence-count"><a href="#知识点：序列-sequence-count" class="headerlink" title="知识点：序列-sequence.count()"></a>知识点：序列-sequence.count()</h3><ol start="12">
<li><strong>sequence.count()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># sequence.count() 是所有序列类型都支持的一个常用方法，用来统计某个元素在序列中出现的次数</span></span><br><span class="line"><span class="comment"># 如果没有出现则返回 0，不会抛异常</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   sequence.count(x)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># list.count()</span></span><br><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>]</span><br><span class="line">lst.count(<span class="number">2</span>)     <span class="comment"># 3</span></span><br><span class="line">lst.count(<span class="number">5</span>)     <span class="comment"># 0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># tuple.count()</span></span><br><span class="line">t = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">t.count(<span class="number">2</span>)       <span class="comment"># 3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># str.count()</span></span><br><span class="line"><span class="comment"># 字符串的 count 支持子串，而不是“字符序列意义上的元素”。</span></span><br><span class="line">s = <span class="string">&quot;banana&quot;</span></span><br><span class="line">s.count(<span class="string">&quot;a&quot;</span>)     <span class="comment"># 3</span></span><br><span class="line">s.count(<span class="string">&quot;na&quot;</span>)    <span class="comment"># 2</span></span><br><span class="line">s.count(<span class="string">&quot;x&quot;</span>)     <span class="comment"># 0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># range.count()</span></span><br><span class="line">r=<span class="built_in">range</span>(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(r.count(<span class="number">5.0</span>))   <span class="comment"># 1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 核心规则：sequenct.count() 的判断依据是相等比较，不是 is，即只检查值相等</span></span><br><span class="line"><span class="comment"># x.count(y) 等价于 sum(1 for item in x if item == y)</span></span><br><span class="line"><span class="keyword">import</span> decimal</span><br><span class="line">x=decimal.Decimal(<span class="number">1.0</span>)</span><br><span class="line">lst = [<span class="number">1</span>, <span class="literal">True</span>, <span class="number">1.0</span>]</span><br><span class="line"><span class="built_in">print</span>(lst.count(x))     <span class="comment"># 3</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：序列-sequence-index"><a href="#知识点：序列-sequence-index" class="headerlink" title="知识点：序列-sequence.index()"></a>知识点：序列-sequence.index()</h3><ol start="13">
<li><strong>sequence.index()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># sequence.index() 用来返回元素 x 在序列里第一次出现索引</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   sequence.index(x)</span></span><br><span class="line"><span class="comment">#   sequence.index(x[, start[, end]])</span></span><br><span class="line">a = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;b&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(a.index(<span class="string">&#x27;b&#x27;</span>))         <span class="comment"># 1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># start 和 end 用来限定查找范围，相当于 s[i:j].index(x)，因此 start 包含而 end 不包含</span></span><br><span class="line">a = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(a.index(<span class="string">&#x27;b&#x27;</span>))         <span class="comment"># 1</span></span><br><span class="line"><span class="built_in">print</span>(a.index(<span class="string">&#x27;b&#x27;</span>, <span class="number">2</span>))      <span class="comment"># 3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># start 和 end 也支持负下标，同切片规则</span></span><br><span class="line">a = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(a.index(<span class="string">&#x27;b&#x27;</span>, -<span class="number">3</span>))     <span class="comment"># 3，start 为 -3 等价于从 len(a)-3 开始</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 找不到会抛 ValueError</span></span><br><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="built_in">print</span>(a.index(<span class="number">5</span>))   <span class="comment"># ❌ ValueError</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 匹配规则：使用 == 比较而不是 is</span></span><br><span class="line"><span class="keyword">import</span> decimal</span><br><span class="line">lst=<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>)[::-<span class="number">1</span>])</span><br><span class="line">x=decimal.Decimal(<span class="number">1.0</span>)</span><br><span class="line"><span class="built_in">print</span>(lst)              <span class="comment"># [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]</span></span><br><span class="line"><span class="built_in">print</span>(lst.index(x))     <span class="comment"># 8</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：list-型-介绍"><a href="#知识点：list-型-介绍" class="headerlink" title="知识点：list 型-介绍"></a>知识点：list 型-介绍</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - list 型，是 python 内置的有序可变序列类型，是最常用的类型之一</span><br><span class="line">  - list 是有序的，即每一个元素都有自己的索引</span><br><span class="line">  - list 的元素不限定类属性，可以存在重复元素和异构元素，但通常用来储存类型相同、结构相同的元素</span><br><span class="line"></span><br><span class="line">* 容器</span><br><span class="line">  - list 存的是对象引用或者说指针，不是把对象内容拷贝进去</span><br><span class="line">  - 因此，如果把一个可变对象放进 list，如 list、dict、自定义对象等，后续如果那个对象自身发生变化，list 里看到的也是变化后的同一个对象</span><br><span class="line">  - list 中的多个位置也可能引用同一个对象即共享引用，这在嵌套结构里尤其需要留意。</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>list 型字面量</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># list 型的字面量采用方括号 &#x27;[]&#x27;，元素之间使用英文逗号 &#x27;,&#x27; 进行间隔</span></span><br><span class="line"><span class="comment"># [] 表示空列表 empty list</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 元素与元素之间、元素与逗号之间、元素与方括号之间都允许出现任意的空白字符</span></span><br><span class="line">[ <span class="number">1</span> , <span class="number">2</span> , <span class="number">3</span> ]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 允许出现末尾逗号 trailing comma</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>,]    <span class="comment"># 两者等价</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># list 支持隐式行拼接，不需要写反斜杠 &#x27;\&#x27;</span></span><br><span class="line"><span class="comment"># 子行、右方括号的前导空白可以随便写，没有任何限制</span></span><br><span class="line">[</span><br><span class="line">    <span class="string">&#x27;Tom&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Jerry&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Apple&#x27;</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># list 型字面量里的元素可以是允许写任意表达式，只要能在运行时求值即可</span></span><br><span class="line">[a + b, func(x), obj.attr, (<span class="number">1</span>, <span class="number">2</span>), &#123;<span class="string">&quot;k&quot;</span>: <span class="string">&quot;v&quot;</span>&#125;]</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>列表推导式</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 基本列表推导式 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 列表推导式 list comprehension，也是 list 型的字面量之一</span></span><br><span class="line"><span class="comment"># 它会直接构造一个 list 对象，语法仍然用 []，但内部是推导表达式</span></span><br><span class="line"><span class="comment"># 基本格式：</span></span><br><span class="line"><span class="comment">#   [ 结果表达式 for 变量 in 可迭代对象 ]</span></span><br><span class="line"><span class="comment">#   结果表达式：计算得出最终的元素的表达式</span></span><br><span class="line"><span class="comment">#   for 变量 in 可迭代对象：指定每次参与到结果表达式运算的变量</span></span><br><span class="line">[ x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>)]     <span class="comment"># 结果表达式为 x**2</span></span><br><span class="line">                              <span class="comment"># for x in range(5) 确定 x 每次参与到表达式的运算的值分为为 0 1 2 3 4</span></span><br><span class="line">                              <span class="comment"># 因此最终的结果为 [0, 1, 4, 9, 16]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 列表推导式本质上是一个生成 list 的语法糖</span></span><br><span class="line"><span class="comment"># 把循环 + 条件 + 结果收集到列表写得更紧凑、更可读</span></span><br><span class="line">result=[ x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>)]</span><br><span class="line"><span class="comment"># 等价代码：</span></span><br><span class="line">result=[]</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">    result.append(x**<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 带 if 结构的列表推导式 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 列表推导式也支持带 if 条件的形式</span></span><br><span class="line"><span class="comment"># 这样在确定参与到结果表达式的变量时进行筛选</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   [ 结果表达式 for 变量 in 可迭代对象 if 条件 ]</span></span><br><span class="line">data=(-<span class="number">3</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">7</span>, -<span class="number">5</span>)</span><br><span class="line">[x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> data <span class="keyword">if</span> x &gt; <span class="number">0</span>]     <span class="comment"># [25, 49]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 列表推导式中的 if 不能带 else，会报语法错误</span></span><br><span class="line">[x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> data <span class="keyword">if</span> x &gt; <span class="number">0</span> <span class="keyword">else</span> <span class="built_in">abs</span>(x)]       <span class="comment"># ❌ SyntaxError</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 嵌套格式的列表推导式 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 列表推导式支持多重 for 循环和多重 if 结构</span></span><br><span class="line"><span class="comment"># 嵌套的形式中，每个 for 和每个 if 都是一层结构</span></span><br><span class="line"><span class="comment"># 对于理解 for 和 if 的顺序，跟把它展开成普通嵌套循环时的顺序一致，从左到右依次嵌套</span></span><br><span class="line"><span class="comment"># 每一个 for，都是前一个 for 的子层</span></span><br><span class="line"><span class="comment"># 每一个 if，都是前一个 for 的子层</span></span><br><span class="line"><span class="comment"># 连续的 if 相当于 and</span></span><br><span class="line">res = [</span><br><span class="line">    (x, y)</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>) <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span>                 <span class="comment"># 这里的 if 只能用 x</span></span><br><span class="line">    <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>) <span class="keyword">if</span> y &gt; x <span class="keyword">if</span> (x + y) % <span class="number">3</span> == <span class="number">0</span>  <span class="comment"># 这里的 if 可以用 x 和 y</span></span><br><span class="line">]</span><br><span class="line"><span class="comment"># 等价代码：</span></span><br><span class="line">res = []</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">    <span class="keyword">if</span> x % <span class="number">2</span> != <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        <span class="keyword">if</span> y &lt;= x:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">if</span> (x + y) % <span class="number">3</span> != <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        res.append((x, y))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 列表推导式的作用域 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 在 Python 3 中，列表推导式内部的循环变量（比如 x）属于推导式自己的作用域，不会像 Python 2 那样泄漏到外部同名变量</span></span><br><span class="line"><span class="comment"># 这是 Python 3 的重要修正</span></span><br><span class="line">x=<span class="string">&#x27;Hello&#x27;</span></span><br><span class="line">result=[x**<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>)]</span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 带有三元表达式的列表推导式 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 容易混淆的一个点，即结果表达式使用三元表达式</span></span><br><span class="line"><span class="comment"># 列表推导式的嵌套形式一定是以一个 for 循环作为最外层</span></span><br><span class="line"><span class="comment"># 如果在第一个 for 之前有 if，那么 if 一定属于结果表达式，否则就会报语法错误</span></span><br><span class="line">result = [x <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span> <span class="keyword">else</span> <span class="string">f&quot;odd:<span class="subst">&#123;x&#125;</span>&quot;</span> <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line"><span class="built_in">print</span>(result)</span><br><span class="line"><span class="comment"># 结果：[0, &#x27;odd:1&#x27;, 2, &#x27;odd:3&#x27;, 4, &#x27;odd:5&#x27;, 6, &#x27;odd:7&#x27;, 8, &#x27;odd:9&#x27;]</span></span><br><span class="line"><span class="comment"># 结果表达式为一个 if 三元表达式：x if x % 2 == 0 else f&quot;odd:&#123;x&#125;&quot; </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 列表推导式的适用场景 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 列表推导式适合的场景：</span></span><br><span class="line"><span class="comment"># 映射 + 过滤 + 收集成列表的直线逻辑</span></span><br><span class="line"><span class="comment"># 结果表达式不太长、嵌套层数不多，一般 1~2 层</span></span><br><span class="line"><span class="comment"># 不适合：</span></span><br><span class="line"><span class="comment"># 嵌套太深、条件太多、表达式太长，可读性下降时，宁可写普通 for 循环</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>list() 函数</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># list()，属于 python 的内置函数，是 list 型的构造函数 ，输入一个可迭代对象，根据这个可迭代对象构造一个 list 并返回</span></span><br><span class="line"><span class="comment"># 省略 iterable 则返回一个空列表</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     class list(iterable=(), /)</span></span><br><span class="line">d=&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>,<span class="string">&#x27;b&#x27;</span>:<span class="number">2</span>,<span class="string">&#x27;c&#x27;</span>:<span class="number">3</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">5</span>)))       <span class="comment"># [0, 1, 2, 3, 4]</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(d.items()))      <span class="comment"># [(&#x27;a&#x27;, 1), (&#x27;b&#x27;, 2), (&#x27;c&#x27;, 3)]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 构造方式为对 iterable 进行遍历，每一个遍历得到的元素即成为 list 中的元素</span></span><br><span class="line">a=<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">5</span>))</span><br><span class="line"><span class="comment"># 等价代码</span></span><br><span class="line">a=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">    a.append(i)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 对于嵌套格式的 iterable，只会对其解析第一层</span></span><br><span class="line">a=(<span class="number">1</span>,<span class="number">2</span>,(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>))</span><br><span class="line">b=<span class="built_in">list</span>(a)</span><br><span class="line"><span class="built_in">print</span>(b)        <span class="comment"># [1, 2, (3, 4, 5)]</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>list 支持的序列操作</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># list 支持所有的序列基础操作</span></span><br><span class="line"><span class="comment"># 包括：索引、切片、切片赋值、序列拼接、序列倍乘、序列比较、成员检查、序列解包</span></span><br><span class="line"><span class="comment"># 详细内容见知识点：序列</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 索引 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line">lst = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(lst[<span class="number">0</span>])   <span class="comment"># &#x27;a&#x27;  正向索引</span></span><br><span class="line"><span class="built_in">print</span>(lst[<span class="number">3</span>])   <span class="comment"># &#x27;d&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(lst[-<span class="number">1</span>])  <span class="comment"># &#x27;d&#x27;  负向索引：倒数第 1 个</span></span><br><span class="line"><span class="built_in">print</span>(lst[-<span class="number">2</span>])  <span class="comment"># &#x27;c&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(lst[<span class="number">99</span>])  <span class="comment"># ❌，IndexError，索引越界会报错</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 切片 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line">lst = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="built_in">print</span>(lst[<span class="number">2</span>:<span class="number">7</span>])    <span class="comment"># [2, 3, 4, 5, 6]</span></span><br><span class="line"><span class="built_in">print</span>(lst[:<span class="number">5</span>])     <span class="comment"># [0, 1, 2, 3, 4]</span></span><br><span class="line"><span class="built_in">print</span>(lst[<span class="number">5</span>:])     <span class="comment"># [5, 6, 7, 8, 9]</span></span><br><span class="line"><span class="built_in">print</span>(lst[::<span class="number">2</span>])    <span class="comment"># [0, 2, 4, 6, 8]，步长=2</span></span><br><span class="line"><span class="built_in">print</span>(lst[::-<span class="number">1</span>])   <span class="comment"># [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]，反转</span></span><br><span class="line"><span class="built_in">print</span>(lst[<span class="number">10</span>:<span class="number">999</span>]) <span class="comment"># []，切片越界不会报错，而是按能取到的取</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 序列拼接 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">b = [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">c = a + b</span><br><span class="line"><span class="built_in">print</span>(c)          <span class="comment"># [1, 2, 3, 4]</span></span><br><span class="line"><span class="built_in">print</span>(a)          <span class="comment"># [1, 2]，a 本身不变，+ 产生新列表</span></span><br><span class="line"></span><br><span class="line">a += b</span><br><span class="line"><span class="built_in">print</span>(a)          <span class="comment"># [1, 2, 3, 4]，a 被原地扩展了，效果类似 extend</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 序列倍乘 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="built_in">print</span>([<span class="number">0</span>] * <span class="number">5</span>)          <span class="comment"># [0, 0, 0, 0, 0]</span></span><br><span class="line"><span class="built_in">print</span>([<span class="string">&#x27;ab&#x27;</span>] * <span class="number">3</span>)       <span class="comment"># [&#x27;ab&#x27;, &#x27;ab&#x27;, &#x27;ab&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 经典坑：嵌套列表会复制同一个内层列表引用</span></span><br><span class="line">m = [[<span class="number">0</span>] * <span class="number">3</span>] * <span class="number">2</span></span><br><span class="line">m[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">99</span></span><br><span class="line"><span class="built_in">print</span>(m)      <span class="comment"># [[99, 0, 0], [99, 0, 0]]  两行一起变</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 正确写法：用推导式创建独立的内层列表</span></span><br><span class="line">m2 = [[<span class="number">0</span>] * <span class="number">3</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>)]</span><br><span class="line">m2[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">99</span></span><br><span class="line"><span class="built_in">print</span>(m2)  <span class="comment"># [[99, 0, 0], [0, 0, 0]]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 相等比较 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="built_in">print</span>([<span class="number">1</span>, <span class="number">2</span>] == [<span class="number">1</span>, <span class="number">2</span>])         <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>([<span class="number">1</span>, <span class="number">2</span>] == [<span class="number">2</span>, <span class="number">1</span>])         <span class="comment"># False（顺序也要一致）</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 大小比较 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="built_in">print</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] &lt; [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>])    <span class="comment"># True，第 3 个元素 3 &lt; 4</span></span><br><span class="line"><span class="built_in">print</span>([<span class="number">1</span>, <span class="number">2</span>] &lt; [<span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>])       <span class="comment"># True，前缀更短且前面都相等 -&gt; 更小</span></span><br><span class="line"><span class="built_in">print</span>([<span class="number">1</span>, <span class="number">3</span>] &gt; [<span class="number">1</span>, <span class="number">2</span>, <span class="number">9</span>])       <span class="comment"># True，第 2 个元素 3 &gt; 2</span></span><br><span class="line"></span><br><span class="line">[<span class="number">1</span>, <span class="string">&quot;a&quot;</span>] &lt; [<span class="number">1</span>, <span class="number">2</span>]               <span class="comment"># ❌，TypeError，序列比较比较要求元素之间可以进行比较运算</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 成员检查 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line">lst = [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;banana&#x27;</span>, <span class="string">&#x27;cherry&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;banana&#x27;</span> <span class="keyword">in</span> lst)          <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;BANANA&#x27;</span> <span class="keyword">in</span> lst)          <span class="comment"># False，区分大小写</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;pear&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> lst)        <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 成员检查是拿目标值逐个与元素做 == 比较</span></span><br><span class="line"><span class="built_in">print</span>([<span class="number">1</span>, <span class="number">2</span>] <span class="keyword">in</span> [[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]])   <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">2</span> <span class="keyword">in</span> [[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]])        <span class="comment"># False，元素是子列表，不是数字 2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 序列解包 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line">a, b, c = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line"><span class="built_in">print</span>(a, b, c)              <span class="comment"># 10 20 30</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 扩展序列解包</span></span><br><span class="line">head, *mid, tail = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="built_in">print</span>(head)                 <span class="comment"># 1</span></span><br><span class="line"><span class="built_in">print</span>(mid)                  <span class="comment"># [2, 3, 4]</span></span><br><span class="line"><span class="built_in">print</span>(tail)                 <span class="comment"># 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用在 for 循环里</span></span><br><span class="line">pairs = [(<span class="number">1</span>, <span class="string">&#x27;a&#x27;</span>), (<span class="number">2</span>, <span class="string">&#x27;b&#x27;</span>), (<span class="number">3</span>, <span class="string">&#x27;c&#x27;</span>)]</span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> pairs:</span><br><span class="line">    <span class="built_in">print</span>(k, v)</span><br><span class="line"></span><br><span class="line">x, y = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]            <span class="comment"># ❌，ValueError，长度不匹配会报错，除非用 * 接住</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>元素赋值</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># list 支持通过索引来对元素赋值，相当于修改某个元素</span></span><br><span class="line"><span class="comment"># 属于原地操作</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   list[index]=value</span></span><br><span class="line">lst = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line">lst[<span class="number">1</span>] = <span class="string">&#x27;B&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(lst)              <span class="comment"># [&#x27;a&#x27;, &#x27;B&#x27;, &#x27;c&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过索引更新元素，比如计数、累加</span></span><br><span class="line">nums = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line">nums[<span class="number">1</span>] += <span class="number">5</span></span><br><span class="line"><span class="built_in">print</span>(nums)       <span class="comment"># [10, 25, 30]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 交换两个位置</span></span><br><span class="line">lst = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line">lst[<span class="number">0</span>], lst[<span class="number">2</span>] = lst[<span class="number">2</span>], lst[<span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span>(lst)        <span class="comment"># [&#x27;c&#x27;, &#x27;b&#x27;, &#x27;a&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 索引必须是有效下标，不能越界，否则会抛出 IndexError</span></span><br><span class="line"><span class="comment"># 如果需要增加 list 的元素，使用 list.appent() 或者 list.extend() </span></span><br><span class="line"><span class="comment"># 正向：0 ~ len(lst)-1</span></span><br><span class="line"><span class="comment"># 负向：-len(lst) ~ -1</span></span><br><span class="line"></span><br><span class="line">lst = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>]</span><br><span class="line"></span><br><span class="line">lst[<span class="number">0</span>]  = <span class="number">11</span></span><br><span class="line">lst[-<span class="number">1</span>] = <span class="number">99</span></span><br><span class="line"><span class="built_in">print</span>(lst)        <span class="comment"># [11, 20, 30, 99]</span></span><br><span class="line"></span><br><span class="line">lst[<span class="number">4</span>] = <span class="number">123</span>      <span class="comment"># ❌，IndexError</span></span><br><span class="line">lst[-<span class="number">5</span>] = <span class="number">123</span>     <span class="comment"># ❌，IndexError</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 等号右侧可以是任何对象，类型不限制，list 不要求元素同类型，所以赋什么都行</span></span><br><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">lst[<span class="number">1</span>] = <span class="string">&quot;two&quot;</span></span><br><span class="line">lst[<span class="number">2</span>] = [<span class="number">300</span>, <span class="number">301</span>]</span><br><span class="line"><span class="built_in">print</span>(lst)              <span class="comment"># [1, &#x27;two&#x27;, [300, 301]]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>切片赋值</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># list 支持切片赋值</span></span><br><span class="line"><span class="comment"># 详细内容见知识点：序列</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 切片赋值 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line">lst = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">lst[<span class="number">2</span>:<span class="number">4</span>] = [<span class="string">&#x27;X&#x27;</span>, <span class="string">&#x27;Y&#x27;</span>, <span class="string">&#x27;Z&#x27;</span>]    <span class="comment"># 普通切片赋值</span></span><br><span class="line"><span class="built_in">print</span>(lst)                    <span class="comment"># [0, 1, &#x27;X&#x27;, &#x27;Y&#x27;, &#x27;Z&#x27;, 4, 5]</span></span><br><span class="line"></span><br><span class="line">lst[<span class="number">1</span>:<span class="number">3</span>] = []                 <span class="comment"># 切片删除元素</span></span><br><span class="line"><span class="built_in">print</span>(lst)                    <span class="comment"># [0, &#x27;Y&#x27;, &#x27;Z&#x27;, 4, 5]</span></span><br><span class="line"></span><br><span class="line">lst[<span class="number">2</span>:<span class="number">2</span>] = [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>]         <span class="comment"># 在索引 2 处“插入”（空切片）</span></span><br><span class="line"><span class="built_in">print</span>(lst)                    <span class="comment"># [0, &#x27;Y&#x27;, &#x27;A&#x27;, &#x27;B&#x27;, &#x27;Z&#x27;, 4, 5]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 扩展切片赋值 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line">lst = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"></span><br><span class="line">lst[<span class="number">2</span>:<span class="number">8</span>:<span class="number">2</span>] = [<span class="number">100</span>, <span class="number">101</span>, <span class="number">102</span>]    <span class="comment"># 带步长</span></span><br><span class="line"><span class="built_in">print</span>(lst)                      <span class="comment"># [0, 1, 100, 3, 101, 5, 102, 7, 8, 9]</span></span><br><span class="line"></span><br><span class="line">lst[<span class="number">2</span>:<span class="number">8</span>:<span class="number">2</span>] = [<span class="number">1</span>, <span class="number">2</span>]             <span class="comment"># ❌，ValueError，长度不一致</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>删除元素</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># list 支持通过索引删除元素和通过切片删除元素</span></span><br><span class="line"><span class="comment"># 详细内容见知识点：序列</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 通过索引删除元素 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 直接把该位置移除，后面的元素整体左移</span></span><br><span class="line"><span class="comment"># 支持负索引</span></span><br><span class="line"><span class="comment"># 索引越界会 IndexError</span></span><br><span class="line"></span><br><span class="line">lst = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]</span><br><span class="line"><span class="keyword">del</span> lst[<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(lst)    <span class="comment"># [&#x27;a&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]</span></span><br><span class="line"></span><br><span class="line">lst = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]</span><br><span class="line"><span class="keyword">del</span> lst[-<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(lst)    <span class="comment"># [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 通过切片删除元素 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 使用 del 关键字删除切片</span></span><br><span class="line"><span class="comment"># 删除一个连续区间，删除范围是 [i, j) 左闭右开</span></span><br><span class="line"><span class="comment"># 切片越界不报错，能删多少删多少（这点和索引不同）</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     del lst[i:j]</span></span><br><span class="line"></span><br><span class="line">lst = <span class="built_in">list</span>(<span class="string">&quot;abcdefg&quot;</span>)   <span class="comment"># [&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;,&#x27;d&#x27;,&#x27;e&#x27;,&#x27;f&#x27;,&#x27;g&#x27;]</span></span><br><span class="line"><span class="keyword">del</span> lst[<span class="number">2</span>:<span class="number">5</span>]            <span class="comment"># 删除 c d e</span></span><br><span class="line"><span class="built_in">print</span>(lst)              <span class="comment"># [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;f&#x27;, &#x27;g&#x27;]</span></span><br><span class="line"></span><br><span class="line">lst = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">del</span> lst[:<span class="number">2</span>]             <span class="comment"># 删除前2个</span></span><br><span class="line"><span class="built_in">print</span>(lst)              <span class="comment"># [2, 3, 4]</span></span><br><span class="line"></span><br><span class="line">lst = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">del</span> lst[<span class="number">2</span>:]             <span class="comment"># 删除从索引2到结尾</span></span><br><span class="line"><span class="built_in">print</span>(lst)              <span class="comment"># [0, 1]</span></span><br><span class="line"></span><br><span class="line">lst = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">del</span> lst[:<span class="number">999</span>]           <span class="comment"># 越界也没事</span></span><br><span class="line"><span class="built_in">print</span>(lst)              <span class="comment"># []</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过切片赋值来删除 list 中的元素</span></span><br><span class="line"><span class="comment"># 必须是一个连续的切片</span></span><br><span class="line"><span class="comment"># 效果和 del lst[i:j] 一样</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     lst[i:j] = []</span></span><br><span class="line">lst = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">lst[<span class="number">1</span>:<span class="number">4</span>] = []</span><br><span class="line"><span class="built_in">print</span>(lst)  <span class="comment"># [0, 4, 5]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 扩展切片删除，带步长</span></span><br><span class="line"><span class="comment"># 通过扩展切片来删除元素</span></span><br><span class="line"><span class="comment"># 只能使用 del 关键字</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     del lst[i:j:step]</span></span><br><span class="line">lst = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))   <span class="comment"># [0,1,2,3,4,5,6,7,8,9]</span></span><br><span class="line"><span class="keyword">del</span> lst[<span class="number">1</span>:<span class="number">9</span>:<span class="number">2</span>]          <span class="comment"># 删除索引 1,3,5,7 -&gt; 值 1,3,5,7</span></span><br><span class="line"><span class="built_in">print</span>(lst)              <span class="comment"># [0, 2, 4, 6, 8, 9]</span></span><br><span class="line"></span><br><span class="line">lst = <span class="built_in">list</span>(<span class="string">&quot;abcdefghij&quot;</span>)</span><br><span class="line"><span class="keyword">del</span> lst[::<span class="number">3</span>]            <span class="comment"># 每隔3个删一个：索引 0,3,6,9</span></span><br><span class="line"><span class="built_in">print</span>(lst)              <span class="comment"># [&#x27;b&#x27;, &#x27;c&#x27;, &#x27;e&#x27;, &#x27;f&#x27;, &#x27;h&#x27;, &#x27;i&#x27;]</span></span><br><span class="line"></span><br><span class="line">lst = <span class="built_in">list</span>(<span class="string">&quot;abcdefghij&quot;</span>)</span><br><span class="line">lst[::<span class="number">3</span>]=[]             <span class="comment"># ❌，ValueError，带步长的切片不能通过赋值来删除元素</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>list.append()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># list 的内置方法，原地操作，向列表末尾追加元素</span></span><br><span class="line"><span class="comment"># 操作完成后 list 长度 + 1</span></span><br><span class="line"><span class="comment"># 返回值为 None</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   list.append(value, /)</span></span><br><span class="line"></span><br><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">lst.append(<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(lst)        <span class="comment"># [1, 2, 3, 4]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>]      <span class="comment"># 返回值为 None</span></span><br><span class="line">r = lst.append(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(lst)        <span class="comment"># [1, 2, 3]</span></span><br><span class="line"><span class="built_in">print</span>(r)          <span class="comment"># None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果追加的元素是一个序列，则不会进行展开，而是整体作为一个元素进行添加</span></span><br><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">lst.append([<span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="built_in">print</span>(lst)          <span class="comment"># [1, 2, [3, 4]]，追加的是一个子列表</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>list.clear()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># list 的内置方法，原地操作，清空 list 的全部元素</span></span><br><span class="line"><span class="comment"># 操作完成后 list 变成一个空列表 []</span></span><br><span class="line"><span class="comment"># 与 del list[:] 等价</span></span><br><span class="line"><span class="comment"># 返回值为 None</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   list.clear()</span></span><br><span class="line"></span><br><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">r = lst.clear()</span><br><span class="line"><span class="built_in">print</span>(lst)      <span class="comment"># []</span></span><br><span class="line"><span class="built_in">print</span>(r)        <span class="comment"># None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 与 lst = [] 的区别</span></span><br><span class="line"><span class="comment"># lst.clear() 是对 lst 这个变量所指向 list 对象进行原地修改</span></span><br><span class="line"><span class="comment"># lst = []  是让 lst 这个变量指向一个新对象，并且这个新对象为一个空列表 []</span></span><br><span class="line"></span><br><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">b = a         <span class="comment"># b 和 a 指向同一个 list 对象</span></span><br><span class="line">a.clear()</span><br><span class="line"><span class="built_in">print</span>(a)      <span class="comment"># []</span></span><br><span class="line"><span class="built_in">print</span>(b)      <span class="comment"># []，b 也变空了</span></span><br><span class="line"></span><br><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">b = a</span><br><span class="line">a = []          <span class="comment"># a 改指向新列表</span></span><br><span class="line"><span class="built_in">print</span>(a)        <span class="comment"># []</span></span><br><span class="line"><span class="built_in">print</span>(b)        <span class="comment"># [1, 2, 3]，b 仍指向旧列表</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># clear() 的效果与 del list[:] 等价</span></span><br><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">del</span> lst[:]        <span class="comment"># lst[:] = []</span></span><br><span class="line"><span class="built_in">print</span>(lst)        <span class="comment"># []</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>list.copy()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># list 的内置方法，返回 list 的一个浅复制对象，不修改原列表</span></span><br><span class="line"><span class="comment"># 等价于切片 list[:]</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   list.copy()</span></span><br><span class="line"></span><br><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">b = a.copy()</span><br><span class="line"><span class="built_in">print</span>(b)        <span class="comment"># [1, 2, 3]</span></span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">is</span> b)   <span class="comment"># False，不是同一个对象</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 浅复制 shallow copy 和深复制 deep copy</span></span><br><span class="line"><span class="comment"># list 是一个容器类型的对象，其中的每一个元素实际上是别的对象的指针</span></span><br><span class="line"><span class="comment"># 浅复制是指创建一个新的 list 对象，但其中记录的指针与旧 list 对象里的记录相同，因此新旧两个 list 内的元素实际上指向同样的对象</span></span><br><span class="line"><span class="comment"># 深复制是指场景一个新的 list 对象，会递归创建新的元素对象，新旧两个 list 引用的元素指向不同的对象</span></span><br><span class="line"><span class="comment"># 如果 list 中的元素全部都是不可变对象，那么浅复制和深复制不会体现出区别</span></span><br><span class="line"><span class="comment"># 如果 list 中的元素包含可变对象如 list，则浅复制和深复制会体现出区别</span></span><br><span class="line"><span class="comment"># 关于深复制查看 python 内置的 copy 模块</span></span><br><span class="line">a = [<span class="number">1</span>, <span class="string">&quot;x&quot;</span>, (<span class="number">2</span>, <span class="number">3</span>)]</span><br><span class="line">b = a.copy()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">is</span> b)           <span class="comment"># False，a 和 b 指向不同的对象</span></span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">1</span>] <span class="keyword">is</span> b[<span class="number">1</span>])     <span class="comment"># True，a 和 b 的元素指向相同的对象</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果列表里包含可变对象，比如子 list / dict，则浅复制只是复制外层容器，内层对象仍然共享</span></span><br><span class="line">a = [[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line">b = a.copy()</span><br><span class="line"></span><br><span class="line">b[<span class="number">0</span>].append(<span class="number">99</span>)       <span class="comment"># 修改的是共享的内层列表</span></span><br><span class="line"><span class="built_in">print</span>(a)              <span class="comment"># [[1, 2, 99], [3, 4]]</span></span><br><span class="line"><span class="built_in">print</span>(b)              <span class="comment"># [[1, 2, 99], [3, 4]]，修改 b 影响到了 a</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过 python 内置的 copy 模块进行深复制</span></span><br><span class="line"><span class="keyword">import</span> copy</span><br><span class="line">a = [[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line">b = copy.deepcopy(a)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">1</span>] <span class="keyword">is</span> b[<span class="number">1</span>])   <span class="comment"># False，a 和 b 的元素指向不同的对象</span></span><br><span class="line">b[<span class="number">0</span>].append(<span class="number">99</span>)</span><br><span class="line"><span class="built_in">print</span>(a)              <span class="comment"># [[1, 2], [3, 4]]</span></span><br><span class="line"><span class="built_in">print</span>(b)              <span class="comment"># [[1, 2, 99], [3, 4]]，修改 b 的元素不会影响到 a</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>list.extend()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># list 的内置方法，原地操作，扩展原有列表，把一个 iterable 里的元素逐个追加到列表末尾</span></span><br><span class="line"><span class="comment"># 返回值为 None</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   list.extend(iterable, /)</span></span><br><span class="line"></span><br><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">lst.extend([<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line"><span class="built_in">print</span>(lst)              <span class="comment"># [1, 2, 3, 4, 5]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># list.extend() 会对 iterable 进行展开</span></span><br><span class="line"><span class="comment"># list.extend() 会遍历 iterable，把它迭代出来的每一个元素依次追加到 list 的末尾</span></span><br><span class="line"><span class="comment"># 等价代码：</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> iterable:</span><br><span class="line">    lst.append(item)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># list.extend() 对 iterable 展开的层级</span></span><br><span class="line"><span class="comment"># list.extend() 不是递归展开，只展开 iterable 的最顶层</span></span><br><span class="line">lst = []</span><br><span class="line">lst.extend([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]])</span><br><span class="line"><span class="built_in">print</span>(lst)                      <span class="comment"># [[1, 2], [3, 4]]，加进去的是两个子列表，元素本身没被再拆</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># list.extend() 与 list.append() 的区别：</span></span><br><span class="line"><span class="comment"># list.append(iterable) 会把 iterable 当作一个元素追加</span></span><br><span class="line"><span class="comment"># list.extend(iterable) 会把 iterable 里的元素逐个追加</span></span><br><span class="line"></span><br><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">a = lst.copy()</span><br><span class="line">a.append([<span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="built_in">print</span>(a)          <span class="comment"># [1, 2, [3, 4]]，iterable 没有被展开，而是整体作为一个元素被追加到 list 中</span></span><br><span class="line"></span><br><span class="line">b = lst.copy()</span><br><span class="line">b.extend([<span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="built_in">print</span>(b)          <span class="comment"># [1, 2, 3, 4]，iterable 被展开，iterable 中的元素分别被作为单个的元素被追加到 list 中</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># list.extend() 可以接受任何类型的 iterable</span></span><br><span class="line">lst = []</span><br><span class="line">lst.extend(<span class="string">&quot;abc&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(lst)          <span class="comment"># [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]，字符串会被按字符拆开</span></span><br><span class="line"></span><br><span class="line">lst = [<span class="number">0</span>]</span><br><span class="line">lst.extend(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>))</span><br><span class="line"><span class="built_in">print</span>(lst)          <span class="comment"># [0, 1, 2, 3, 4]，支持 range</span></span><br><span class="line"></span><br><span class="line">lst = []</span><br><span class="line">lst.extend(x * x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>))</span><br><span class="line"><span class="built_in">print</span>(lst)          <span class="comment"># [0, 1, 4, 9, 16]，支持 generator</span></span><br><span class="line"></span><br><span class="line">lst = []</span><br><span class="line">lst.extend(&#123;<span class="string">&quot;k1&quot;</span>: <span class="number">1</span>, <span class="string">&quot;k2&quot;</span>: <span class="number">2</span>&#125;)</span><br><span class="line"><span class="built_in">print</span>(lst)          <span class="comment"># [&#x27;k1&#x27;, &#x27;k2&#x27;]，dict 默认迭代的是 key</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>list.insert()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># list 的内置方法，原地操作，向 list 中插入一个元素，原有的所有元素向后移位</span></span><br><span class="line"><span class="comment"># 返回值为 None</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   list.insert(index, value, /)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># index 用来指定插入元素的位置</span></span><br><span class="line"><span class="comment"># 在插入后，新的元素的索引即 index 指定的值</span></span><br><span class="line"><span class="comment"># 原来从 index 指定的位置开始的元素整体向右挪，即全部索引值加一</span></span><br><span class="line">lst = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line">lst.insert(<span class="number">1</span>, <span class="string">&#x27;X&#x27;</span>)      <span class="comment"># 插到索引 1 之前</span></span><br><span class="line"><span class="built_in">print</span>(lst)              <span class="comment"># [&#x27;a&#x27;, &#x27;X&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># index 支持使用负数索引</span></span><br><span class="line">lst = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line">lst.insert(-<span class="number">1</span>, <span class="string">&#x27;X&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(lst)              <span class="comment"># [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;X&#x27;, &#x27;c&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># list.insert() 对索引比较宽容，不会因为越界就报错，而是会夹紧到合理范围</span></span><br><span class="line"></span><br><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">lst.insert(<span class="number">100</span>, <span class="string">&#x27;A&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(lst)              <span class="comment"># [1, 2, 3, &#x27;A&#x27;]，正数索引如果越界，则会插入到 list 的末尾</span></span><br><span class="line"></span><br><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">lst.insert(-<span class="number">100</span>, <span class="string">&#x27;A&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(lst)              <span class="comment"># [&#x27;A&#x27;, 1, 2, 3 ]，负数索引如果越界，则会插入到 list 的开头</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># list.insert() 插入的是整体元素，如果元素是一个 iterable，则不会展开</span></span><br><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">lst.insert(<span class="number">1</span>, [<span class="number">10</span>, <span class="number">20</span>])</span><br><span class="line"><span class="built_in">print</span>(lst)                <span class="comment"># [1, [10, 20], 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果想要把一个 iterable 中的多个元素插进中间，通常用切片赋值更直观</span></span><br><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">lst[<span class="number">1</span>:<span class="number">1</span>] = [<span class="number">10</span>, <span class="number">20</span>]     <span class="comment"># 在索引1处插入两个元素</span></span><br><span class="line"><span class="built_in">print</span>(lst)              <span class="comment"># [1, 10, 20, 2, 3]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>list.pop()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 原地操作，用来从 list 中删除一个元素，并返回这个被删除的元素</span></span><br><span class="line"><span class="comment"># index 默认为 -1 即删除最后一个元素</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   list.pop(index=-1, /)</span></span><br><span class="line">lst = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line">x = lst.pop()</span><br><span class="line"><span class="built_in">print</span>(x)      <span class="comment"># 30</span></span><br><span class="line"><span class="built_in">print</span>(lst)    <span class="comment"># [10, 20]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 空列表会报错</span></span><br><span class="line">lst = []</span><br><span class="line">lst.pop()     <span class="comment"># ❌，IndexError</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定索引</span></span><br><span class="line">lst = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]</span><br><span class="line">x = lst.pop(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(x)        <span class="comment"># &#x27;b&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(lst)      <span class="comment"># [&#x27;a&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 索引越界会报错</span></span><br><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">lst.pop(<span class="number">99</span>)     <span class="comment"># ❌，IndexError</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>list.remove()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># list.remove(x) 用来按值删除元素，原地操作，删除列表中第一个值为 value 的元素</span></span><br><span class="line"><span class="comment"># 返回值为 None</span></span><br><span class="line"><span class="comment"># 查找元素的方法采用 ==</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   list.remove(value, /)</span></span><br><span class="line"></span><br><span class="line">lst = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">20</span>]</span><br><span class="line">lst.remove(<span class="number">20</span>)</span><br><span class="line"><span class="built_in">print</span>(lst)          <span class="comment"># [10, 30, 20]，只删掉第一个 20</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果 value 找不到会报错</span></span><br><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">lst.remove(<span class="number">99</span>)      <span class="comment"># ❌，ValueError</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 因为匹配是采用 == 而不是 is，可能因此产生歧义</span></span><br><span class="line">lst = [<span class="number">1.0</span>, <span class="literal">True</span>, <span class="number">2</span>]</span><br><span class="line">lst.remove(<span class="literal">True</span>)     <span class="comment"># 因为 1 == True，因此会删除第一个元素 1.0</span></span><br><span class="line"><span class="built_in">print</span>(lst)           <span class="comment"># [True, 2]</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>list.reverse()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列表元素按索引翻转，原地操作，返回值为 None</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   list.reverse()</span></span><br><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">lst.reverse()</span><br><span class="line"><span class="built_in">print</span>(lst)        <span class="comment"># [4, 3, 2, 1]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># list.reverse()、切片反转 lst[::-1]、reversed() 函数的对比</span></span><br><span class="line"><span class="comment"># lst.reverse() 原地反转，不创建新列表</span></span><br><span class="line"><span class="comment"># lst[::-1] 生成一个新列表，原列表不变</span></span><br><span class="line"><span class="comment"># reversed(lst) 返回一个反向迭代器，原列表不变</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>list.sort()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 介绍 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 列表的元素按值进行排序，原地操作，返回值为 None</span></span><br><span class="line"><span class="comment"># 默认两两元素之间采用富比较方法进行大小来决定排序顺序</span></span><br><span class="line"><span class="comment"># 默认为升序</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     list.sort(*, key=None, reverse=False)</span></span><br><span class="line">lst = [<span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">lst.sort()</span><br><span class="line"><span class="built_in">print</span>(lst)   <span class="comment"># [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># list 中的元素应当支持进行大小比较，否则会抛出 TypeError</span></span><br><span class="line">lst = [<span class="number">1</span>, <span class="string">&quot;2&quot;</span>, <span class="number">3</span>]</span><br><span class="line">lst.sort()          <span class="comment"># ❌，TypeError</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 因此若列表中某一次比较失败导致则整个排序操作失败，此时可能导致列表处于一个部分修改的状态 partially modified state</span></span><br><span class="line"><span class="comment"># 比较安全的写法是使用 sorted()</span></span><br><span class="line">lst = [<span class="number">3</span>, <span class="number">1</span>, <span class="string">&quot;2&quot;</span>, <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    lst = <span class="built_in">sorted</span>(lst)     <span class="comment"># 不动原列表；成功再赋值</span></span><br><span class="line"><span class="keyword">except</span> TypeError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;排序失败：&quot;</span>, e)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(lst)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 reverse</span></span><br><span class="line"><span class="comment"># 默认值 False 表示升序</span></span><br><span class="line"><span class="comment"># 当指定 reverse 为 True 表示降序</span></span><br><span class="line">lst = [<span class="number">30</span>, <span class="number">10</span>, <span class="number">20</span>]</span><br><span class="line">lst.sort(reverse=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(lst)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 key</span></span><br><span class="line"><span class="comment"># 与 sorted() 函数相同，用来指定比较键</span></span><br><span class="line"><span class="comment"># 默认值 None 表示直接使用元素的值进行比较</span></span><br><span class="line"><span class="comment"># 指定 key 等于某个函数对象，则排序时先让每一个元素输入到函数进行运算，使用函数的运算结果进行排序</span></span><br><span class="line"><span class="comment"># 关于 key 参数的具体用法，见知识点：sorted() 函数</span></span><br><span class="line">lst = [<span class="string">&quot;aaa&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;cc&quot;</span>]</span><br><span class="line">lst.sort(key=<span class="built_in">len</span>)</span><br><span class="line"><span class="built_in">print</span>(lst)            <span class="comment"># [&#x27;b&#x27;, &#x27;cc&#x27;, &#x27;aaa&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 范例 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 忽略大小写排序</span></span><br><span class="line">names = [<span class="string">&quot;bob&quot;</span>, <span class="string">&quot;Alice&quot;</span>, <span class="string">&quot;david&quot;</span>, <span class="string">&quot;Carol&quot;</span>]</span><br><span class="line">names.sort(key=<span class="built_in">str</span>.lower)</span><br><span class="line"><span class="built_in">print</span>(names)                <span class="comment"># [&#x27;Alice&#x27;, &#x27;bob&#x27;, &#x27;Carol&#x27;, &#x27;david&#x27;]，按小写后的字母序</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 按绝对值排序</span></span><br><span class="line">nums = [<span class="number">3</span>, -<span class="number">10</span>, <span class="number">2</span>, -<span class="number">1</span>]</span><br><span class="line">nums.sort(key=<span class="built_in">abs</span>)</span><br><span class="line"><span class="built_in">print</span>(nums)                 <span class="comment"># [-1, 2, 3, -10]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对数值字符串按数值大小排</span></span><br><span class="line">s = [<span class="string">&quot;10&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;1&quot;</span>]</span><br><span class="line">s.sort(key=<span class="built_in">int</span>)</span><br><span class="line"><span class="built_in">print</span>(s)              <span class="comment"># [&#x27;1&#x27;, &#x27;2&#x27;, &#x27;10&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 按元组/列表的某一列排序</span></span><br><span class="line">rows = [(<span class="string">&quot;tom&quot;</span>, <span class="number">30</span>), (<span class="string">&quot;bob&quot;</span>, <span class="number">18</span>), (<span class="string">&quot;alice&quot;</span>, <span class="number">25</span>)]</span><br><span class="line">rows.sort(key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>], reverse=<span class="literal">True</span>)       <span class="comment"># 按年龄，降序</span></span><br><span class="line"><span class="built_in">print</span>(rows)                                       <span class="comment"># [(&#x27;tom&#x27;, 30), (&#x27;alice&#x27;, 25), (&#x27;bob&#x27;, 18)]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 让 None 排在最后,常见脏数据</span></span><br><span class="line">data = [<span class="number">3</span>, <span class="literal">None</span>, <span class="number">2</span>, <span class="literal">None</span>, <span class="number">10</span>]</span><br><span class="line">data.sort(key=<span class="keyword">lambda</span> x: (x <span class="keyword">is</span> <span class="literal">None</span>, x))</span><br><span class="line"><span class="comment"># key 表示返回一个二元组，(False/True, value)</span></span><br><span class="line"><span class="comment"># 排序时先比较二元组的第一个元素 False/True，False 按 0 进行排序，因此非 None 的元素被放在前面，None 元素被放在后面</span></span><br><span class="line"><span class="comment"># 再比较二元组的第二个元素，即每个原始元素的 value</span></span><br><span class="line"><span class="built_in">print</span>(data)                               <span class="comment"># [2, 3, 10, None, None]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：list-型-list-函数"><a href="#知识点：list-型-list-函数" class="headerlink" title="知识点：list 型-list() 函数"></a>知识点：list 型-list() 函数</h3><hr>
<h3 id="知识点：list-型-列表推导式"><a href="#知识点：list-型-列表推导式" class="headerlink" title="知识点：list 型-列表推导式"></a>知识点：list 型-列表推导式</h3><hr>
<h3 id="知识点：list-型-通用序列操作"><a href="#知识点：list-型-通用序列操作" class="headerlink" title="知识点：list 型-通用序列操作"></a>知识点：list 型-通用序列操作</h3><hr>
<h3 id="知识点：list-型-可变序列操作"><a href="#知识点：list-型-可变序列操作" class="headerlink" title="知识点：list 型-可变序列操作"></a>知识点：list 型-可变序列操作</h3><hr>
<h3 id="知识点：list-型-内置方法"><a href="#知识点：list-型-内置方法" class="headerlink" title="知识点：list 型-内置方法"></a>知识点：list 型-内置方法</h3><hr>
<h3 id="知识点：tuple-型"><a href="#知识点：tuple-型" class="headerlink" title="知识点：tuple 型"></a>知识点：tuple 型</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - tuple 型，是 python 内置的有序不可变序列类型，是最常用的类型之一</span><br><span class="line">  - tuple 是有序的，即每一个元素都有自己的索引</span><br><span class="line">  - tuple 的元素不限定类属性，可以存在重复元素和异构元素，但通常用来储存类型相同、结构相同的元素</span><br><span class="line">  - tuple 除了是不可变类型，其余的与 list 非常相似</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* 常用场景</span><br><span class="line">  - 作为函数的返回值</span><br><span class="line">  - 储存不同类型的数据组成的多项集，如枚举对象 enumerate()</span><br><span class="line">  - 储存相同类型的数据组成的多个向量</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>哈希性</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tuple 是可哈希的，tuple 实现了 object.__hash__() 方法</span></span><br><span class="line"><span class="comment"># 但只有在它的所有元素都可哈希时才可哈希，才能作为 dict、set 的 key 值</span></span><br><span class="line"><span class="built_in">hash</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)               <span class="comment"># 可哈希</span></span><br><span class="line"><span class="built_in">hash</span>(([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]))   <span class="comment"># ❌，TypeError，不可哈希，因为其中的元素是 list</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>tuple 型字面量</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 基本字面量 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># tuple 型的字面量使用圆括号包裹，逗号分隔</span></span><br><span class="line"><span class="comment"># () 表示空元组</span></span><br><span class="line">a=(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 单元素的元组必须带逗号</span></span><br><span class="line"><span class="comment"># 官方文档原话：it is actually the comma which makes a tuple, not the parentheses.</span></span><br><span class="line">t1 = (<span class="number">1</span>)     <span class="comment"># 这不是 tuple，是 int</span></span><br><span class="line">t2 = (<span class="number">1</span>,)    <span class="comment"># 这是 tuple</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 省略括号 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 若包含多个元素，可以直接省略括号</span></span><br><span class="line">t1 = <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 若只有一个元素，则必须加一个逗号</span></span><br><span class="line">t1 = <span class="number">1</span>,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果元组作为 function 的 argument，则不可以省略括号，因为有可能因为逗号被识别成多个参数</span></span><br><span class="line"><span class="built_in">print</span>((<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>))    <span class="comment"># (1, 2, 3)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)      <span class="comment"># 1 2 3，被识别为了三个参数</span></span><br><span class="line"><span class="built_in">sum</span>((<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>))      <span class="comment"># 6</span></span><br><span class="line"><span class="built_in">sum</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)        <span class="comment"># ❌，TypeError，sum 只接收一个参数</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>tuple() 函数</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tuple() 函数，python 内置函数，是 tuple 型的构造函数</span></span><br><span class="line"><span class="comment"># 输入 iterable，返回相应的 tuple 对象</span></span><br><span class="line"><span class="comment"># 如果 iterable 本身是一个元组，则返回 iterable 本身</span></span><br><span class="line"><span class="comment"># 如果省略 iterable，则返回空元组</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     class tuple(iterable)</span></span><br><span class="line"><span class="built_in">tuple</span>(<span class="string">&quot;abc&quot;</span>)        <span class="comment"># (&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;)</span></span><br><span class="line"><span class="built_in">tuple</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])    <span class="comment"># (1, 2, 3)</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>tuple 型支持的运算和操作</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tuple 支持所有的序列基础操作，包括：索引、切片、序列拼接、序列倍乘、序列比较、成员检查、序列解包</span></span><br><span class="line"><span class="comment"># 由于 tuple 是不可变类型，因此 tuple 不支持一切的原地操作，包括元素赋值、删除元素等等</span></span><br><span class="line"><span class="comment"># 详细内容见知识点：序列</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 索引 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line">t = (<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(t[<span class="number">0</span>])   <span class="comment"># &#x27;a&#x27;  正向索引</span></span><br><span class="line"><span class="built_in">print</span>(t[<span class="number">3</span>])   <span class="comment"># &#x27;d&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(t[-<span class="number">1</span>])  <span class="comment"># &#x27;d&#x27;  负向索引：倒数第 1 个</span></span><br><span class="line"><span class="built_in">print</span>(t[-<span class="number">2</span>])  <span class="comment"># &#x27;c&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(t[<span class="number">99</span>])  <span class="comment"># ❌，IndexError，索引越界会报错</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 切片 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line">t = (<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>)</span><br><span class="line"><span class="built_in">print</span>(t[<span class="number">2</span>:<span class="number">7</span>])    <span class="comment"># (2, 3, 4, 5, 6)</span></span><br><span class="line"><span class="built_in">print</span>(t[:<span class="number">5</span>])     <span class="comment"># (0, 1, 2, 3, 4)</span></span><br><span class="line"><span class="built_in">print</span>(t[<span class="number">5</span>:])     <span class="comment"># (5, 6, 7, 8, 9)</span></span><br><span class="line"><span class="built_in">print</span>(t[::<span class="number">2</span>])    <span class="comment"># (0, 2, 4, 6, 8)，步长=2</span></span><br><span class="line"><span class="built_in">print</span>(t[::-<span class="number">1</span>])   <span class="comment"># (9, 8, 7, 6, 5, 4, 3, 2, 1, 0)，反转</span></span><br><span class="line"><span class="built_in">print</span>(t[<span class="number">10</span>:<span class="number">999</span>]) <span class="comment"># ()，切片越界不会报错，而是按能取到的取</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 序列拼接 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line">t1 = (<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">t2 = (<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">t3 = t1 + t2</span><br><span class="line"><span class="built_in">print</span>(t3)          <span class="comment"># [1, 2, 3, 4]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">t1 = (<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">t2 = (<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(t1))</span><br><span class="line">t1 += t2</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(t1))     <span class="comment"># t1 被指向了新生成的 tuple</span></span><br><span class="line"><span class="built_in">print</span>(t1)         <span class="comment"># (1, 2, 3, 4)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 序列倍乘 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="built_in">print</span>((<span class="number">1</span>,) * <span class="number">5</span>)          <span class="comment"># (0, 0, 0, 0, 0)</span></span><br><span class="line"><span class="built_in">print</span>((<span class="string">&#x27;ab&#x27;</span>) * <span class="number">3</span>)       <span class="comment"># (&#x27;ab&#x27;, &#x27;ab&#x27;, &#x27;ab&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 相等比较 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="built_in">print</span>((<span class="number">1</span>, <span class="number">2</span>) == (<span class="number">1</span>, <span class="number">2</span>))         <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>((<span class="number">1</span>, <span class="number">2</span>) == (<span class="number">2</span>, <span class="number">1</span>))         <span class="comment"># False（顺序也要一致）</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 大小比较 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="built_in">print</span>((<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) &lt; (<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>))    <span class="comment"># True，第 3 个元素 3 &lt; 4</span></span><br><span class="line"><span class="built_in">print</span>((<span class="number">1</span>, <span class="number">2</span>) &lt; (<span class="number">1</span>, <span class="number">2</span>, <span class="number">0</span>))       <span class="comment"># True，前缀更短且前面都相等 -&gt; 更小</span></span><br><span class="line"><span class="built_in">print</span>((<span class="number">1</span>, <span class="number">3</span>) &gt; (<span class="number">1</span>, <span class="number">2</span>, <span class="number">9</span>))       <span class="comment"># True，第 2 个元素 3 &gt; 2</span></span><br><span class="line"></span><br><span class="line">(<span class="number">1</span>, <span class="string">&quot;a&quot;</span>) &lt; (<span class="number">1</span>, <span class="number">2</span>)               <span class="comment"># ❌，TypeError，序列比较比较要求元素之间可以进行比较运算</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 成员检查 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line">t = (<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;banana&#x27;</span>, <span class="string">&#x27;cherry&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;banana&#x27;</span> <span class="keyword">in</span> t)          <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;BANANA&#x27;</span> <span class="keyword">in</span> t)          <span class="comment"># False，区分大小写</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;pear&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> t)        <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 成员检查是拿目标值逐个与元素做 == 比较</span></span><br><span class="line"><span class="built_in">print</span>((<span class="number">1</span>, <span class="number">2</span>) <span class="keyword">in</span> ((<span class="number">1</span>, <span class="number">2</span>), (<span class="number">3</span>, <span class="number">4</span>)))   <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">2</span> <span class="keyword">in</span> ((<span class="number">1</span>, <span class="number">2</span>), (<span class="number">3</span>, <span class="number">4</span>)))        <span class="comment"># False，元素是子列表，不是数字 2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 序列解包 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line">a, b, c = (<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>)</span><br><span class="line"><span class="built_in">print</span>(a, b, c)              <span class="comment"># 10 20 30</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 扩展序列解包</span></span><br><span class="line">head, *mid, tail = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(head)                 <span class="comment"># 1</span></span><br><span class="line"><span class="built_in">print</span>(mid)                  <span class="comment"># [2, 3, 4]</span></span><br><span class="line"><span class="built_in">print</span>(tail)                 <span class="comment"># 5</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用在 for 循环里</span></span><br><span class="line">pairs = ((<span class="number">1</span>, <span class="string">&#x27;a&#x27;</span>), (<span class="number">2</span>, <span class="string">&#x27;b&#x27;</span>), (<span class="number">3</span>, <span class="string">&#x27;c&#x27;</span>))</span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> pairs:</span><br><span class="line">    <span class="built_in">print</span>(k, v)</span><br><span class="line"></span><br><span class="line">x, y = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)            <span class="comment"># ❌，ValueError，长度不匹配会报错，除非用 * 接住</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：range-型"><a href="#知识点：range-型" class="headerlink" title="知识点：range 型"></a>知识点：range 型</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - range 型，是 python 内置的有序不可变序列，特点为惰性和等差序列</span><br><span class="line">  - range 型没有字面量，只能通过构造函数进行创建</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* 惰性 lazy</span><br><span class="line">  - range 对象的数据是动态生成的</span><br><span class="line">  - range 对象不会把所有数字一次性存进内存，而是按需计算</span><br><span class="line">  - 所有的 range 对象都占用同样大小的内存，其中只储存 start、stop、step 三个值</span><br><span class="line">  - 相比 list 和 tuple 更节省内存，尤其是序列较大的情况</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* range 与 list 的核心区别</span><br><span class="line">  - list(range(10_000_000)) 会把一千万个整数对象都创建出来，很吃内存</span><br><span class="line">  - range(10_000_000) 只是保存三元组信息 start/stop/step，很省内存</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>range() 函数</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># range() 函数，python 内置函数，是 range 型的构造函数</span></span><br><span class="line"><span class="comment"># 根据指定的参数，返回相应的 range 对象</span></span><br><span class="line"><span class="comment"># 包含 start，必定不包含 stop</span></span><br><span class="line"><span class="comment"># step 不能为 0</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     class range(stop)</span></span><br><span class="line"><span class="comment">#     class range(start, stop[, step])</span></span><br><span class="line"></span><br><span class="line">r1 = <span class="built_in">range</span>(<span class="number">100</span>)</span><br><span class="line">r1 = <span class="built_in">range</span>(<span class="number">50</span>,<span class="number">100</span>,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># range(0) 可以存在，具有意义，表示 range 中不包含任何元素</span></span><br><span class="line"><span class="comment"># 与空列表、空元组性质相同</span></span><br><span class="line">r0 = <span class="built_in">range</span>(<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(r0))    <span class="comment"># 0</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bool</span>(r0))   <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(r0))   <span class="comment"># []，使用 range(0) 构建其他序列，会得到空 list、空 tuple</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 所有的参数都需要是 int，可以是负数</span></span><br><span class="line"><span class="comment"># 计算方式：</span></span><br><span class="line"><span class="comment">#     range[i]=start+i*step</span></span><br><span class="line"><span class="comment">#     若 step 为正，start 应当小于 stop，当 range[i] &gt;= stop 时停止</span></span><br><span class="line"><span class="comment">#     若 step 为负，start 应当大于 stop，当 range[i] &lt;= stop 时停止</span></span><br><span class="line">r1=<span class="built_in">range</span>(<span class="number">50</span>,<span class="number">60</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(r1))     <span class="comment"># [50, 52, 54, 56, 58]</span></span><br><span class="line"></span><br><span class="line">r2=<span class="built_in">range</span>(<span class="number">60</span>,<span class="number">50</span>,-<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(r2))     <span class="comment"># [60, 58, 56, 54, 52]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果参数指定的不合理，无法计算出有效的元素，则 python 不会报错而是尽最大努力进行生成</span></span><br><span class="line"><span class="comment"># 此时一般会返回 range(0)</span></span><br><span class="line">r=<span class="built_in">range</span>(<span class="number">60</span>,<span class="number">50</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(r))      <span class="comment"># []</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>range 属性</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># range.start ，返回 range 的开始数</span></span><br><span class="line"><span class="comment"># range.stop  ，返回 range 的结束数</span></span><br><span class="line"><span class="comment"># range.step  ，返回 range 的步长</span></span><br><span class="line">r1=<span class="built_in">range</span>(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(r1.start)   <span class="comment"># 0</span></span><br><span class="line"><span class="built_in">print</span>(r1.stop)    <span class="comment"># 10</span></span><br><span class="line"><span class="built_in">print</span>(r1.step)    <span class="comment"># 1</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>range 型支持的运算和操作</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># range 支持大部分的序列基础操作，包括：索引、切片、序列比较、成员检查、序列解包</span></span><br><span class="line"><span class="comment"># range 不支持大小比较</span></span><br><span class="line"><span class="comment"># range 不支持序列拼接、序列倍乘</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 长度 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="built_in">len</span>(<span class="built_in">range</span>(<span class="number">5</span>))           <span class="comment"># 5</span></span><br><span class="line"><span class="built_in">len</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">10</span>, <span class="number">2</span>))    <span class="comment"># 5  -&gt; 1,3,5,7,9</span></span><br><span class="line"><span class="built_in">len</span>(<span class="built_in">range</span>(<span class="number">10</span>, <span class="number">0</span>, -<span class="number">3</span>))   <span class="comment"># 4  -&gt; 10,7,4,1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 索引 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line">r = <span class="built_in">range</span>(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line">r[<span class="number">0</span>]          <span class="comment"># 10</span></span><br><span class="line">r[<span class="number">3</span>]          <span class="comment"># 13</span></span><br><span class="line">r[-<span class="number">1</span>]         <span class="comment"># 19</span></span><br><span class="line">r[-<span class="number">2</span>]         <span class="comment"># 18</span></span><br><span class="line"><span class="built_in">range</span>(<span class="number">5</span>)[<span class="number">10</span>]  <span class="comment"># ❌，IndexError，索引越界会抛异常</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 切片 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># range 的切片结果仍是 range，这是 range 的一个关键特性</span></span><br><span class="line">r1 = <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">20</span>, <span class="number">2</span>)    <span class="comment"># 0,2,4,...,18</span></span><br><span class="line">r2 = r1[<span class="number">2</span>:<span class="number">6</span>]            <span class="comment"># 4,6,8,10</span></span><br><span class="line"><span class="built_in">print</span>(r2)               <span class="comment"># range(4, 12, 2)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(r2))         <span class="comment"># [4, 6, 8, 10]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 切片带步长：</span></span><br><span class="line">r = <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">30</span>, <span class="number">3</span>)     <span class="comment"># 0,3,6,...,27</span></span><br><span class="line"><span class="built_in">list</span>(r[<span class="number">1</span>:<span class="number">8</span>:<span class="number">2</span>])          <span class="comment"># [3, 9, 15, 21]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 切片也支持负步长（反向）</span></span><br><span class="line">r = <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">10</span>)        <span class="comment"># 0..9</span></span><br><span class="line"><span class="built_in">list</span>(r[::-<span class="number">1</span>])           <span class="comment"># [9,8,7,6,5,4,3,2,1,0]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 相对比较 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># range 与 range 进行相等比较，比较的是产生的序列是否相同，而不只是参数是否相同</span></span><br><span class="line"><span class="built_in">range</span>(<span class="number">0</span>, <span class="number">3</span>, <span class="number">1</span>) == <span class="built_in">range</span>(<span class="number">3</span>)        <span class="comment"># True  都是 0,1,2</span></span><br><span class="line"><span class="built_in">range</span>(<span class="number">0</span>, <span class="number">4</span>, <span class="number">2</span>) == <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">5</span>, <span class="number">2</span>)  <span class="comment"># True  都是 0,2</span></span><br><span class="line"><span class="built_in">range</span>(<span class="number">0</span>, <span class="number">0</span>) == <span class="built_in">range</span>(<span class="number">2</span>, <span class="number">2</span>)        <span class="comment"># True  都是空序列</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 成员检查 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># range 的成员检查 in 不是逐个遍历，通常是数学判定，因此比较快</span></span><br><span class="line"><span class="comment"># 这是 range 相比 list/tuple 很大的不同</span></span><br><span class="line"><span class="number">10</span> <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">10</span>)   <span class="comment"># True</span></span><br><span class="line"><span class="number">15</span> <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">10</span>)   <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 快速构造一个 list ----- &#x27;&#x27;&#x27;</span></span><br><span class="line">lst=<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 用在 for 循环 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 只需要次数，不需要变量，Python 社区常见写法，使用占位变量 &#x27;_&#x27;</span></span><br><span class="line"><span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">    do_something()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 连续输错三次密码则报错 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line">passwd=<span class="string">&#x27;123456&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">4</span>):</span><br><span class="line">    user_passwd=<span class="built_in">input</span>(<span class="string">&#x27;请输入密码 : &#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> user_passwd == passwd :</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;登录成功&#x27;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">elif</span> i &lt; <span class="number">3</span> :</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;密码错误&#x27;</span>)</span><br><span class="line">    <span class="keyword">else</span> :</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;密码错误三次，退出&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="2-4-str-型"><a href="#2-4-str-型" class="headerlink" title="2.4 str 型"></a>2.4 str 型</h2><hr>
<h3 id="知识点：str-型-介绍"><a href="#知识点：str-型-介绍" class="headerlink" title="知识点：str 型-介绍"></a>知识点：str 型-介绍</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - str 型，是 python 内置的有序不可变字符序列类型，是最常用的类型之一</span><br><span class="line">  - str 型的作用是用来表示一段文本</span><br><span class="line"></span><br><span class="line">* 有序</span><br><span class="line">  - str 型是有序的，每一个字符都有自己的索引</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">* 不可变</span><br><span class="line">  - str 对象一旦创建，其内容就不会改变，任何看似修改文本的结果，本质都是生成新的 str 型对象</span><br><span class="line">  - str 型是可哈希的，因此 str 型可以当做 dict 的 key 或者 set 的元素</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* 字符</span><br><span class="line">  - str 型中的每个元素都是一个字符，或者说 Unicode 码点</span><br><span class="line">  - python 没有 character 类型，即使是单个字符也是通过 str 型来表示</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* 序列</span><br><span class="line">  - str 是一个序列型，因此 str 支持大多数的序列通用操作</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str 型支持的运算和操作</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># str 型支持全部的序列基础操作</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 求长度 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 字符串求长度，就是求字符串中字符的个数</span></span><br><span class="line"><span class="comment"># 包含空格、符号、以及人类不可见的字符</span></span><br><span class="line">s = <span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(s))       <span class="comment"># 12</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 索引 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 正向索引从 0 开始</span></span><br><span class="line"><span class="comment"># 负向索引从 -1 开始，最后一个字符</span></span><br><span class="line">s = <span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s[<span class="number">0</span>])     <span class="comment"># &#x27;H&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s[<span class="number">6</span>])     <span class="comment"># &#x27;W&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s[-<span class="number">1</span>])    <span class="comment"># &#x27;!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s[-<span class="number">6</span>])    <span class="comment"># &#x27;W&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 索引越界会报错</span></span><br><span class="line">s[<span class="number">999</span>]          <span class="comment"># ❌，IndexError</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 切片 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line">s = <span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s[<span class="number">0</span>:<span class="number">5</span>])       <span class="comment"># &#x27;Hello&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s[<span class="number">6</span>:<span class="number">11</span>])      <span class="comment"># &#x27;World&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s[:<span class="number">5</span>])        <span class="comment"># &#x27;Hello&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s[<span class="number">6</span>:])        <span class="comment"># &#x27;World!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s[:])         <span class="comment"># &#x27;Hello World!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s[::<span class="number">2</span>])       <span class="comment"># &#x27;HloWrd&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s[::-<span class="number">1</span>])      <span class="comment"># &#x27;!dlroW olleH&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 索引越界不报错（自动截断）。</span></span><br><span class="line"><span class="built_in">print</span>(s[<span class="number">100</span>:<span class="number">200</span>])   <span class="comment"># &#x27;&#x27; 空字符串</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 序列拼接 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 把两个字符串拼成一个新字符串</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line">t = s + <span class="string">&#x27; :)&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(t)      <span class="comment"># &#x27;Hello World! :)&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 序列倍乘 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 把字符串重复多次</span></span><br><span class="line">s = <span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s * <span class="number">2</span>)     <span class="comment"># &#x27;Hello World!Hello World!&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 次数为 0 得到空串</span></span><br><span class="line"><span class="built_in">print</span>(s * <span class="number">0</span>)     <span class="comment"># &#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 相等比较 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 字符串进行相等比较，会按内容逐字符比较</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s == <span class="string">&#x27;Hello World!&#x27;</span>)   <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(s == <span class="string">&#x27;Hello world!&#x27;</span>)   <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(s != <span class="string">&#x27;Hello World!&#x27;</span>)   <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 大小比较 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 字符串进行大小比较，是按照字典序 lexicographic order 从左到右逐字符比较，遇到不同字符就决定大小</span></span><br><span class="line"><span class="comment"># 字典序并不是按照人类的语言规则排序，而是按字符 Unicode 码点序</span></span><br><span class="line"><span class="comment"># 如果一方是另一方的前缀，则较短的更小</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Hello&#x27;</span> &lt; <span class="string">&#x27;Hello!&#x27;</span>)   <span class="comment"># True，&#x27;Hello&#x27; 是前缀，短的更小</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Hello&#x27;</span> &lt; <span class="string">&#x27;Help&#x27;</span>)     <span class="comment"># True，&#x27;l&#x27; &lt; &#x27;p&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Hello&#x27;</span> &lt; <span class="string">&#x27;hello&#x27;</span>)    <span class="comment"># True，&#x27;H&#x27; 的码点 &lt; &#x27;h&#x27;，注意大小写影响</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;World&#x27;</span> &gt; <span class="string">&#x27;Wor&#x27;</span>)      <span class="comment"># True，&#x27;Wor&#x27; 是前缀，长的更大</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 成员检查 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 对于 str 型，成员检查并不是检查单个元素，而是进行子字符串的检查</span></span><br><span class="line"><span class="comment"># 即是否存在某段连续字符</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;World&#x27;</span> <span class="keyword">in</span> s)     <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;wor&#x27;</span> <span class="keyword">in</span> s)       <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27; &#x27;</span> <span class="keyword">in</span> s)         <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;!&#x27;</span> <span class="keyword">in</span> s)         <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Hello&#x27;</span> <span class="keyword">in</span> s)     <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Hello!&#x27;</span> <span class="keyword">in</span> s)    <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;XYZ&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> s)   <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 序列解包 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 等长解包</span></span><br><span class="line">a, b, c = <span class="string">&quot;ABC&quot;</span></span><br><span class="line"><span class="built_in">print</span>(a, b, c)      <span class="comment"># A B C</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 扩展解包</span></span><br><span class="line">s = <span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line"></span><br><span class="line">first, *middle, last = s</span><br><span class="line"><span class="built_in">print</span>(first)            <span class="comment"># &#x27;H&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(last)             <span class="comment"># &#x27;!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(middle[:<span class="number">5</span>])       <span class="comment"># [&#x27;e&#x27;, &#x27;l&#x27;, &#x27;l&#x27;, &#x27;o&#x27;, &#x27; &#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 格式化 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 详细细节，知识点：字符串格式化-printf 风格</span></span><br><span class="line">s=<span class="string">&#x27;Hello %s World!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s)            <span class="comment"># Hello %s World!</span></span><br><span class="line"><span class="built_in">print</span>(s % <span class="string">&#x27;this&#x27;</span>)   <span class="comment"># Hello this World!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 详细细节，知识点：字符串格式化-format 风格</span></span><br><span class="line">s=<span class="string">&#x27;Hello &#123;!s&#125; World!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s)                  <span class="comment"># Hello &#123;!s&#125; World!</span></span><br><span class="line"><span class="built_in">print</span>(s.<span class="built_in">format</span>(<span class="string">&#x27;this&#x27;</span>))   <span class="comment"># Hello this World!</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：str-型-字符串字面量"><a href="#知识点：str-型-字符串字面量" class="headerlink" title="知识点：str 型-字符串字面量"></a>知识点：str 型-字符串字面量</h3><ol>
<li><strong>普通字符串字面量</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 最常用的字符串字面量</span></span><br><span class="line"><span class="comment"># 使用单引号 &#x27; &#x27; 或双引号 &quot; &quot; 进行界定，单引号和双引号在语义上没有区别</span></span><br><span class="line">s1=<span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line">s2=<span class="string">&quot;Hello World!&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s1)         <span class="comment"># Hello World!</span></span><br><span class="line"><span class="built_in">print</span>(s2)         <span class="comment"># Hello World!</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 普通字符串不能跨行，需要使用反斜线 &#x27;\&#x27; 对换行符进行转义</span></span><br><span class="line"><span class="comment"># 只是为了人类阅读方便，字符串中实际仍按照一行进行存储</span></span><br><span class="line">s1=<span class="string">&quot;Hello, world!\</span></span><br><span class="line"><span class="string">Next line.&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s1)             <span class="comment"># Hello, world!Next line.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 普通字符串中支持使用转义序列 escape sequenct</span></span><br><span class="line">s=<span class="string">&#x27;Hello\tWorld!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s)          <span class="comment"># Hello   World!</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果想要用普通字符串储存多行的内容，需要使用 &#x27;\n&#x27;</span></span><br><span class="line">s1=<span class="string">&quot;Hello, world!\nNext line.&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s1)         </span><br><span class="line"><span class="comment"># Hello, world!</span></span><br><span class="line"><span class="comment"># Next line.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 普通字符串内如果包含单引号或者双引号，要么使用另一种引号进行界定，要么使用反斜线进行转义</span></span><br><span class="line">s1=<span class="string">&#x27;He said: &quot;OK&quot;.&#x27;</span></span><br><span class="line">s2=<span class="string">&quot;He said: \&quot;OK\&quot;.&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s1)     <span class="comment"># He said: &quot;OK&quot;.   </span></span><br><span class="line"><span class="built_in">print</span>(s2)     <span class="comment"># He said: &quot;OK&quot;.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 普通字符串内如果有反斜线 &#x27;\&#x27; 字符，则使用两个反斜线字符 &#x27;\\&#x27;</span></span><br><span class="line">s=<span class="string">&quot;Hello \\ world!&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s)              <span class="comment"># Hello \ world!</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>长字符串字面量</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 长字符串字面量 triple-quoted string literal</span></span><br><span class="line"><span class="comment"># 使用三个单引号 &#x27;&#x27;&#x27;...&#x27;&#x27;&#x27; 或三个双引号 &quot;&quot;&quot;...&quot;&quot;&quot; 进行界定</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 长字符串和普通字符串的区别在于，长字符串更符合人类的阅读习惯，几乎是所见即所得：</span></span><br><span class="line"><span class="comment">#     长字符串可以自动保留字符串中的换行符，无需额外指定 \n</span></span><br><span class="line"><span class="comment">#     长字符串内可以自动保存单引号和双引号，无需进行转义</span></span><br><span class="line">long_text = <span class="string">&quot;&quot;&quot;Dear &quot;Jay&quot;,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">This is a long message written as a triple-quoted string literal.</span></span><br><span class="line"><span class="string">It looks much closer to what humans read: newlines are preserved as-is.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Quoting is easier:</span></span><br><span class="line"><span class="string">  - He said: &quot;Hello World!&quot;</span></span><br><span class="line"><span class="string">  - She replied: &quot;It&#x27;s fine.&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Here is a JSON snippet:</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">  &quot;title&quot;: &quot;Hello World!&quot;,</span></span><br><span class="line"><span class="string">  &quot;note&quot;: &quot;Don&#x27;t forget the \&quot;!\&quot;&quot;,</span></span><br><span class="line"><span class="string">  &quot;path&quot;: &quot;C:\\Users\\jayjiang\\Desktop\\notes.txt&quot;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Regards,</span></span><br><span class="line"><span class="string">ChatGPT</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 长字符串中支持使用转义序列</span></span><br><span class="line">s = <span class="string">&quot;&quot;&quot;Hello \nWorld!</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(s))    <span class="comment"># &#x27;Hello \nWorld!\n&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 长字符串支持使用反斜线 &#x27;\&#x27; 对换行符进行转义</span></span><br><span class="line"><span class="comment"># 以下范例是常见的一种使用反斜杠来去除开头行的方式</span></span><br><span class="line">s = <span class="string">&quot;&quot;&quot;\</span></span><br><span class="line"><span class="string">Hello World!</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(s))    <span class="comment"># &#x27;Hello World!\n&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果想要在长字符串中写入反斜线 &#x27;\&#x27; 字符，则使用两个反斜线字符 &#x27;\\&#x27;</span></span><br><span class="line">s = <span class="string">&quot;&quot;&quot;Hello\\World!&quot;&quot;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s)    <span class="comment"># Hello\World!</span></span><br><span class="line"><span class="comment"># 长字符串在使用时，尤其是跨行的长字符串，要注意注释</span></span><br><span class="line">s = <span class="string">&quot;&quot;&quot;\</span></span><br><span class="line"><span class="string">Hello World!      # 这段注释会被包含进长字符中</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span>               <span class="comment"># 这段注释不会被包含进长字符中</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(s))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 应用场景：</span></span><br><span class="line"><span class="comment">#     docstring，模块、类、函数第一条语句若是长字符串字面量，会成为其 docstring</span></span><br><span class="line"><span class="comment">#     多行文本，如 SQL、HTML、配置片段、长说明等</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># docstring：</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;这是 foo 的文档字符串。</span></span><br><span class="line"><span class="string">    - 参数：无</span></span><br><span class="line"><span class="string">    - 返回：None</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># SQL 语句</span></span><br><span class="line">sql = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">SELECT id, name</span></span><br><span class="line"><span class="string">FROM users</span></span><br><span class="line"><span class="string">WHERE active = 1</span></span><br><span class="line"><span class="string">and name != &#x27;Tom&#x27; ;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>原始字符串字面量</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 介绍 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 原始字符串字面量，Raw string</span></span><br><span class="line"><span class="comment"># 格式上使用前缀 &#x27;r&#x27; 或 &#x27;R&#x27; 进行标记，支持单引号 &#x27;...&#x27;、双引号 &quot;...&quot;、三个单引号 &#x27;&#x27;&#x27;...&#x27;&#x27;&#x27;、三个双引号 &quot;&quot;&quot;...&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># 原始字符串字面量最重要的特点，就是对反斜线 \ 的处理，反斜杠 \ 通常不再触发转义序列的解析：</span></span><br><span class="line"><span class="comment">#     1. 反斜线 &#x27;\&#x27;、跳脱序列，不再作为 Python 字面量转义符，而是按字面值保留到生成的字符串对象中</span></span><br><span class="line"><span class="comment">#     2. 对于 r&#x27;...&#x27; 和 r&quot;...&quot; 的格式，单引号 &#x27; 和双引号 &quot; 还是仍然需要使用反斜线进行转义的，并且这个反斜线会保留在最后的字符串值中，因此最好换其他引号方式</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 普通字符串，\n 会变成换行</span></span><br><span class="line">a = <span class="string">&quot;Hello\nWorld&quot;</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="comment"># Hello</span></span><br><span class="line"><span class="comment"># World</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(a))  <span class="comment"># 11，包含一个真实的换行字符</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># raw 字符串，\n 就是两个字符 &#x27;\&#x27; 和 &#x27;n&#x27;</span></span><br><span class="line">b = <span class="string">r&quot;Hello\nWorld&quot;</span></span><br><span class="line"><span class="built_in">print</span>(b)       <span class="comment"># Hello\nWorld</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(b))  <span class="comment"># 12，两个字符，\ 和 n</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 含引号的情况</span></span><br><span class="line">a=<span class="string">r&quot;He said \&quot;Hi\&quot;&quot;</span></span><br><span class="line">b=<span class="string">r&#x27;&#x27;&#x27;He said &quot;Hi&quot;&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(a)            <span class="comment"># He said \&quot;Hi\&quot;</span></span><br><span class="line"><span class="built_in">print</span>(b)            <span class="comment"># He said &quot;Hi&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 原始字符串的最大坑，不能以单个反斜杠结尾</span></span><br><span class="line"><span class="comment"># 解决方案，结尾用双反斜杠，或者拼接一个普通字符串</span></span><br><span class="line">a = <span class="string">r&quot;C:\temp\\&quot;</span></span><br><span class="line">b = <span class="string">r&quot;C:\temp&quot;</span> + <span class="string">&quot;\\&quot;</span></span><br><span class="line"><span class="built_in">print</span>(a)      <span class="comment"># C:\temp\\</span></span><br><span class="line"><span class="built_in">print</span>(b)      <span class="comment"># C:\temp\</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># raw 字符串常见用途，windows 路径</span></span><br><span class="line">a=<span class="string">r&quot;C:\new\test&quot;</span></span><br><span class="line"><span class="built_in">print</span>(a)            <span class="comment"># C:\new\test</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 正则匹配 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 原始字符串字面量最大的应用场景，就是用在正则匹配中，用来写 pattern</span></span><br><span class="line"><span class="comment"># 因为在正则 pattern 中，反斜线很重要也很常用，如 \d \s \b \w \A \Z 等</span></span><br><span class="line"><span class="comment"># 若用普通字符串写正则，要写两次反斜线才能把一个反斜线传给正则引擎，而原始字符串只写一次即可，直观且不易错</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 正则匹配数字</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">re.findall(<span class="string">r&quot;\d+&quot;</span>, <span class="string">&quot;a12b3&quot;</span>)   <span class="comment"># 原始字符串方式，pattern 直观易懂</span></span><br><span class="line">re.findall(<span class="string">&quot;\\d+&quot;</span>, <span class="string">&quot;a12b3&quot;</span>)   <span class="comment"># 普通字符串方式，效果相同，但 pattern 可读性差</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 正则匹配，提取所有数字串</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">text = <span class="string">&quot;Order A12 costs 399, B7 costs 5.&quot;</span></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">r&quot;\d+&quot;</span>, text))             <span class="comment"># [&#x27;12&#x27;, &#x27;399&#x27;, &#x27;7&#x27;, &#x27;5&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 正则匹配，提取所有单词（字母数字下划线）</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">text = <span class="string">&quot;Hello_world 123, 中文 not_in_\\w&quot;</span></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">r&quot;\w+&quot;</span>, text))             <span class="comment"># [&#x27;Hello_world&#x27;, &#x27;123&#x27;, &#x27;中文&#x27;, &#x27;not_in_&#x27;, &#x27;w&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 正则匹配，提取空白块（空格/Tab/换行）</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">text = <span class="string">&quot;a\tb  c\n\nd&quot;</span></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">r&quot;\s+&quot;</span>, text))   <span class="comment"># [&#x27;\t&#x27;, &#x27;  &#x27;, &#x27;\n\n&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 正则匹配，捕获年月日</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">text = <span class="string">&quot;date=2025-12-29; next=2026-01-01&quot;</span></span><br><span class="line"><span class="built_in">print</span>(re.findall(<span class="string">r&quot;(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)&quot;</span>, text))   <span class="comment"># [(&#x27;2025&#x27;, &#x27;12&#x27;, &#x27;29&#x27;), (&#x27;2026&#x27;, &#x27;01&#x27;, &#x27;01&#x27;)]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 正则匹配，获取 linux 的内核版本号</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"></span><br><span class="line">out = subprocess.check_output([<span class="string">&quot;uname&quot;</span>, <span class="string">&quot;-r&quot;</span>], text=<span class="literal">True</span>).strip()</span><br><span class="line"><span class="comment"># out 例如: &quot;5.15.0-84-generic&quot;</span></span><br><span class="line"></span><br><span class="line">m = re.match( <span class="string">r&quot;^(?P&lt;major&gt;\d+)\.(?P&lt;minor&gt;\d+)\.(?P&lt;patch&gt;\d+)(?P&lt;suffix&gt;.*)$&quot;</span>, out )</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> m:</span><br><span class="line">    <span class="keyword">raise</span> ValueError(<span class="string">f&quot;unexpected uname -r: <span class="subst">&#123;out&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;full:&quot;</span>, out)                   <span class="comment"># full: 5.15.0-25-generic</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;major:&quot;</span>, m.group(<span class="string">&quot;major&quot;</span>))     <span class="comment"># major: 5</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;minor:&quot;</span>, m.group(<span class="string">&quot;minor&quot;</span>))     <span class="comment"># minor: 15</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;patch:&quot;</span>, m.group(<span class="string">&quot;patch&quot;</span>))     <span class="comment"># patch: 0</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;suffix:&quot;</span>, m.group(<span class="string">&quot;suffix&quot;</span>))   <span class="comment"># suffix: -25-generic</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 正则匹配，获取 /data1 磁盘的使用情况</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"></span><br><span class="line">df_out = subprocess.check_output([<span class="string">&quot;df&quot;</span>, <span class="string">&quot;-P&quot;</span>, <span class="string">&quot;-BG&quot;</span>, <span class="string">&quot;/data1&quot;</span>], text=<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># df_out 通常两行：表头 + /data1 那行</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用 MULTILINE 让 ^/$ 作用于每一行</span></span><br><span class="line">m = re.search(<span class="string">r&quot;(?m)^\S+\s+(?P&lt;total&gt;\d+G)\s+\d+G\s+(?P&lt;avail&gt;\d+G)\s+\S+\s+/data1\s*$&quot;</span>, df_out)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> m:</span><br><span class="line">    <span class="keyword">raise</span> ValueError(<span class="string">&quot;cannot find /data1 line with G units&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;total:&quot;</span>, m.group(<span class="string">&quot;total&quot;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;avail:&quot;</span>, m.group(<span class="string">&quot;avail&quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：str-型-内置方法-介绍"><a href="#知识点：str-型-内置方法-介绍" class="headerlink" title="知识点：str 型-内置方法-介绍"></a>知识点：str 型-内置方法-介绍</h3><ol>
<li><strong>分类</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">* str 型的内置方法由于过多，因此 python 官方文档采用以下方式对其进行分类</span><br><span class="line"></span><br><span class="line">* 大小写处理 Case Manipulation</span><br><span class="line">  - str.lower()、str.upper()</span><br><span class="line">  - str.casefold()</span><br><span class="line">  - str.capitalize()</span><br><span class="line">  - str.title()</span><br><span class="line">  - str.swapcase()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* 字符串判定 String Classification</span><br><span class="line">  - str.isupper()、str.islower()</span><br><span class="line">  - str.isalpha()</span><br><span class="line">  - str.isdecimal()</span><br><span class="line">  - str.isdigit()</span><br><span class="line">  - str.isnumeric()</span><br><span class="line">  - str.isalnum()</span><br><span class="line">  - str.isspace()</span><br><span class="line">  - str.isprintable()</span><br><span class="line">  - str.isascii()</span><br><span class="line">  - str.isidentifier()</span><br><span class="line">  - str.istitle()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* 查找与替换 Searching and Replacing</span><br><span class="line">  - str.find()、str.rfind()</span><br><span class="line">  - str.index()、str.rindex()</span><br><span class="line">  - str.startswith()、str.endswith()</span><br><span class="line">  - str.count()</span><br><span class="line">  - str.removeprefix()、str.removesuffix()</span><br><span class="line">  - str.replace()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* 拆分与连接 Splitting and Joining</span><br><span class="line">  - str.split()、str.rsplit()</span><br><span class="line">  - str.splitlines()</span><br><span class="line">  - str.partition()、str.rpartition()</span><br><span class="line">  - str.join()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* 对齐与裁剪 Padding and Stripping</span><br><span class="line">  - str.ljust()、str.rjust()、str.center()</span><br><span class="line">  - str.zfill()</span><br><span class="line">  - str.expandtabs()</span><br><span class="line">  - str.lstrip()、str.rstrip()、str.strip()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* 翻译与编码 Translation and Encoding</span><br><span class="line">  - str.translate()</span><br><span class="line">  - str.maketrans()</span><br><span class="line">  - str.encode()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* 格式化 Formatting</span><br><span class="line">  - str.format()</span><br><span class="line">  - str.format_map()</span><br><span class="line">  - 详细内容，知识点：字符串格式化-format 风格</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：str-型-内置方法-大小写处理"><a href="#知识点：str-型-内置方法-大小写处理" class="headerlink" title="知识点：str 型-内置方法-大小写处理"></a>知识点：str 型-内置方法-大小写处理</h3><ol>
<li><strong>介绍</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 大小写处理 Case Manipulation</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># str.lower()、str.upper()：将字符串转换为全大写/小写形式</span></span><br><span class="line"><span class="comment"># str.casefold()          ：对字符串进行规范化处理</span></span><br><span class="line"><span class="comment"># str.capitalize()        ：把字符串变成句首大写风格</span></span><br><span class="line"><span class="comment"># str.title()             ：把字符串转换为标题式大小写风格</span></span><br><span class="line"><span class="comment"># str.swapcase()          ：把每个字符的大小写互换</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.upper()、str.lower()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 根据 Unicode 规则转换为，将字符串转换为全大写/小写形式，返回转换后的新字符串</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.upper()</span></span><br><span class="line"><span class="comment">#   str.lower()</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;Hello World!&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.upper())  <span class="comment"># &quot;HELLO WORLD!&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.lower())  <span class="comment"># &quot;hello world!&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 坑</span></span><br><span class="line"><span class="comment"># 由于是基于 Unicode 规则进行转换，因此针对不同的小语种，可能会出现奇怪的情况</span></span><br><span class="line">s=<span class="string">&quot;中文ABCéß&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.lower())    <span class="comment"># 中文abcéß</span></span><br><span class="line"><span class="built_in">print</span>(s.upper())    <span class="comment"># 中文ABCÉSS，ß，即德语 sharp s 转换成大写可能会变成两个字符</span></span><br><span class="line"><span class="built_in">print</span>(s.upper().lower() == s)   <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.casefold()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 对字符串进行规范化处理 case folding</span></span><br><span class="line"><span class="comment"># 规范化可以理解为一种专门用于进行大小写不敏感比较的统一形式</span></span><br><span class="line"><span class="comment"># 表现为把大写字母转化为小写字母，但比 lower() 更强力更统一</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.casefold()</span></span><br><span class="line"></span><br><span class="line">s=<span class="string">&quot;Hello World!&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.casefold())   <span class="comment"># hello world!</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 实战建议，在进行忽略大小写比较时优先用 str.casefold()，尤其针对小语种的情况，不会出现奇怪的结果</span></span><br><span class="line">s1=<span class="string">&quot;Straße&quot;</span></span><br><span class="line">s2=<span class="string">&quot;STRASSE&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s1.casefold() == s2.casefold()) <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.swapcase()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 把每个字符的大小写互换</span></span><br><span class="line"><span class="comment"># 基于 Unicode 大小写映射，不仅限 ASCII，因此可能会出现奇怪的情况</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.swapcase()</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;Hello World!&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.swapcase())  <span class="comment"># &quot;hELLO wORLD!&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.capitalize()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 把字符串变成句首大写风格，第一个字符转为大写，其余字符全部转为小写</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.capitalize()</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;Hello World!&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.capitalize())     <span class="comment"># &quot;Hello world!&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 即使字符串是一段话，str.capitalize() 也只会将第一个字符串转换为大写，其余字符全部转为小写</span></span><br><span class="line">s=<span class="string">&#x27;&#x27;&#x27;I Have a Dream</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">I am happy to join with you today in what will go down in history as the greatest demonstration for freedom in the history of our nation.&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s.capitalize())</span><br><span class="line"><span class="comment"># I have a dream</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># i am happy to join with you today in what will go down in history as the greatest demonstration for freedom in the history of our nation.</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.title()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 把字符串转换为标题式大小写风格 Title Case，即每个单词的第一个字符为大写，单词中其余字符变为小写</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.title()</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;hello world!&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.title())      <span class="comment"># Hello World!</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 下划线、横向等都会被识别为单词的分隔符</span></span><br><span class="line">s1 = <span class="string">&quot;welcome-to-python&quot;</span></span><br><span class="line">s2 = <span class="string">&quot;welcome_to_python&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s1.title())       <span class="comment"># Welcome-To-Python</span></span><br><span class="line"><span class="built_in">print</span>(s2.title())       <span class="comment"># Welcome_To_Python</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：str-型-内置方法-字符串判定"><a href="#知识点：str-型-内置方法-字符串判定" class="headerlink" title="知识点：str 型-内置方法-字符串判定"></a>知识点：str 型-内置方法-字符串判定</h3><ol>
<li><strong>介绍</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字符串判定 String Classification</span></span><br><span class="line"><span class="comment"># 返回 True/False，不修改原字符串</span></span><br><span class="line"><span class="comment"># 通常要求字符串非空，所有字符都满足条件才返回 Ture，否则返回 False</span></span><br><span class="line"><span class="comment"># 空字符串 &quot;&quot; 对绝大多数字符串判定方法都是 False</span></span><br><span class="line"><span class="comment"># 基于 Unicode 字符属性进行识别，不只是 ASCII</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># str.isupper()、str.islower()：判断字符串里，具有大小写的字母，是不是全都是大写或小写</span></span><br><span class="line"><span class="comment"># str.isalpha()               ：判断字符串中的所有的字符是否全部为字母</span></span><br><span class="line"><span class="comment"># str.isdecimal()             ：判断字符串中所有的字符是否全部为十进制数字 Decimal</span></span><br><span class="line"><span class="comment"># str.isdigit()               ：判断字符串中所有的字符是否全部都是数字字符</span></span><br><span class="line"><span class="comment"># str.isnumeric()             ：判断字符串中所有的字符是否全部都是表示数值的字符</span></span><br><span class="line"><span class="comment"># str.isalnum()               ：判断字符串中的所有字符是否全部都是字母或数字</span></span><br><span class="line"><span class="comment"># str.isspace()               ：判断字符串中的字符是否全是空白字符，包括空格、制表符、换行等</span></span><br><span class="line"><span class="comment"># str.isprintable()           ：判断字符串中的所有字符的字符是否全部都是可打印字符</span></span><br><span class="line"><span class="comment"># str.isascii()               ：判断字符串中的所有的字符，是否都属于 ASCII 字符集</span></span><br><span class="line"><span class="comment"># str.isidentifier()          ：判断字符串能否作为 Python 中的标识符</span></span><br><span class="line"><span class="comment"># str.istitle()               ：判断字符串是否是标题格式大小写风格</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.isupper()、str.islower()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断字符串里，具有大小写的字母，是不是全都是大写或小写</span></span><br><span class="line"><span class="comment"># 基于 Unicode 中的 Lu、Ll、Lt 范畴进行判断</span></span><br><span class="line"><span class="comment"># 必须至少出现一个有大小写的字母，否则返回 False</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.upper()</span></span><br><span class="line"><span class="comment">#   str.lower()</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ABC&quot;</span>.isupper())         <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ABC&quot;</span>.islower())         <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;abc&quot;</span>.isupper())         <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;abc&quot;</span>.islower())         <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;AbC&quot;</span>.isupper())         <span class="comment"># False，有小写 b</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Abc&quot;</span>.islower())         <span class="comment"># False，有大写 A</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ABC!&quot;</span>.isupper())        <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;abc!&quot;</span>.islower())        <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ABC123&quot;</span>.isupper())      <span class="comment"># True，出现其他字符不形象，只要求有大小写的字符是全部大写</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;abc123&quot;</span>.islower())      <span class="comment"># True，出现其他字符不形象，只要求有大小写的字符是全部小写</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;   &quot;</span>.islower())         <span class="comment"># False，必须至少出现一个有大小写的字符</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;   &quot;</span>.isupper())         <span class="comment"># False，必须至少出现一个有大小写的字符</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;123&quot;</span>.islower())         <span class="comment"># False，必须至少出现一个有大小写的字符</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;123&quot;</span>.isupper())         <span class="comment"># False，必须至少出现一个有大小写的字符</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>.islower())            <span class="comment"># False，空字符串</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>.isupper())            <span class="comment"># False，空字符串</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.isalpha()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断字符串中的所有的字符是否全部为字母</span></span><br><span class="line"><span class="comment"># 基于 Unicode 中 Letter 范畴进行判断，因此不止包含 ascii，汉字、希腊字母、带重音的拉丁字母都算字母</span></span><br><span class="line"><span class="comment"># 不能出现数字、空格、标点、下划线、换行等，否则就返回 False</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.isalpha()</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;abc&quot;</span>.isalpha())            <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ABC&quot;</span>.isalpha())            <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;abcXYZ&quot;</span>.isalpha())         <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;中文&quot;</span>.isalpha())           <span class="comment"># True，汉字属于字母类</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;漢字かなカナ&quot;</span>.isalpha())   <span class="comment"># True，多种文字系统都可</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;abc123&quot;</span>.isalpha())         <span class="comment"># False，含数字</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;abc def&quot;</span>.isalpha())        <span class="comment"># False，含空格</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;abc-def&quot;</span>.isalpha())        <span class="comment"># False，含连字符</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;abc_def&quot;</span>.isalpha())        <span class="comment"># False，含下划线</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>.isalpha())               <span class="comment"># False，空字符串</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.isdecimal()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断字符串中所有的字符是否全部为十进制数字 Decimal</span></span><br><span class="line"><span class="comment"># 基于 Unicode 中 Nd（Number, decimal digit）进行判断</span></span><br><span class="line"><span class="comment"># 包含 0-9、某些语言的十进制数字如阿拉伯-印度数字等</span></span><br><span class="line"><span class="comment"># 不包含：上标、罗马数字、分数、圈号等</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.isdecimal()</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;0123456789&quot;</span>.isdecimal())   <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;123&quot;</span>.isdecimal())          <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;٠١٢٣&quot;</span>.isdecimal())         <span class="comment"># True，阿拉伯-印度数字 0-3，属于 Nd</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;12 3&quot;</span>.isdecimal())         <span class="comment"># False，空格</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;12.3&quot;</span>.isdecimal())         <span class="comment"># False，小数点</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-123&quot;</span>.isdecimal())         <span class="comment"># False，负号</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;⅕&quot;</span>.isdecimal())            <span class="comment"># False，分数</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;²&quot;</span>.isdecimal())            <span class="comment"># False，上标</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;三&quot;</span>.isdecimal())            <span class="comment"># True，汉字数字</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>.isdecimal())             <span class="comment"># False，空字符串</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.isdigit()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断字符串中所有的字符是否全部都是数字字符</span></span><br><span class="line"><span class="comment"># 按照 Unicode 属性 Numeric_Type = Decimal 或 Numeric_Type = Digit</span></span><br><span class="line"><span class="comment"># 比 str.isdecimal() 更宽松，会包含 str.isdecimal() 的全部字符，还会包含一些额外的字符上标数字也算</span></span><br><span class="line"><span class="comment"># 不包含罗马数字、中文数字</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.isdigit()</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;123&quot;</span>.isdigit())           <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;٠١٢٣&quot;</span>.isdigit())          <span class="comment"># True，阿拉伯-印度数字</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;²&quot;</span>.isdigit())             <span class="comment"># True，上标 2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Ⅺ&#x27;</span>.isdigit())            <span class="comment"># False，罗马数字</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;三&quot;</span>.isdigit())            <span class="comment"># False，中文数字</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;⅕&quot;</span>.isdigit())            <span class="comment"># False，分数</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;12.3&quot;</span>.isdigit())          <span class="comment"># False，小数点</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-123&quot;</span>.isdigit())          <span class="comment"># False，负号</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>.isdigit())              <span class="comment"># False，空字符串</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.isnumeric()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断字符串中所有的字符是否全部都是表示数值的字符</span></span><br><span class="line"><span class="comment"># 按照 Unicode 属性 Numeric_Type=Decimal 或 Digit 或 Numeric 进行判断</span></span><br><span class="line"><span class="comment"># 判断标准最宽松，分数、罗马数字、中文数字等都可能算</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.isnumeric()</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;123&quot;</span>.isnumeric())         <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;٠١٢٣&quot;</span>.isnumeric())        <span class="comment"># True，阿拉伯-印度数字</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;²&quot;</span>.isnumeric())           <span class="comment"># True，上标 2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;⅕&quot;</span>.isnumeric())          <span class="comment"># True，分数</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Ⅻ&quot;</span>.isnumeric())          <span class="comment"># True，罗马数字</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;三&quot;</span>.isnumeric())          <span class="comment"># True，中文数字</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;12.3&quot;</span>.isnumeric())        <span class="comment"># False，小数点</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-123&quot;</span>.isnumeric())        <span class="comment"># False，负号</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>.isnumeric())            <span class="comment"># False，空字符串</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.isalnum()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断字符串中的所有字符是否全部都是字母或数字</span></span><br><span class="line"><span class="comment"># 涵盖字母 + 各类数字字符，相当于 isalpha() + isdecimal() + isdigit() + isnumeric() 的并集</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.isalnum()</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;abc123&quot;</span>.isalnum())       <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;HelloWorld&quot;</span>.isalnum())   <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;汉字123&quot;</span>.isalnum())      <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;abc_123&quot;</span>.isalnum())      <span class="comment"># False，下划线</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;abc 123&quot;</span>.isalnum())      <span class="comment"># False，空格</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;abc-123&quot;</span>.isalnum())      <span class="comment"># False，连字符</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>.isalnum())             <span class="comment"># False，空字符串</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.isspace()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断字符串中的字符是否全是空白字符，包括空格、制表符、换行等</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.isspace()</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot; &quot;</span>.isspace())          <span class="comment"># True，普通空格</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\t&quot;</span>.isspace())         <span class="comment"># True，tab</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\n&quot;</span>.isspace())         <span class="comment"># True，换行</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot; \t\n&quot;</span>.isspace())      <span class="comment"># True，混合空白</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;　&quot;</span>.isspace())         <span class="comment"># True，全角空格</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot; a &quot;</span>.isspace())        <span class="comment"># False（有字母）</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>.isspace())           <span class="comment"># False，空字符串</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.isprintable()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断字符串中的所有字符的字符是否全部都是可打印字符</span></span><br><span class="line"><span class="comment"># 判断是否可打印的一个简单标准，对于 repr() 函数，可打印字符会直接输出，不可打印字符会使用 &#x27;\...&#x27; 或 &#x27;\x...&#x27; 的方式进行转义</span></span><br><span class="line"><span class="comment"># 可打印字符在 Unicode General Category 中属于 Letter / Mark / Number / Punctuation / Symbol 这 5 大类，再加上 ASCII 空格</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.isprintable()</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello&quot;</span>.isprintable())        <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;你好，世界&quot;</span>.isprintable())    <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot; &quot;</span>.isprintable())            <span class="comment"># True，ASCII 空格属于 printable</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\n&quot;</span>.isprintable())           <span class="comment"># False，换行符属于不可打印</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\t&quot;</span>.isprintable())           <span class="comment"># False，制表符属于不可打印</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;a\nb&quot;</span>.isprintable())         <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\u200b&quot;</span>.isprintable())       <span class="comment"># False，零宽空格</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>.isprintable())             <span class="comment"># True，空字符串</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.isascii()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断字符串中的所有的字符，是否都属于 ASCII 字符集，即码点范围 U+0000 到 U+007F，也就是 0~127</span></span><br><span class="line"><span class="comment"># 对于空字符串返回 True</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.isascii()</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello&quot;</span>.isascii())        <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello123!@#&quot;</span>.isascii())  <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello 世界&quot;</span>.isascii())   <span class="comment"># False。中文</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Ⅺ&quot;</span>.isascii())            <span class="comment"># False，罗马数字</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>.isascii())             <span class="comment"># True，空字符串</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.isidentifier()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断字符串能否作为 Python 中变量名、函数名、类名这样的标识符</span></span><br><span class="line"><span class="comment"># 返回 True 表示它符合 Python 语言对 identifier 的语法定义</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.isidentifier()</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>.isidentifier())      <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;_tmp&quot;</span>.isidentifier())       <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;变量&quot;</span>.isidentifier())       <span class="comment"># True，很多非 ASCII 字母类可用</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;3abc&quot;</span>.isidentifier())       <span class="comment"># False，不能数字开头</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;a-b&quot;</span>.isidentifier())        <span class="comment"># False，不允许出现 - 字符</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;a b&quot;</span>.isidentifier())        <span class="comment"># False，不允许出现空格</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>.isidentifier())           <span class="comment"># False，空字符串</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对于如 def、class 等，虽然 isidentifier() 为 True，但其实是关键字，仍不能当变量名使用</span></span><br><span class="line"><span class="comment"># 要再用 keyword.iskeyword() 判断</span></span><br><span class="line"><span class="keyword">import</span> keyword</span><br><span class="line">s=<span class="string">&quot;class&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.isidentifier())       <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(keyword.iskeyword(s))   <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.istitle()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断字符串是否是标题格式，即每个单词首字母大写，其余小写，且要存在至少一个字符</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.istitle()</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello World&quot;</span>.istitle())        <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello, World&quot;</span>.istitle())       <span class="comment"># True，标点分隔不一定破坏 title 结构</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Spam, Spam, Spam&quot;</span>.istitle())   <span class="comment"># True，文档示例</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello world&quot;</span>.istitle())        <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;HELLO WORLD&quot;</span>.istitle())        <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello world&quot;</span>.istitle())        <span class="comment"># False</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>.istitle())                   <span class="comment"># False，空字符串</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：str-型-内置方法-查找与替换"><a href="#知识点：str-型-内置方法-查找与替换" class="headerlink" title="知识点：str 型-内置方法-查找与替换"></a>知识点：str 型-内置方法-查找与替换</h3><ol>
<li><strong>介绍</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查找与替换 Searching and Replacing</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># str.find()、str.rfind()                ：子字符串搜索</span></span><br><span class="line"><span class="comment"># str.index()、str.rindex()              ：子字符串搜索</span></span><br><span class="line"><span class="comment"># str.startswith()、str.endswith()       ：判断字符串是否以某个前缀开头、以某个后缀结尾</span></span><br><span class="line"><span class="comment"># str.count()                            ：统计子字符串出现了多少次</span></span><br><span class="line"><span class="comment"># str.removeprefix()、str.removesuffix() ：去除掉前缀/后缀</span></span><br><span class="line"><span class="comment"># str.replace()                          ：字符串全替换</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.find()、str.rfind()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 子字符串搜索</span></span><br><span class="line"><span class="comment"># find()，从左向右搜索，返回子字符串第一次出现的位置，找不到返回 -1</span></span><br><span class="line"><span class="comment"># rfind()，从右往左搜索，返回子字符串最后一次出现的位置，找不到则返回 -1</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.find(sub[, start[, end]])</span></span><br><span class="line"><span class="comment">#   str.rfind(sub[, start[, end]])</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;Hello World! Hello Python!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s.find(<span class="string">&quot;Hello&quot;</span>))      <span class="comment"># 0</span></span><br><span class="line"><span class="built_in">print</span>(s.rfind(<span class="string">&quot;Hello&quot;</span>))     <span class="comment"># 13</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s.find(<span class="string">&quot;World&quot;</span>))      <span class="comment"># 6</span></span><br><span class="line"><span class="built_in">print</span>(s.rfind(<span class="string">&quot;World&quot;</span>))     <span class="comment"># 6</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s.find(<span class="string">&quot;Java&quot;</span>))       <span class="comment"># -1</span></span><br><span class="line"><span class="built_in">print</span>(s.rfind(<span class="string">&quot;Java&quot;</span>))      <span class="comment"># -1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 start/end 用来限定搜索的范围</span></span><br><span class="line"><span class="comment"># 只在 s[start:end] 里搜索，但返回的索引仍然是相对于原字符串 s 的</span></span><br><span class="line"><span class="comment"># 左开右闭，即搜索范围包含 start，但不包含 end</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;Hello World! Hello Python!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s.find(<span class="string">&quot;Hello&quot;</span>, <span class="number">1</span>))           <span class="comment"># 13，搜索时跳过开头第一个字符</span></span><br><span class="line"><span class="built_in">print</span>(s.find(<span class="string">&quot;Hello&quot;</span>, <span class="number">0</span>, <span class="number">5</span>))        <span class="comment"># 0，仅搜索前五个字符</span></span><br><span class="line"><span class="built_in">print</span>(s.find(<span class="string">&quot;Hello&quot;</span>, <span class="number">0</span>, <span class="number">4</span>))        <span class="comment"># -1，仅搜索前四个字符</span></span><br><span class="line"><span class="built_in">print</span>(s.find(<span class="string">&quot;Hello&quot;</span>, <span class="number">1</span>, <span class="number">12</span>))       <span class="comment"># -1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s.rfind(<span class="string">&quot;Hello&quot;</span>, <span class="number">0</span>, <span class="number">12</span>))      <span class="comment"># 0</span></span><br><span class="line"><span class="built_in">print</span>(s.rfind(<span class="string">&quot;Hello&quot;</span>, <span class="number">14</span>))         <span class="comment"># -1</span></span><br><span class="line"><span class="built_in">print</span>(s.rfind(<span class="string">&quot;Hello&quot;</span>, <span class="number">14</span>, <span class="built_in">len</span>(s))) <span class="comment"># -1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># sub 允许是空串 &quot;&quot;，这时结果遵循切片边界规则</span></span><br><span class="line"><span class="built_in">print</span>(s.find(<span class="string">&quot;&quot;</span>))           <span class="comment"># 0</span></span><br><span class="line"><span class="built_in">print</span>(s.find(<span class="string">&quot;&quot;</span>, <span class="number">5</span>))        <span class="comment"># 5</span></span><br><span class="line"><span class="built_in">print</span>(s.find(<span class="string">&quot;&quot;</span>, <span class="number">5</span>, <span class="number">5</span>))     <span class="comment"># 5</span></span><br><span class="line"><span class="built_in">print</span>(s.rfind(<span class="string">&quot;&quot;</span>))          <span class="comment"># len(s)</span></span><br><span class="line"><span class="built_in">print</span>(s.rfind(<span class="string">&quot;&quot;</span>, <span class="number">5</span>))       <span class="comment"># len(s)</span></span><br><span class="line"><span class="built_in">print</span>(s.rfind(<span class="string">&quot;&quot;</span>, <span class="number">0</span>, <span class="number">5</span>))    <span class="comment"># 5</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.index()、str.rindex()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 功能与 str.find()、str.rfind() 相同，也是子字符搜索</span></span><br><span class="line"><span class="comment"># 区别是 str.find()、str.rfind() 搜索不到时返回 -1，str.index()、str.rindex() 搜索不到则抛出 ValueError</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.index(sub[, start[, end]])</span></span><br><span class="line"><span class="comment">#   str.rindex(sub[, start[, end]])</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;Hello World! Hello Python!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s.index(<span class="string">&quot;Hello&quot;</span>))     <span class="comment"># 0</span></span><br><span class="line"><span class="built_in">print</span>(s.rindex(<span class="string">&quot;Hello&quot;</span>))    <span class="comment"># 13</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s.index(<span class="string">&quot;hello&quot;</span>))     <span class="comment"># ❌，ValueError: substring not found</span></span><br><span class="line"><span class="built_in">print</span>(s.rindex(<span class="string">&quot;hello&quot;</span>))    <span class="comment"># ❌，ValueError: substring not found</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.startswith()、str.endswith()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断字符串是否以某个前缀开头、以某个后缀结尾</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.startswith(prefix[, start[, end]])</span></span><br><span class="line"><span class="comment">#   str.endswith(suffix[, start[, end]])</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;Hello World! Hello Python!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s.startswith(<span class="string">&quot;Hello&quot;</span>))       <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(s.startswith(<span class="string">&quot;World&quot;</span>))       <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s.endswith(<span class="string">&quot;Python!&quot;</span>))       <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(s.endswith(<span class="string">&quot;World!&quot;</span>))        <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 prefix/suffix</span></span><br><span class="line"><span class="comment"># 可以只是一个字符串</span></span><br><span class="line"><span class="comment"># 也可以是多个字符串组成的元组，此时表示多个候选项，任意一个匹配就 True</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;Hello World! Hello Python!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s.startswith((<span class="string">&quot;Hi&quot;</span>, <span class="string">&quot;Hello&quot;</span>)))      <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(s.endswith((<span class="string">&quot;Java!&quot;</span>, <span class="string">&quot;Python!&quot;</span>)))   <span class="comment"># True，多个字符串情况</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># prefix/suffix 可以是空字符串，此时永远返回 True</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;Hello World! Hello Python!&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.startswith(<span class="string">&quot;&quot;</span>))    <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(s.endswith(<span class="string">&quot;&quot;</span>))      <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 start/end 用来限定搜索范围</span></span><br><span class="line"><span class="comment"># 在 s[start:end] 内搜索是否以 prefix 开头 / 以 suffix 结尾</span></span><br><span class="line"><span class="comment"># 切片依然遵循左开右闭准则</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;Hello World! Hello Python!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s.startswith(<span class="string">&quot;World&quot;</span>, <span class="number">6</span>))           <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(s.startswith(<span class="string">&quot;World&quot;</span>, <span class="number">6</span>, <span class="number">11</span>))       <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(s.startswith(<span class="string">&quot;World&quot;</span>, <span class="number">6</span>, <span class="number">10</span>))       <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s.endswith(<span class="string">&quot;World!&quot;</span>, <span class="number">0</span>, <span class="number">12</span>))        <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(s.endswith(<span class="string">&quot;Python!&quot;</span>, <span class="number">0</span>, <span class="number">12</span>))       <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.count()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 统计子字符串 sub 在字符串里出现了多少次</span></span><br><span class="line"><span class="comment"># 统计的是不重叠出现的次数</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.count(sub[, start[, end]])</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;banana&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s.count(<span class="string">&quot;a&quot;</span>))       <span class="comment"># 3</span></span><br><span class="line"><span class="built_in">print</span>(s.count(<span class="string">&quot;na&quot;</span>))      <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">print</span>(s.count(<span class="string">&quot;banana&quot;</span>))  <span class="comment"># 1</span></span><br><span class="line"><span class="built_in">print</span>(s.count(<span class="string">&quot;x&quot;</span>))       <span class="comment"># 0</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;aaaa&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s.count(<span class="string">&quot;aa&quot;</span>))      <span class="comment"># 2，统计的是不重叠的次数，因此结果为 aa|aa，因此返回 2</span></span><br><span class="line"><span class="built_in">print</span>(s.count(<span class="string">&quot;aaa&quot;</span>))     <span class="comment"># 1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 start/end 用来限定搜索范围</span></span><br><span class="line"><span class="comment"># 在 s[start:end] 内搜索，切片依然遵循左开右闭准则</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;Hello Hello Hello&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s.count(<span class="string">&quot;Hello&quot;</span>))          <span class="comment"># 3</span></span><br><span class="line"><span class="built_in">print</span>(s.count(<span class="string">&quot;Hello&quot;</span>, <span class="number">0</span>, <span class="number">5</span>))    <span class="comment"># 1</span></span><br><span class="line"><span class="built_in">print</span>(s.count(<span class="string">&quot;Hello&quot;</span>, <span class="number">1</span>, <span class="number">5</span>))    <span class="comment"># 0</span></span><br><span class="line"><span class="built_in">print</span>(s.count(<span class="string">&quot;Hello&quot;</span>, <span class="number">6</span>))       <span class="comment"># 2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># sub 可以是空字符串 &quot;&quot;</span></span><br><span class="line"><span class="comment"># 此时统计的意义为字符间隔，字符间隔可以匹配每两个字符之间、字符串开头、字符串结尾</span></span><br><span class="line"><span class="comment"># 因此返回值永远是 len(s)+1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;abc&quot;</span>.count(<span class="string">&quot;&quot;</span>))      <span class="comment"># 4</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(<span class="string">&quot;abc&quot;</span>) + <span class="number">1</span>)       <span class="comment"># 4</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;世界&quot;</span>.count(<span class="string">&quot;&quot;</span>))     <span class="comment"># 3</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(<span class="string">&quot;世界&quot;</span>) + <span class="number">1</span>)      <span class="comment"># 3</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.count(<span class="string">&quot;&quot;</span>))          <span class="comment"># 1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(s) + <span class="number">1</span>)           <span class="comment"># 1，对空字符串也成立</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.removeprefix()、str.removesuffix()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 返回字符串去除掉前缀/后缀的结果，但只去除一次</span></span><br><span class="line"><span class="comment"># 只支持完全匹配，不支持正则</span></span><br><span class="line"><span class="comment"># 如果没有匹配的前缀/后缀，则原样返回</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.removeprefix(prefix)</span></span><br><span class="line"><span class="comment">#   str.removesuffix(suffix)</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;Hello World!&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.removeprefix(<span class="string">&quot;Hello &quot;</span>))  <span class="comment"># World!</span></span><br><span class="line"><span class="built_in">print</span>(s.removeprefix(<span class="string">&quot;HELLO &quot;</span>))  <span class="comment"># Hello World!，不匹配，原样返回</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;nginx.txt&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.removesuffix(<span class="string">&quot;.txt&quot;</span>))    <span class="comment"># nginx</span></span><br><span class="line"><span class="built_in">print</span>(s.removesuffix(<span class="string">&quot;.csv&quot;</span>))    <span class="comment"># nginx.txt</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;aaaaab&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.removeprefix(<span class="string">&quot;aa&quot;</span>))     <span class="comment"># aaab，只删一次，不会删到只剩 b</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 空字符串相当于没有匹配到前缀/后缀，因此返回空字符串</span></span><br><span class="line">s = <span class="string">&quot;Hello World!&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.removeprefix(<span class="string">&quot;&quot;</span>))  <span class="comment"># Hello World!</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.replace()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 把字符串里所有的 old 子串替换成 new 子串，不支持正则</span></span><br><span class="line"><span class="comment"># 从前向后进行替换，不支持从后向前进行替换</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.replace(old, new[, count])</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;Hello World! Hello Python!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s.replace(<span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;Hi&quot;</span>))   <span class="comment"># Hi World! Hi Python!</span></span><br><span class="line"><span class="built_in">print</span>(s.replace(<span class="string">&quot;o&quot;</span>, <span class="string">&quot;O&quot;</span>))        <span class="comment"># HellO WOrld! HellO PythOn!</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果没有搜索到 old 子串，则原样返回</span></span><br><span class="line">s = <span class="string">&quot;Hello World! Hello Python!&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.replace(<span class="string">&quot;JAVA&quot;</span>, <span class="string">&quot;java&quot;</span>))   <span class="comment"># Hello World! Hello Python!</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 count</span></span><br><span class="line"><span class="comment"># 用来指定替换的次数</span></span><br><span class="line"><span class="comment"># count=n 表示从左到右最多替换 n 次</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;one one one&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s.replace(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;1&quot;</span>))      <span class="comment"># 1 1 1</span></span><br><span class="line"><span class="built_in">print</span>(s.replace(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="number">1</span>))   <span class="comment"># 1 one one</span></span><br><span class="line"><span class="built_in">print</span>(s.replace(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="number">2</span>))   <span class="comment"># 1 1 one</span></span><br><span class="line"><span class="built_in">print</span>(s.replace(<span class="string">&quot;one&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="number">0</span>))   <span class="comment"># one one one，count=0 表示一次都不替换，虽然没有意义，但语法上支持</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># old 可以指定为空字符串 &#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 此时表示在字符间隔中插入 new 子串</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;abc&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s.replace(<span class="string">&quot;&quot;</span>, <span class="string">&quot;-&quot;</span>))       <span class="comment"># -a-b-c-</span></span><br><span class="line"><span class="built_in">print</span>(s.replace(<span class="string">&quot;&quot;</span>, <span class="string">&quot;-&quot;</span>, <span class="number">2</span>))    <span class="comment"># -a-bc</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>.replace(<span class="string">&quot;&quot;</span>, <span class="string">&quot;-&quot;</span>))      <span class="comment"># -，空字符串也有一个间隙</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：str-型-内置方法-拆分与连接"><a href="#知识点：str-型-内置方法-拆分与连接" class="headerlink" title="知识点：str 型-内置方法-拆分与连接"></a>知识点：str 型-内置方法-拆分与连接</h3><ol>
<li><strong>介绍</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 拆分与连接 Splitting and Joining</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># str.split()、str.rsplit()        ：把一个字符串按分隔符切开，得到一个字符串组成的列表</span></span><br><span class="line"><span class="comment"># str.splitlines()                 ：把多行文本按行进行拆分成一个列表，每个元素是一行</span></span><br><span class="line"><span class="comment"># str.partition()、str.rpartition()：按照指定的分隔符对字符串进行分区，返回一个三元组</span></span><br><span class="line"><span class="comment"># str.join()                       ：用指定的分隔符，把一堆字符串组装到一起</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.split()、str.rsplit()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># split()：把一个字符串按分隔符切开，得到一个字符串组成的列表</span></span><br><span class="line"><span class="comment"># rsplit()：跟 split() 一样，但在限制切分次数时，它是从右边开始算切分次数</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   str.split(sep=None, maxsplit=-1)</span></span><br><span class="line"><span class="comment">#   str.rsplit(sep=None, maxsplit=-1)</span></span><br><span class="line"></span><br><span class="line">s=<span class="string">&quot;Hello World! Welcome to Python!&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.split())    <span class="comment"># [&#x27;Hello&#x27;, &#x27;World!&#x27;, &#x27;Welcome&#x27;, &#x27;to&#x27;, &#x27;Python!&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(s.rsplit())   <span class="comment"># [&#x27;Hello&#x27;, &#x27;World!&#x27;, &#x27;Welcome&#x27;, &#x27;to&#x27;, &#x27;Python!&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 sep</span></span><br><span class="line"><span class="comment"># 用来指定作为切分依据的字符串</span></span><br><span class="line"><span class="comment"># 在切分结果中不会包含分隔字符串</span></span><br><span class="line"><span class="comment"># 默认 sep=None，表示按连续的空白进行切割，空白字符包括 space、换行符、制表符、控制字符等，会自动忽略开头/结尾的空白，不会产生空字符串项</span></span><br><span class="line"><span class="comment"># 指定 sep 为一个非空字符串，则会按子串进行切分，如果有连续的分隔符或者分隔符维护开头/末尾则结果中会产生空字符串项</span></span><br><span class="line"><span class="comment"># sep 只支持精确匹配，不支持正则，如果要按照正则切分则使用 re 模块</span></span><br><span class="line"><span class="comment"># sep 不能是空字符串 &#x27;&#x27;，否则抛 ValueError</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 默认按照空白进行切割</span></span><br><span class="line">s = <span class="string">&quot;  alpha   beta\tgamma\n\tdelta  &quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.split())          <span class="comment"># [&#x27;alpha&#x27;, &#x27;beta&#x27;, &#x27;gamma&#x27;, &#x27;delta&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定 sep 为非空字符串</span></span><br><span class="line">s = <span class="string">&quot;a,b,c,d,e&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.split(<span class="string">&#x27;,&#x27;</span>))       <span class="comment"># [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># seq 为非空字符串时，存在连续的 seq 时，会产生空字符串项</span></span><br><span class="line">s = <span class="string">&quot;a,b,c,d,,e&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.split(<span class="string">&#x27;,&#x27;</span>))       <span class="comment"># [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;&#x27;, &#x27;e&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># seq 为非空字符串时，开头或末尾有 seq 时，会产生空字符串项</span></span><br><span class="line">s01 = <span class="string">&quot;/usr/local/nginx/conf/nginx.conf&quot;</span></span><br><span class="line">s02 = <span class="string">&quot;/usr/local/nginx/conf/conf.d/&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s01.split(<span class="string">&quot;/&quot;</span>))     <span class="comment"># [&#x27;&#x27;, &#x27;usr&#x27;, &#x27;local&#x27;, &#x27;nginx&#x27;, &#x27;conf&#x27;, &#x27;nginx.conf&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(s02.split(<span class="string">&quot;/&quot;</span>))     <span class="comment"># [&#x27;&#x27;, &#x27;usr&#x27;, &#x27;local&#x27;, &#x27;nginx&#x27;, &#x27;conf&#x27;, &#x27;conf.d&#x27;, &#x27;&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定 seq 为多个字符的字符串</span></span><br><span class="line">line = <span class="string">&quot;2025-12-30 10:26:15|++|INFO|++|user=jayjiang|++|action=login|++|ip=172.16.245.98&quot;</span></span><br><span class="line"><span class="built_in">print</span>(line.split(<span class="string">&#x27;|++|&#x27;</span>))   <span class="comment"># [&#x27;2025-12-30 10:26:15&#x27;, &#x27;INFO&#x27;, &#x27;user=jayjiang&#x27;, &#x27;action=login&#x27;, &#x27;ip=172.16.245.98&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定 seq 为空字符串</span></span><br><span class="line">s = <span class="string">&quot;a,b,c,d,e&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.split(<span class="string">&#x27;&#x27;</span>))      <span class="comment"># ❌，ValueError: empty separator</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 maxsplit，用来指定最大的切分次数</span></span><br><span class="line"><span class="comment"># 默认值 maxsplit=-1，表示不限制次数，能切多少切多少</span></span><br><span class="line"><span class="comment"># maxsplit=0 表示不切分，列表中只有一个元素，即原字符串</span></span><br><span class="line"><span class="comment"># split() 从左到右计算 maxsplit 次数</span></span><br><span class="line"><span class="comment"># rsplit() 从右到左切计算 maxsplit 次数，但结果列表仍然按照从左到右的顺序进行保存</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;a,b,c,d,e&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.split(<span class="string">&quot;,&quot;</span>, <span class="number">2</span>))      <span class="comment"># [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c,d,e&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(s.rsplit(<span class="string">&quot;,&quot;</span>, <span class="number">2</span>))     <span class="comment"># [&#x27;a,b,c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(s.split(<span class="string">&quot;,&quot;</span>, <span class="number">0</span>))      <span class="comment"># [&#x27;a,b,c,d,e&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(s.split(<span class="literal">None</span>, <span class="number">0</span>))     <span class="comment"># [&#x27;a,b,c,d,e&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.splitlines()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 把多行文本按行进行拆分成一个列表，每个元素是一行，可选是否保留行尾的换行符</span></span><br><span class="line"><span class="comment"># 可以自动识别多种换行符，\n、\r\n、\v、\f 等</span></span><br><span class="line"><span class="comment"># 参数 keepends，指定每一行是否保留行尾的换行符</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     str.splitlines(keepends=False)</span></span><br><span class="line"></span><br><span class="line">text = <span class="string">&quot;line1\nline2\rline3\r\nline4&quot;</span></span><br><span class="line"><span class="built_in">print</span>(text.splitlines())              <span class="comment"># [&#x27;line1&#x27;, &#x27;line2&#x27;, &#x27;line3&#x27;, &#x27;line4&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(text.splitlines(keepends=<span class="literal">True</span>)) <span class="comment"># [&#x27;line1\n&#x27;, &#x27;line2\r&#x27;, &#x27;line3\r\n&#x27;, &#x27;line4&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 连续的换行符会被识别为多行</span></span><br><span class="line">text = <span class="string">&quot;line1\n\nline2&quot;</span></span><br><span class="line"><span class="built_in">print</span>(text.splitlines())              <span class="comment"># [&#x27;line1&#x27;, &#x27;&#x27;, &#x27;line2&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(text.splitlines(keepends=<span class="literal">True</span>)) <span class="comment"># [&#x27;line1\n&#x27;, &#x27;\n&#x27;, &#x27;line2&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.partition()、str.rpartition()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 按照指定的分隔符对字符串进行分区，返回一个三元组，内容为 (分隔符左边, 分隔符, 分隔符右边)</span></span><br><span class="line"><span class="comment"># str.partition()：按照找到的第一个 sep 进行分区</span></span><br><span class="line"><span class="comment"># str.rpartition()：按照找到的最后一个 sep 进行分区</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     str.partition(sep)</span></span><br><span class="line"><span class="comment">#     str.rpartition(sep)</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;user:alice:admin&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.partition(<span class="string">&quot;:&quot;</span>))     <span class="comment"># (&#x27;user&#x27;, &#x27;:&#x27;, &#x27;alice:admin&#x27;)</span></span><br><span class="line"><span class="built_in">print</span>(s.rpartition(<span class="string">&quot;:&quot;</span>))    <span class="comment"># (&#x27;user:alice&#x27;, &#x27;:&#x27;, &#x27;admin&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 sep 必须是非空字符串，否则 ValueError</span></span><br><span class="line"><span class="comment"># 如果找到了 sep 则返回三元组 (head, sep, tail)</span></span><br><span class="line"><span class="comment"># 如果没找到：</span></span><br><span class="line"><span class="comment">#     str.partition()  返回：(原字符串, &#x27;&#x27;, &#x27;&#x27;)</span></span><br><span class="line"><span class="comment">#     str.rpartition() 返回：(&#x27;&#x27;, &#x27;&#x27;, 原字符串)</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;user:alice:admin&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.partition(<span class="string">&quot;=&quot;</span>))     <span class="comment"># (&#x27;user:alice:admin&#x27;, &#x27;&#x27;, &#x27;&#x27;)</span></span><br><span class="line"><span class="built_in">print</span>(s.rpartition(<span class="string">&quot;=&quot;</span>))    <span class="comment"># (&#x27;&#x27;, &#x27;&#x27;, &#x27;user:alice:admin&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s.partition(<span class="string">&quot;&quot;</span>))      <span class="comment"># ❌，ValueError: empty separator</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取目录名和文件名</span></span><br><span class="line">path = <span class="string">&quot;/usr/local/nginx/conf/nginx.conf_bak_ABCD_2025.12.29&quot;</span></span><br><span class="line">dir_path, sep, filename = path.rpartition(<span class="string">&quot;/&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(dir_path)  <span class="comment"># /usr/local/nginx/conf</span></span><br><span class="line"><span class="built_in">print</span>(sep)       <span class="comment"># /</span></span><br><span class="line"><span class="built_in">print</span>(filename)  <span class="comment"># nginx.conf_bak_ABCD_2025.12.29</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取主域名从域名</span></span><br><span class="line">host = <span class="string">&quot;api.service.example.com&quot;</span></span><br><span class="line">left, sep, tld = host.partition(<span class="string">&quot;.&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(left)  <span class="comment"># api</span></span><br><span class="line"><span class="built_in">print</span>(sep)   <span class="comment"># .</span></span><br><span class="line"><span class="built_in">print</span>(tld)   <span class="comment"># .service.example</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 解析日志时间字段</span></span><br><span class="line">log = <span class="string">&quot;2025-12-30 10:26:15 | INFO | user=jayjiang | action=login | ip=172.16.245.98&quot;</span></span><br><span class="line">ts, *rest = log.partition(<span class="string">&quot; | &quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(ts)    <span class="comment"># 2025-12-30 10:26:15</span></span><br><span class="line"><span class="built_in">print</span>(rest)  <span class="comment"># [&#x27; | &#x27;, &#x27;INFO | user=jayjiang | action=login | ip=172.16.245.98&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.join()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 用指定的分隔符，把一堆字符串组装到一起</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     sep.join(iterable)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;,&quot;</span>.join([<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>]))        <span class="comment"># a,b,c</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-&quot;</span>.join([<span class="string">&quot;2025&quot;</span>, <span class="string">&quot;12&quot;</span>, <span class="string">&quot;30&quot;</span>]))   <span class="comment"># 2025-12-30</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># sep 可以是空字符串，此时相当于多个字符串的拼接</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>.join([<span class="string">&quot;Py&quot;</span>, <span class="string">&quot;thon&quot;</span>]))          <span class="comment"># Python</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 iterable 里所有的元素必须都是字符串 str，否则会报 TypeError</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;,&quot;</span>.join([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]))              <span class="comment"># ❌，TypeError</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成 CSV</span></span><br><span class="line">row = [<span class="string">&quot;2025-12-30 10:26:15&quot;</span>, <span class="string">&quot;INFO&quot;</span>, <span class="string">&quot;jayjiang&quot;</span>, <span class="string">&quot;login&quot;</span>, <span class="string">&quot;172.16.245.98&quot;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;,&quot;</span>.join(row))        <span class="comment"># 2025-12-30 10:26:15,INFO,jayjiang,login,172.16.245.98</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 组装命令行参数</span></span><br><span class="line">cmd = [<span class="string">&quot;ansible&quot;</span>, <span class="string">&quot;all&quot;</span>, <span class="string">&quot;-m&quot;</span>, <span class="string">&quot;shell&quot;</span>, <span class="string">&quot;-a&quot;</span>, <span class="string">&quot;uname -r&quot;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot; &quot;</span>.join(cmd))        <span class="comment"># ansible all -m shell -a uname -r</span></span><br><span class="line"></span><br><span class="line">cmd = [<span class="string">&quot;curl&quot;</span>, <span class="string">&quot;-sS&quot;</span>, <span class="string">&quot;-H&quot;</span>, <span class="string">&quot;Accept: application/json&quot;</span>, <span class="string">&quot;http://172.16.245.98:9000/health&quot;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot; &quot;</span>.join(cmd))        <span class="comment"># curl -sS -H Accept: application/json http://172.16.245.98:9000/health</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 组装 Prometheus label</span></span><br><span class="line">labels = &#123;</span><br><span class="line">    <span class="string">&quot;job&quot;</span>: <span class="string">&quot;node_exporter&quot;</span>,</span><br><span class="line">    <span class="string">&quot;instance&quot;</span>: <span class="string">&quot;172.16.245.98:9100&quot;</span>,</span><br><span class="line">    <span class="string">&quot;env&quot;</span>: <span class="string">&quot;prod&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">label_text = <span class="string">&quot;&#123;&quot;</span> + <span class="string">&quot;, &quot;</span>.join(<span class="string">f&#x27;<span class="subst">&#123;k&#125;</span>=&quot;<span class="subst">&#123;v&#125;</span>&quot;&#x27;</span> <span class="keyword">for</span> k, v <span class="keyword">in</span> labels.items()) + <span class="string">&quot;&#125;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(label_text)     <span class="comment"># &#123;job=&quot;node_exporter&quot;, instance=&quot;172.16.245.98:9100&quot;, env=&quot;prod&quot;&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 组装 sql SELECT 字段</span></span><br><span class="line">table = <span class="string">&quot;users&quot;</span></span><br><span class="line">cols = [<span class="string">&quot;id&quot;</span>, <span class="string">&quot;username&quot;</span>, <span class="string">&quot;created_at&quot;</span>]</span><br><span class="line"></span><br><span class="line">sql = <span class="string">&quot;SELECT &quot;</span> + <span class="string">&quot;, &quot;</span>.join(cols) + <span class="string">&quot; FROM &quot;</span> + table + <span class="string">&quot;;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(sql)      <span class="comment"># SELECT id, username, created_at FROM users;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 组装 sql WHERE 条件</span></span><br><span class="line">table = <span class="string">&quot;orders&quot;</span></span><br><span class="line">conditions = [</span><br><span class="line">    <span class="string">&quot;status = &#x27;PAID&#x27;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;amount &gt;= 100&quot;</span>,</span><br><span class="line">    <span class="string">&quot;created_at &gt;= &#x27;2025-01-01&#x27;&quot;</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">sql = <span class="string">&quot;SELECT * FROM &quot;</span> + table + <span class="string">&quot; WHERE &quot;</span> + <span class="string">&quot; AND &quot;</span>.join(conditions) + <span class="string">&quot;;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(sql)      <span class="comment"># SELECT * FROM orders WHERE status = &#x27;PAID&#x27; AND amount &gt;= 100 AND created_at &gt;= &#x27;2025-01-01&#x27;;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：str-型-内置方法-对齐与裁剪"><a href="#知识点：str-型-内置方法-对齐与裁剪" class="headerlink" title="知识点：str 型-内置方法-对齐与裁剪"></a>知识点：str 型-内置方法-对齐与裁剪</h3><ol>
<li><strong>介绍</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 对齐与裁剪 Padding and Stripping</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># str.ljust()、str.rjust()、str.center()  ：把字符串按照指定的宽度进行对齐，对齐方式为在字符串的开头或末尾填充空白</span></span><br><span class="line"><span class="comment"># str.zfill()                             ：对字符串进行零填充</span></span><br><span class="line"><span class="comment"># str.expandtabs()                        ：把字符串里的制表符 \t 扩展成适当数量的空格，使字符按照制表位进行对齐</span></span><br><span class="line"><span class="comment"># str.lstrip()、str.rstrip()、str.strip() ：裁剪字符串两端的字符，默认裁剪空白字符</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.ljust()、str.rjust()、str.center()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 把字符串按照指定的宽度进行对齐，对齐方式为在字符串的开头或末尾填充空白</span></span><br><span class="line"><span class="comment"># str.ljust()，左对齐，长度不足则在右边补充空白</span></span><br><span class="line"><span class="comment"># str.rjust()，右对齐，长度不足则在左边补充空白</span></span><br><span class="line"><span class="comment"># str.center()，居中对齐，长度不足则左右两侧平均补字符，如果正好多出来一个则会随机放到左/右边</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     str.ljust(width, fillchar=&#x27; &#x27;)</span></span><br><span class="line"><span class="comment">#     str.rjust(width, fillchar=&#x27; &#x27;)</span></span><br><span class="line"><span class="comment">#     str.center(width, fillchar=&#x27; &#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;ID&quot;</span>.ljust(<span class="number">6</span>)))    <span class="comment"># &#x27;ID    &#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;ID&quot;</span>.rjust(<span class="number">6</span>)))    <span class="comment"># &#x27;    ID&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;ID&quot;</span>.center(<span class="number">6</span>)))   <span class="comment"># &#x27;  ID  &#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 width</span></span><br><span class="line"><span class="comment"># 指定目标总长度，按字符数计算</span></span><br><span class="line"><span class="comment"># 如果指定的宽度小于字符串本来的宽度，则原样返回</span></span><br><span class="line"><span class="comment"># 参数不可省略，否则会抛出异常</span></span><br><span class="line"></span><br><span class="line">s=<span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(s.ljust(<span class="number">20</span>)))    <span class="comment"># &#x27;Hello World!        &#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(s.rjust(<span class="number">20</span>)))    <span class="comment"># &#x27;        Hello World!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(s.center(<span class="number">20</span>)))   <span class="comment"># &#x27;    Hello World!    &#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(s.ljust(<span class="number">10</span>)))    <span class="comment"># &#x27;Hello World!&#x27;，宽度小于字符串本来的宽度则原样返回</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(s.rjust(<span class="number">10</span>)))    <span class="comment"># &#x27;Hello World!&#x27;，宽度小于字符串本来的宽度则原样返回</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(s.center(<span class="number">10</span>)))   <span class="comment"># &#x27;Hello World!&#x27;，宽度小于字符串本来的宽度则原样返回</span></span><br><span class="line"></span><br><span class="line">s=<span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(s.ljust()))      <span class="comment"># ❌，TypeError，省略 width 参数会抛异常</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(s.rjust()))      <span class="comment"># ❌，TypeError，省略 width 参数会抛异常</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(s.center()))     <span class="comment"># ❌，TypeError，省略 width 参数会抛异常</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;ID&quot;</span>.ljust(<span class="number">6</span>)))    <span class="comment"># &#x27;ID    &#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;张三&quot;</span>.ljust(<span class="number">6</span>)))  <span class="comment"># &#x27;张三    &#x27;，补齐参考的是字符数量而不是字符长度</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 fillchar</span></span><br><span class="line"><span class="comment"># 指定用于填充的字符</span></span><br><span class="line"><span class="comment"># 默认采用 space 进行填充</span></span><br><span class="line"><span class="comment"># 必须是长度为 1 的字符串，否则报 TypeError</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;ID&quot;</span>.ljust(<span class="number">6</span>,<span class="string">&#x27;.&#x27;</span>)))    <span class="comment"># &#x27;ID....&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;ID&quot;</span>.rjust(<span class="number">6</span>,<span class="string">&#x27;.&#x27;</span>)))    <span class="comment"># &#x27;....ID&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;ID&quot;</span>.center(<span class="number">6</span>,<span class="string">&#x27;.&#x27;</span>)))   <span class="comment"># &#x27;..ID..&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;ID&quot;</span>.ljust(<span class="number">6</span>,<span class="string">&#x27;|++|&#x27;</span>)))     <span class="comment"># ❌，TypeError，不是长度为 1 的字符串会抛异常</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;ID&quot;</span>.rjust(<span class="number">6</span>,<span class="string">&#x27;|++|&#x27;</span>)))     <span class="comment"># ❌，TypeError，不是长度为 1 的字符串会抛异常</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;ID&quot;</span>.center(<span class="number">6</span>,<span class="string">&#x27;|++|&#x27;</span>)))    <span class="comment"># ❌，TypeError，不是长度为 1 的字符串会抛异常</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出简单的 menu 菜单</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;MENU&quot;</span>.center(<span class="number">20</span>, <span class="string">&#x27;*&#x27;</span>))   <span class="comment"># ********MENU********</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;1) Login&quot;</span>.ljust(<span class="number">20</span>))     <span class="comment"># 1) Login</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;2) Exit&quot;</span>.ljust(<span class="number">20</span>))      <span class="comment"># 2) Exit</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;*&quot;</span> * <span class="number">20</span>)                 <span class="comment"># ********************</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.zfill()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 对字符串进行零填充，把字符串左侧用 0 补齐到指定的长度</span></span><br><span class="line"><span class="comment"># 如果字符串本来的长度大于指定的长度，则直接返回原字符串，不进行截断</span></span><br><span class="line"><span class="comment"># 如果字符串以符号 + 或 - 开头，则0 会补在符号后面</span></span><br><span class="line"><span class="comment"># 只补字符 0，不像 rjust 那样可以自定义填充字符</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     str.zfill(width, /)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;7&quot;</span>.zfill(<span class="number">3</span>))       <span class="comment"># 007</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;123&quot;</span>.zfill(<span class="number">2</span>))     <span class="comment"># 123，不截断</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;123&quot;</span>.zfill(<span class="number">5</span>))     <span class="comment"># 00123</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-7&quot;</span>.zfill(<span class="number">4</span>))      <span class="comment"># -007，0 补在符号后</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;+7&quot;</span>.zfill(<span class="number">4</span>))      <span class="comment"># +007</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成固定长度的流水号 / 订单号</span></span><br><span class="line">seq = <span class="number">42</span></span><br><span class="line">order_id = <span class="string">&quot;ORD&quot;</span> + <span class="built_in">str</span>(seq).zfill(<span class="number">8</span>)</span><br><span class="line"><span class="built_in">print</span>(order_id)  <span class="comment"># ORD00000042</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 规范化时间字段</span></span><br><span class="line">hour = <span class="number">3</span></span><br><span class="line">minute = <span class="number">7</span></span><br><span class="line">second = <span class="number">9</span></span><br><span class="line">t = <span class="string">f&quot;<span class="subst">&#123;<span class="built_in">str</span>(hour).zfill(<span class="number">2</span>)&#125;</span>:<span class="subst">&#123;<span class="built_in">str</span>(minute).zfill(<span class="number">2</span>)&#125;</span>:<span class="subst">&#123;<span class="built_in">str</span>(second).zfill(<span class="number">2</span>)&#125;</span>&quot;</span></span><br><span class="line"><span class="built_in">print</span>(t)  <span class="comment"># 03:07:09</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.expandtabs()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 把字符串里的制表符 \t 扩展成适当数量的空格，使字符按照制表位进行对齐</span></span><br><span class="line"><span class="comment"># 并不是简单的把 \t 替换成固定数量的空格，而是根据字符串内容的位置动态调整，使内容对齐</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     str.expandtabs(tabsize=8)</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;a\tb\tc&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s)                          <span class="comment"># a       b       c</span></span><br><span class="line"><span class="built_in">print</span>(s.expandtabs())             <span class="comment"># a       b       c</span></span><br><span class="line"><span class="built_in">print</span>(s.replace(<span class="string">&quot;\t&quot;</span>, <span class="string">&quot; &quot;</span> * <span class="number">4</span>))   <span class="comment"># a        b        c，简单的将 \t 替换为空格并不会自动对齐</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 tabsize</span></span><br><span class="line"><span class="comment"># 指定制表位宽度，默认 8</span></span><br><span class="line"><span class="comment"># str.expandtabs() 会根据当前位置动态决定要补几个空格</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;a\tb\tc&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.expandtabs())             <span class="comment"># a       b       c</span></span><br><span class="line"><span class="built_in">print</span>(s.expandtabs(<span class="number">4</span>))            <span class="comment"># a   b   c</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对 TSV 文件进行对齐显示</span></span><br><span class="line">msg = <span class="string">&quot;server:\t127.0.0.1\tport:\t8080\n&quot;</span></span><br><span class="line"><span class="built_in">print</span>(msg.expandtabs(<span class="number">4</span>))          <span class="comment"># server: 127.0.0.1   port:   8080</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.lstrip()、str.rstrip()、str.strip()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 裁剪字符串两端的字符，默认裁剪空白字符</span></span><br><span class="line"><span class="comment"># str.lstrip()，裁剪字符串左边的字符</span></span><br><span class="line"><span class="comment"># str.rstrip()，裁剪字符串右边的字符</span></span><br><span class="line"><span class="comment"># str.strip()，裁剪字符串两边的字符</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     str.strip(chars=None)</span></span><br><span class="line"><span class="comment">#     str.lstrip(chars=None)</span></span><br><span class="line"><span class="comment">#     str.rstrip(chars=None)</span></span><br><span class="line"></span><br><span class="line">s=<span class="string">&quot;  Hello World!  &quot;</span></span><br><span class="line">s=<span class="string">&quot;  Hello World!  &quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(s.lstrip()))   <span class="comment"># &#x27;Hello World!  &#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(s.rstrip()))   <span class="comment"># &#x27;  Hello World!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(s.strip()))    <span class="comment"># &#x27;Hello World!&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数 chars</span></span><br><span class="line"><span class="comment"># 指定一个字符，把它当成字符集合，只要端点字符属于这个集合就持续剥除，注意不是按子串匹配</span></span><br><span class="line"><span class="comment"># 默认值为 None 表示空白字符，注意空白字符包括空格、Tab、换行等</span></span><br><span class="line"></span><br><span class="line">s=<span class="string">&quot;..Hello World!..&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(s.lstrip(<span class="string">&#x27;.&#x27;</span>)))  <span class="comment"># &#x27;Hello World!..&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(s.rstrip(<span class="string">&#x27;.&#x27;</span>)))  <span class="comment"># &#x27;..Hello World!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(s.strip(<span class="string">&#x27;.&#x27;</span>)))   <span class="comment"># &#x27;Hello World!&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 注意 chars 指定的是字符集合而非子串</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;babxxba&quot;</span>.strip(<span class="string">&quot;ab&quot;</span>)))  <span class="comment"># &quot;xx&quot;，两端的 a 或 b 都会被剥</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 清理前导 0</span></span><br><span class="line">user_id = <span class="string">&quot;000042&quot;</span></span><br><span class="line"><span class="built_in">print</span>(user_id.lstrip(<span class="string">&quot;0&quot;</span>))  <span class="comment"># 42</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 处理 Windows 风格行尾 \r\n</span></span><br><span class="line">line = <span class="string">&quot;status=OK\r\n&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(line.rstrip(<span class="string">&quot;\r\n&quot;</span>) + <span class="string">&quot;\n&quot;</span>))   <span class="comment"># &#x27;status=OK\n&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(line.replace(<span class="string">&quot;\r\n&quot;</span>,<span class="string">&quot;\n&quot;</span>)))    <span class="comment"># &#x27;status=OK\n&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：str-型-内置方法-翻译与编码"><a href="#知识点：str-型-内置方法-翻译与编码" class="headerlink" title="知识点：str 型-内置方法-翻译与编码"></a>知识点：str 型-内置方法-翻译与编码</h3><ol>
<li><strong>介绍</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 翻译与编码 Translation and Encoding</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># str.maketrans()、str.translate() ：对字符按照构建的转换表进行转换</span></span><br><span class="line"><span class="comment"># str.encode()                     ：将 str 型编码为 bytes 型</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.maketrans()、str.translate()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 对字符按照构建的转换表进行转换</span></span><br><span class="line"><span class="comment"># str.maketrans()：构建转换表</span></span><br><span class="line"><span class="comment"># str.translate()：根据转换表对字符串中的字符进行转换</span></span><br><span class="line"><span class="comment"># str.maketrans() 格式：</span></span><br><span class="line"><span class="comment">#     static str.maketrans(dict, /)</span></span><br><span class="line"><span class="comment">#     static str.maketrans(from, to, remove=&#x27;&#x27;, /)</span></span><br><span class="line"><span class="comment"># str.translate() 格式：</span></span><br><span class="line"><span class="comment">#     str.translate(table, /)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 把 &amp; 字符换成英语 and</span></span><br><span class="line">table = <span class="built_in">str</span>.maketrans(&#123;<span class="string">&quot;&amp;&quot;</span>: <span class="string">&quot; and &quot;</span>&#125;)</span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;R&amp;B&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.translate(table))  <span class="comment"># R and B</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 把常见中文标点归一为英文标点，同时删除不可见换行</span></span><br><span class="line">table = <span class="built_in">str</span>.maketrans(&#123;</span><br><span class="line">    <span class="string">&quot;，&quot;</span>: <span class="string">&quot;,&quot;</span>,</span><br><span class="line">    <span class="string">&quot;。&quot;</span>: <span class="string">&quot;.&quot;</span>,</span><br><span class="line">    <span class="string">&quot;：&quot;</span>: <span class="string">&quot;:&quot;</span>,</span><br><span class="line">    <span class="string">&quot;；&quot;</span>: <span class="string">&quot;;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;\n&quot;</span>: <span class="literal">None</span>,</span><br><span class="line">    <span class="string">&quot;\r&quot;</span>: <span class="literal">None</span>,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;姓名：张三；备注：正常。\n&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(s.translate(table)))     <span class="comment"># &#x27;姓名:张三;备注:正常.&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 全角转半角</span></span><br><span class="line">fw = <span class="string">&quot;０１２３４５６７８９：，&quot;</span></span><br><span class="line">hw = <span class="string">&quot;0123456789:,&quot;</span></span><br><span class="line">table = <span class="built_in">str</span>.maketrans(fw, hw)</span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;订单号：１２３４５，金额：９９&quot;</span></span><br><span class="line"><span class="built_in">print</span>(s.translate(table))     <span class="comment"># 订单号:12345,金额:99</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str.encode()</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 把 str 型转换成某种编码的 bytes 型</span></span><br><span class="line"><span class="comment"># 与 bytes 型的 bytes.decode() 方法相对应</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     str.encode(encoding=&#x27;utf-8&#x27;, errors=&#x27;strict&#x27;)</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;中é😀&quot;</span></span><br><span class="line">b = s.encode(<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(b)                  <span class="comment"># b&#x27;\xe4\xb8\xad\xc3\xa9\xf0\x9f\x98\x80&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(b.<span class="built_in">hex</span>())            <span class="comment"># e4b8adc3a9f09f9880</span></span><br><span class="line"><span class="built_in">print</span>(b.decode(<span class="string">&quot;utf-8&quot;</span>))  <span class="comment"># 中é😀</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;中é😀&quot;</span></span><br><span class="line">b = s.encode(<span class="string">&quot;gbk&quot;</span>)       <span class="comment"># ❌，UnicodeEncodeError，gbk 编码不支持 emoji</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：转义序列"><a href="#知识点：转义序列" class="headerlink" title="知识点：转义序列"></a>知识点：转义序列</h3><p>1.<strong>介绍</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 转义序列 escape sequence，是从 C 语言中引进的，在字符串中添加特殊字符的方式</span></span><br><span class="line"><span class="comment">#  Python 支持的转义序列，大体上是与 C 语言类似</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ol start="2">
<li><strong>忽略行尾 Ignored end of line</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment"># \&lt;newline&gt;    Backslash and newline ignored</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&#x27;hello \</span></span><br><span class="line"><span class="string">world&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s)      <span class="comment"># hello world</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>转义字符</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment"># \\            Backslash (\)</span></span><br><span class="line"><span class="comment"># \&#x27;            Single quote (&#x27;)</span></span><br><span class="line"><span class="comment"># \&quot;            Double quote (&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;C:\\Program Files\\Python&quot;</span>)    <span class="comment"># C:\Program Files\Python</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;It\&#x27;s OK&#x27;</span>)                     <span class="comment"># It&#x27;s OK</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;He said: \&quot;Hi\&quot;&quot;</span>)              <span class="comment"># He said: &quot;Hi&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>控制字符</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment"># \a            ASCII Bell (BEL)</span></span><br><span class="line"><span class="comment"># \b            ASCII Backspace (BS)</span></span><br><span class="line"><span class="comment"># \f            ASCII Formfeed (FF)</span></span><br><span class="line"><span class="comment"># \n            ASCII Linefeed (LF)</span></span><br><span class="line"><span class="comment"># \r            ASCII Carriage Return (CR)</span></span><br><span class="line"><span class="comment"># \t            ASCII Horizontal Tab (TAB)</span></span><br><span class="line"><span class="comment"># \v            ASCII Vertical Tab (VT)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;col1\tcol2\tcol3&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;line1\nline2&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>八进制&#x2F;十六进制字符 Octal &#x2F; Hexadecimal character</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment"># \ooo          Character with octal value ooo</span></span><br><span class="line"><span class="comment"># \xhh          Character with hex value hh</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\120&#x27;</span>)     <span class="comment"># &#x27;P&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\x50&#x27;</span>)     <span class="comment"># &#x27;P&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>命名的 Unicode 字符 Named Unicode character</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment"># \N&#123;name&#125;      Character named name in the Unicode database</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\N&#123;LATIN CAPITAL LETTER P&#125;&#x27;</span>)  <span class="comment"># P</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\N&#123;SNAKE&#125;&#x27;</span>)                   <span class="comment"># 🐍</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>十六进制 Unicode 字符 Hexadecimal Unicode characters</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment"># \uxxxx        Character with 16-bit hex value xxxx</span></span><br><span class="line"><span class="comment"># \Uxxxxxxxx    Character with 32-bit hex value xxxxxxxx</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\u4E2D&#x27;</span>)                      <span class="comment"># 中</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\U0001F40D&#x27;</span>)                  <span class="comment"># 🐍</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：字符串格式化-介绍"><a href="#知识点：字符串格式化-介绍" class="headerlink" title="知识点：字符串格式化-介绍"></a>知识点：字符串格式化-介绍</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 字符串格式化 string formatting / string interpolation</span><br><span class="line">  - 本质上是用一个模板文本，称之为格式化串 format string，把若干个值按指定规则，如宽度、对齐、精度、进制、日期样式等，转换成文本并插入到指定位置，得到最终字符串</span><br><span class="line"></span><br><span class="line">* 格式化标记 format_spec</span><br><span class="line">  - python 中支持两种格式控制标记风格：</span><br><span class="line">  - printf 风格</span><br><span class="line">  - format 风格</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：字符串格式化-printf-风格"><a href="#知识点：字符串格式化-printf-风格" class="headerlink" title="知识点：字符串格式化-printf 风格"></a>知识点：字符串格式化-printf 风格</h3><ol>
<li><p><strong>介绍</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 介绍 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 官方文档：https://docs.python.org/3.14/library/stdtypes.html#printf-style-string-formatting</span></span><br><span class="line"><span class="comment"># python 支持 printf 风格格式化标记，源自于 C 语言中的 printf() 函数</span></span><br><span class="line"><span class="comment"># printf 风格的字符串格式化可以直接对 format_string 进行像表达式一样的操作，无需借助任何其他的方法或函数</span></span><br><span class="line"><span class="comment"># 在字符串中包含 &#x27;%&#x27; 开头的转换标记 conversion specifications，在使用时将转换标记替换成相应的值</span></span><br><span class="line"><span class="comment"># 使用字符串格式化运算符 % 运算符指定进行替换</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     %[(mapping_key)][flags][width][.precision][length_modifier]type</span></span><br><span class="line"><span class="comment">#     %[(mapping_key)][flags][width][.precision]type</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s=<span class="string">&#x27;Hello %s World!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s)            <span class="comment"># Hello %s World!</span></span><br><span class="line"><span class="built_in">print</span>(s % <span class="string">&#x27;this&#x27;</span>)   <span class="comment"># Hello this World!</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># length_modifier</span></span><br><span class="line"><span class="comment"># python 的 printf 格式中，不支持 length_modifier 字段</span></span><br><span class="line"><span class="comment"># 可以写，但写了也不会生效</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p><strong>字符串格式化运算符 %</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 介绍 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># str 型的 printf 风格格式化，直接通过运算符 % 来进行</span></span><br><span class="line"><span class="comment"># 把格式化字符串 format_string 里的转换标记，用 values 提供的数据替换，得到一个新字符串</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     result = format_string % values</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># values 的格式：</span></span><br><span class="line"><span class="comment">#     values 有两种形式，位置参数形式、映射参数形式</span></span><br><span class="line"><span class="comment">#     位置参数形式又区分为单个转换标记形式、多个转换标记形式</span></span><br><span class="line"></span><br><span class="line">s=<span class="string">&#x27;Hello %s World!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s)            <span class="comment"># Hello %s World!</span></span><br><span class="line"><span class="built_in">print</span>(s % <span class="string">&#x27;this&#x27;</span>)   <span class="comment"># Hello this World!</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 位置参数形式，单个转换标记形式 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 当格式化字符串中只有一个位置参数形式的转换标记时，values 部分可以只是单个值，也可以是一个一元元组</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello %s&quot;</span> % <span class="string">&quot;alice&quot;</span>)       <span class="comment"># alice，单个值</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello %s&quot;</span> % (<span class="string">&quot;alice&quot;</span>,))    <span class="comment"># alice，一元元组</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 位置参数形式，多个转换标记形式 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 当格式化字符串中含有多个位置参数形式的转换标记时，values 部分必须是一个元组</span></span><br><span class="line"><span class="comment"># 元组中元素需要与转换标记按照位置一一对应，元素的数量要与转换标记的数量完全相同，不能多，也不能少，多了少了都会报错</span></span><br><span class="line"></span><br><span class="line">s=<span class="string">&#x27;Hello %s %dth World!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(s)                <span class="comment"># Hello %s %dth World!</span></span><br><span class="line"><span class="built_in">print</span>(s % (<span class="string">&#x27;the&#x27;</span>, <span class="number">8</span>))   <span class="comment"># Hello the 8th World!，多元 tuple</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s % (<span class="string">&#x27;the&#x27;</span>, ))        <span class="comment"># ❌，元素数量少了</span></span><br><span class="line"><span class="built_in">print</span>(s % (<span class="string">&#x27;the&#x27;</span>, <span class="number">8</span>, <span class="string">&#x27;a&#x27;</span>))  <span class="comment"># ❌，元素数量多了</span></span><br><span class="line"><span class="built_in">print</span>(s % (<span class="number">8</span>, <span class="string">&#x27;the&#x27;</span>))       <span class="comment"># ❌，元素与转换标记没有按照位置一一对应导致类型错误</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 映射参数形式 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># format_string 中的转换标记中如果使用了 mapping_key，则采用映射参数形式</span></span><br><span class="line"><span class="comment"># 映射参数形式中，values 为一个 dict，dict 中的每一个元素的 key 指向 mapping_key，value 为需要替换的值</span></span><br><span class="line"><span class="comment"># dict 中的元素可以多，但不能少，即 mapping_key 必须找到在 dict 中的对应项，否则会报错</span></span><br><span class="line"></span><br><span class="line">fmt = <span class="string">&quot;%(user)s bought %(count)s items&quot;</span></span><br><span class="line">val = &#123;<span class="string">&quot;user&quot;</span>: <span class="string">&quot;alice&quot;</span>, <span class="string">&quot;count&quot;</span>: <span class="number">3</span>&#125;</span><br><span class="line">val_1 =  &#123;<span class="string">&quot;user&quot;</span>: <span class="string">&quot;alice&quot;</span>, <span class="string">&quot;count&quot;</span>: <span class="number">3</span>, <span class="string">&quot;role&quot;</span>: <span class="string">&quot;student&quot;</span>&#125;</span><br><span class="line">val_2 = &#123;<span class="string">&quot;user&quot;</span>: <span class="string">&quot;alice&quot;</span>, <span class="string">&quot;role&quot;</span>: <span class="string">&quot;student&quot;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(fmt % val)            <span class="comment"># alice bought 3 items</span></span><br><span class="line"><span class="built_in">print</span>(fmt % val_1)          <span class="comment"># alice bought 3 items，多了 role 元素，但不影响</span></span><br><span class="line"><span class="built_in">print</span>(fmt % val_2)          <span class="comment"># ❌，KeyError，缺少了 count 的对应项</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 分步替换 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 位置参数形式和映射参数形式不能混用，即 format_string 中的转换标记要么全部使用 mapping_key，要么全部不使用 mapping_key，混用的话必然报错</span></span><br><span class="line"><span class="comment"># 可以借助 &#x27;%&#x27; 格式化标记来进行分步替换，来实现位置参数形式和映射参数形式的转换标记混用，但每一次替换均只能处理一种类型</span></span><br><span class="line"></span><br><span class="line">fmt = <span class="string">&quot;%(user)s bought %s items&quot;</span>  <span class="comment"># 同时有位置参数和映射参数</span></span><br><span class="line">step1 = fmt % &#123;<span class="string">&quot;user&quot;</span>: <span class="string">&quot;alice&quot;</span>&#125;   <span class="comment"># ❌，无论怎么写都会报错</span></span><br><span class="line"></span><br><span class="line">fmt = <span class="string">&quot;%(user)s bought %%s items&quot;</span> <span class="comment"># 使用 %% 方式，屏蔽位置参数</span></span><br><span class="line">step1 = fmt % &#123;<span class="string">&quot;user&quot;</span>: <span class="string">&quot;alice&quot;</span>&#125;   <span class="comment"># 先进行映射参数的替换</span></span><br><span class="line"><span class="built_in">print</span>(step1)                      <span class="comment"># lice bought %s items</span></span><br><span class="line">step2 = step1 % <span class="number">3</span>                 <span class="comment"># 再进行位置参数的替换</span></span><br><span class="line"><span class="built_in">print</span>(step2)                      <span class="comment"># alice bought 3 items</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p><strong>映射键 mapping_key</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在 format_string 中，通过名称的方式，指定需要取值的元素的 key</span></span><br><span class="line"><span class="comment"># 可以省略，省略则代表 format_string 采用位置参数的形式</span></span><br><span class="line"><span class="comment"># 格式上，紧跟在 % 后出现，必须放在圆括号中，必须出现在 flags/width/precision/type 等字段之前</span></span><br><span class="line"><span class="comment"># 必须是一个原样的字符串，不支持表达式，不支持点号路径、下标、函数调用等</span></span><br><span class="line"></span><br><span class="line">fmt = <span class="string">&quot;%(user)s %(uid)d&quot;</span></span><br><span class="line">val = &#123;<span class="string">&quot;user&quot;</span>: <span class="string">&quot;alice&quot;</span>, <span class="string">&quot;uid&quot;</span>: <span class="number">1001</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(fmt % val)          <span class="comment"># alice 1001</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fmt = <span class="string">&quot;user=%(user)s uid=%(uid)d&quot;</span></span><br><span class="line">val = &#123;<span class="string">&quot;user&quot;</span>: <span class="string">&quot;alice&quot;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(fmt % val)          <span class="comment"># ❌，KeyError，值不存在或缺失</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fmt = <span class="string">&quot;uid=%(uid)d&quot;</span></span><br><span class="line">val = &#123;<span class="string">&quot;uid&quot;</span>: <span class="string">&quot;1001&quot;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(fmt % val )         <span class="comment"># ❌，TypeError，值的类型不符</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在使用 mapping_key 时，宽度 width、精度 precision 不支持 &#x27;*&#x27; 的写法，必须将宽度/精度写死</span></span><br><span class="line">fmt = <span class="string">&quot;%(x)*.*f&quot;</span>          <span class="comment"># ❌，实际上这一行代码不会报错，但实际上无法在 format_string % values 这一步中指定任何有效的 value</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 拼接监控日志的一行</span></span><br><span class="line">fmt = <span class="string">&quot;[%(time)s] level=%(level)s service=%(svc)s msg=%(msg)s&quot;</span></span><br><span class="line">row = &#123;<span class="string">&quot;time&quot;</span>: <span class="string">&quot;2026-01-02 22:10:00&quot;</span>, <span class="string">&quot;level&quot;</span>: <span class="string">&quot;WARN&quot;</span>, <span class="string">&quot;svc&quot;</span>: <span class="string">&quot;auth&quot;</span>, <span class="string">&quot;msg&quot;</span>: <span class="string">&quot;token expired&quot;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(fmt % row)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># mapping_key 与 logging 格式化的关系</span></span><br><span class="line"><span class="comment"># Python 的 logging 格式串里经常看到 printf 风格的格式化，并且大量使用了 mapping_key，例如：</span></span><br><span class="line"><span class="string">&quot;%(asctime)s %(levelname)s %(name)s: %(message)s&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p><strong>宽度 width、精度 precision</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># width + precision 的执行可以按照如下顺序来理解：</span></span><br><span class="line"><span class="comment"># 先根据 type 把值转换成目标形态，如数值/字符串形式</span></span><br><span class="line"><span class="comment"># 再根据 precision 对结果进行如截断/补位/保留位数/有效数字等的处理</span></span><br><span class="line"><span class="comment"># 再格努 width 对结果进行补齐</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 宽度 width ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 指定格式化后整个字符串的最小宽度，必须是写作整数</span></span><br><span class="line"><span class="comment"># 如果格式化后的结果，宽度不足 width，就需要补齐到至少 width，默认采用空格进行补齐</span></span><br><span class="line"><span class="comment"># 正负号、进制前缀等，被算在 width 指定的字符位数之中</span></span><br><span class="line"><span class="comment"># 如果格式化后的结果宽度超过 width，则不截断直接输出</span></span><br><span class="line"><span class="comment"># 如果省略宽度，则不做最小字段宽度的填充和对齐，输出长度完全由实际内容绝对</span></span><br><span class="line"><span class="comment"># 补齐方式默认为右对齐</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%8s&quot;</span> % <span class="string">&quot;abc&quot;</span>))      <span class="comment"># &#x27;     abc&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%8d&quot;</span> % <span class="number">123</span>))        <span class="comment"># &#x27;     123&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%8.2f&quot;</span> % <span class="number">3.5</span>))      <span class="comment"># &#x27;    3.50&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 内容长度超过 width 不会截断</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%3s&quot;</span> % <span class="string">&quot;abcdef&quot;</span>))   <span class="comment"># &#x27;abcdef&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%3d&quot;</span> % <span class="number">123456</span>))     <span class="comment"># &#x27;123456&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%3.2f&quot;</span> % <span class="number">123.45</span>))   <span class="comment"># &#x27;123.45&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 正负号、进制前缀也会被算在 width 中</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%5d&#x27;</span>  % <span class="number">42</span>))        <span class="comment"># &#x27;   42&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%+5d&#x27;</span> % <span class="number">42</span>))        <span class="comment"># &#x27;  +42&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%5d&#x27;</span>  % -<span class="number">42</span>))       <span class="comment"># &#x27;  -42&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%#6x&#x27;</span> % <span class="number">42</span>))        <span class="comment"># &#x27;  0x2a&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%#6o&#x27;</span> % <span class="number">42</span>))        <span class="comment"># &#x27;  0o52&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 精度 precision ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 必须是写作整数</span></span><br><span class="line"><span class="comment"># 对于不同的转换类型具有不同的作用</span></span><br><span class="line"><span class="comment"># 不同的转换类型也具有不同的默认精度</span></span><br><span class="line"><span class="comment"># 精度与宽度的作用相互独立，互不影响</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对于整数类 %d/%i/%u/%o/%x/%X，作用为指定最少数字位数</span></span><br><span class="line"><span class="comment"># 不足则会使用 0 在左侧进行补齐</span></span><br><span class="line"><span class="comment"># 超过则不会进行截断</span></span><br><span class="line"><span class="comment"># 符号不算在数字位数里</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%.3d&quot;</span> % <span class="number">2</span>))       <span class="comment"># &#x27;002&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%.3d&quot;</span> % <span class="number">1000</span>))    <span class="comment"># &#x27;1000&#x27;，超过不会进行截断</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%.3d&quot;</span> % -<span class="number">2</span>))      <span class="comment"># &#x27;-002&#x27;，符号不算在数字位数里</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%8.3d&quot;</span> % <span class="number">2</span>))      <span class="comment"># &#x27;     002&#x27;，精度与宽度的补齐作用相互独立，互不影响</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对于对浮点类 %f/%F，作用为指定小数点后位数</span></span><br><span class="line"><span class="comment"># 不足则会使用 0 在右侧进行补齐</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%f&quot;</span> % <span class="number">3.5</span>))       <span class="comment"># &#x27;3.500000&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%.0f&quot;</span> % <span class="number">3.5</span>))     <span class="comment"># &#x27;4&#x27;，四舍五入到整数</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%.2f&quot;</span> % <span class="number">3.5</span>))     <span class="comment"># &#x27;3.50&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%8.2f&quot;</span> % <span class="number">3.5</span>))    <span class="comment"># &#x27;    3.50&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对于对浮点类 %e/%E，作用同样为指定小数点后位数，只是用科学计数法</span></span><br><span class="line"><span class="comment"># 不足则会使用 0 在右侧进行补齐</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%e&quot;</span> % <span class="number">3.5</span>))        <span class="comment"># &#x27;3.500000e+00&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%.2e&quot;</span> % <span class="number">3.5</span>))      <span class="comment"># &#x27;3.50e+00&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对于对浮点类 %g/%G，作用为指定有效数字的位数</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%g&quot;</span> % <span class="number">3.5</span>))        <span class="comment"># &#x27;3.5&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%.2g&quot;</span> % <span class="number">3.5</span>))      <span class="comment"># &#x27;3.5&#x27;，2 位有效数字</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%.2g&quot;</span> % <span class="number">3.14159</span>))  <span class="comment"># &#x27;3.1&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%.6g&quot;</span> % <span class="number">1234567</span>))  <span class="comment"># &#x27;1.23457e+06&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对于字符串类 %s/%r/%a，作用为指定最大输出长度</span></span><br><span class="line"><span class="comment"># 如果格式化后的结果超过 precision 则会截断</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%.2s&quot;</span> % <span class="string">&quot;abcdef&quot;</span>))   <span class="comment"># &#x27;ab&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%8.2s&quot;</span> % <span class="string">&quot;abcdef&quot;</span>))  <span class="comment"># &#x27;      ab&#x27;，先截断成 &#x27;ab&#x27;，再按宽度补齐</span></span><br><span class="line"></span><br><span class="line">obj = &#123;<span class="string">&quot;a&quot;</span>: <span class="number">1</span>, <span class="string">&quot;b&quot;</span>: <span class="number">2</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%.10r&quot;</span> % obj))       <span class="comment"># &quot;&#123;&#x27;a&#x27;: 1, &#x27;&quot;，repr 后再截断</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%.10a&quot;</span> % obj))       <span class="comment"># &quot;&#123;&#x27;a&#x27;: 1, &#x27;&quot;，ascii 后再截断</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 动态宽度和动态精度 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 宽度和精度可以写作 &#x27;*&#x27; 字符，表示采用动态宽度</span></span><br><span class="line"><span class="comment"># 即 format_string 中并不固定死宽度和精度，而是在实际使用 format_string 的时候再决定宽度和精度</span></span><br><span class="line"><span class="comment"># 在实际使用时，value 必须为一个元组，由元组中的元素提供宽度、精度，和最终需要替换的值</span></span><br><span class="line"><span class="comment"># 动态宽度/精度的特性决定了，mapping_key 与动态宽度/精度无法共同使用</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 动态宽度</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%*s&quot;</span> % (<span class="number">8</span>, <span class="string">&quot;hi&quot;</span>)))        <span class="comment"># &#x27;      hi&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%*d&quot;</span> % (<span class="number">8</span>, <span class="number">123</span>)))         <span class="comment"># &#x27;     123&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 动态精度</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%.*s&quot;</span> % (<span class="number">3</span>, <span class="string">&quot;abcdef&quot;</span>)))   <span class="comment"># &#x27;abc&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%.*f&quot;</span> % (<span class="number">2</span>, <span class="number">3.14159</span>)))    <span class="comment"># &#x27;3.14&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%.*g&quot;</span> % (<span class="number">2</span>, <span class="number">3.14159</span>)))    <span class="comment"># &#x27;3.1&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%.*d&quot;</span> % (<span class="number">4</span>, <span class="number">12</span>)))         <span class="comment"># &#x27;0012&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 同时具有动态宽度和动态精度</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%*.*f&quot;</span> % (<span class="number">8</span>, <span class="number">2</span>, <span class="number">3.14</span>)))   <span class="comment"># &#x27;    3.14&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 参数消耗</span></span><br><span class="line"><span class="comment"># format_string 中的每一个 &#x27;*&#x27; 都会按顺序从左到右依次消耗一个元组中的元素</span></span><br><span class="line"><span class="comment"># 如果 format_string 存在多个动态宽度/精度，则元组中元素的数量需要等于 &#x27;*&#x27; 的数量加替换值的数量，即元组中指定宽度、精度的值和指定替换的值等价</span></span><br><span class="line"><span class="comment"># 对于单个转换：</span></span><br><span class="line"><span class="comment"># &quot;%*s&quot; % (width, value)</span></span><br><span class="line"><span class="comment"># &quot;%*.*f&quot; % (width, precision, value)</span></span><br><span class="line"></span><br><span class="line">fmt = <span class="string">&quot;%*s | %.*f | %*d&quot;</span></span><br><span class="line">vals = (<span class="number">6</span>, <span class="string">&quot;A&quot;</span>, <span class="number">2</span>, <span class="number">3.14159</span>, <span class="number">4</span>, <span class="number">7</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(fmt % vals))           <span class="comment"># &#x27;     A | 3.14 |    7&#x27;</span></span><br><span class="line"><span class="comment"># 第1个：%*s  消耗 (6, &quot;A&quot;)</span></span><br><span class="line"><span class="comment"># 第2个：%.*f 消耗 (2, 3.14159)</span></span><br><span class="line"><span class="comment"># 第3个：%*d  消耗 (4, 7)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 负数参数</span></span><br><span class="line"><span class="comment"># 在使用动态宽度/精度时，可以通过元组传入负数的参数</span></span><br><span class="line"><span class="comment"># 对于 width，如果传入了负数，则负号会被识别为左对齐flag，不论之前是否已经指定了左对齐flag</span></span><br><span class="line"><span class="comment"># 对于 precision，如果传入了负数，则会被当做零来处理</span></span><br><span class="line"></span><br><span class="line">fmt=<span class="string">&quot;%*s&quot;</span></span><br><span class="line">val=(-<span class="number">6</span>,<span class="string">&quot;A&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(fmt % val))    <span class="comment"># &#x27;A     &#x27;，宽度左对齐</span></span><br><span class="line"></span><br><span class="line">fmt=<span class="string">&quot;%-*s&quot;</span></span><br><span class="line">val=(-<span class="number">6</span>,<span class="string">&quot;A&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(fmt % val))    <span class="comment"># &#x27;A     &#x27;，宽度左对齐，即使之前已经指定了左对齐flag</span></span><br><span class="line"></span><br><span class="line">fmt=<span class="string">&quot;%.*f&quot;</span></span><br><span class="line">val=(-<span class="number">2</span>,<span class="number">3.14159</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(fmt % val))    <span class="comment"># &#x27;3&#x27;，负数的精度被识别为了 0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>标志位 flags</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在 printf 格式化中，用来指定对齐方式、符号显示、补零、替代形式</span></span><br><span class="line"><span class="comment"># 位置在 &#x27;%&#x27; 和 width 之间</span></span><br><span class="line"><span class="comment"># 在一个格式化标记中可以同时出现不同的 flags，相互之间也没有先后顺序，只要组合不互相冲突或者会被更强规则覆盖即可</span></span><br><span class="line"><span class="comment"># python 中支持以下五个 flag：</span></span><br><span class="line"><span class="comment">#     - 左对齐</span></span><br><span class="line"><span class="comment">#     0 补零</span></span><br><span class="line"><span class="comment">#     + 显示符号</span></span><br><span class="line"><span class="comment">#     &#x27; &#x27; 整数前放空格</span></span><br><span class="line"><span class="comment">#     # 替代形式</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- &#x27;-&#x27; 左对齐 left adjust ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 当设置了 width 时，默认是右对齐，补齐方式为在字符串左侧添加空白进行补齐</span></span><br><span class="line"><span class="comment"># 指定 - 表示左对齐，补齐方式为右侧用空格补齐</span></span><br><span class="line"><span class="comment"># 几乎对所有转换类型都有效</span></span><br><span class="line"><span class="comment"># 如果同时出现 - 和 0，- 会覆盖掉 0</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;|%10s|&quot;</span> % <span class="string">&quot;Hi&quot;</span>)    <span class="comment"># |        Hi|，默认右对齐</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;|%-10s|&quot;</span> % <span class="string">&quot;Hi&quot;</span>)   <span class="comment"># |Hi        |，左对齐</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;|%8d|&quot;</span>  % <span class="number">123</span>)     <span class="comment"># |     123|</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;|%-8d|&quot;</span> % <span class="number">123</span>)     <span class="comment"># |123     |</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- &#x27;0&#x27; 补零 zero padding ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 当设置了 width 时，改为用 0 作为左侧填充字符，而不是空格</span></span><br><span class="line"><span class="comment"># 主要对数值类型有效，对字符串类 %s/%r/%a/%c 通常会被忽略，仍然用空格补齐</span></span><br><span class="line"><span class="comment"># 会被左对齐给覆盖掉</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%05d&quot;</span> % <span class="number">3</span>))           <span class="comment"># &#x27;00003&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%010.2f&quot;</span> % <span class="number">3.14</span>))     <span class="comment"># &#x27;0000003.14&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在存在正负号、进制前缀的情况下，会将 0 填充到正负号、进制前缀与数字之间</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%5d&quot;</span> % -<span class="number">3</span>))         <span class="comment"># &#x27;   -3&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%05d&quot;</span> % -<span class="number">3</span>))        <span class="comment"># &#x27;-0003&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%+10.2f&quot;</span> % <span class="number">3.14</span>))   <span class="comment"># &#x27;     +3.14&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%+010.2f&quot;</span> % <span class="number">3.14</span>))  <span class="comment"># &#x27;+000003.14&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%#8x&quot;</span> % <span class="number">10</span>))        <span class="comment"># &#x27;     0xa&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%#08x&quot;</span> % <span class="number">10</span>))       <span class="comment"># &#x27;0x00000a&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%#8x&quot;</span> % -<span class="number">3</span>))        <span class="comment"># &#x27;    -0x3&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%#08x&quot;</span> % -<span class="number">3</span>))       <span class="comment"># &#x27;-0x00003&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对于字符串类型会被忽略</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%05s&quot;</span> % <span class="string">&quot;a&quot;</span>))       <span class="comment"># &#x27;    a&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%05c&quot;</span> % <span class="number">65</span>))        <span class="comment"># &#x27;    A&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 会被左对齐给覆盖掉</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%-05d&quot;</span> % <span class="number">3</span>))        <span class="comment"># &#x27;3    &#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- &#x27;+&#x27; 总是显示符号 always show sign ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 指定对于数值型总是显示显示正负号，即正数就显示 +，负数显示 -</span></span><br><span class="line"><span class="comment"># 主要对数值类的转换都有效</span></span><br><span class="line"><span class="comment"># 对于字符串类的转换会被自动忽略掉</span></span><br><span class="line"><span class="comment"># 与 &#x27; &#x27; 冲突，会覆盖掉 &#x27; &#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%+d&quot;</span> % <span class="number">7</span>)              <span class="comment"># +7</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%+d&quot;</span> % -<span class="number">7</span>)             <span class="comment"># -7</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%+f&quot;</span> % <span class="number">3.14</span>)           <span class="comment"># +3.140000</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%+f&quot;</span> % <span class="built_in">float</span>(<span class="string">&quot;inf&quot;</span>))   <span class="comment"># +inf</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%+f&quot;</span> % <span class="built_in">float</span>(<span class="string">&quot;nan&quot;</span>))   <span class="comment"># +nan</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%+5s&#x27;</span> % <span class="string">&#x27;abc&#x27;</span>))   <span class="comment"># &#x27;    A&#x27;，在字符串类的装好中被自动忽略</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- &#x27; &#x27; 正数前放空格 blank sign ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 正数前放一个空格，负数仍是 -</span></span><br><span class="line"><span class="comment"># 主要对数值类的转换都有效</span></span><br><span class="line"><span class="comment"># 对于字符串类的转换会被自动忽略掉</span></span><br><span class="line"><span class="comment"># 与 &#x27;+&#x27; 冲突，会被 &#x27;+&#x27; 覆盖掉</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%d&#x27;</span> % <span class="number">42</span>))      <span class="comment"># &#x27;42&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;% d&#x27;</span> % <span class="number">42</span>))     <span class="comment"># &#x27; 42&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;% d&#x27;</span> % -<span class="number">42</span>))    <span class="comment"># &#x27;-42&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%+ d&#x27;</span> % <span class="number">42</span>))    <span class="comment"># &#x27;+42&#x27;，被 &#x27;+&#x27; 覆盖</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;% d&#x27;</span> % <span class="number">0</span>))      <span class="comment"># &#x27; 0&#x27;，0 也算“非负”，同样加空格</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%0 5d&quot;</span> % <span class="number">7</span>))    <span class="comment"># &#x27; 0007&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%0 5d&quot;</span> % -<span class="number">7</span>))   <span class="comment"># &#x27;-0007&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- &#x27;#&#x27; 替代形式 alternate form ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 启用各种类型的替代形式</span></span><br><span class="line"><span class="comment"># 对于不同的类型具有不同的效果</span></span><br><span class="line"><span class="comment"># 对字符串 s/r/a/c，没有效果，会被忽略</span></span><br><span class="line"><span class="comment"># 对整数 d/i/u，没有效果，会被忽略</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对整数 o/x/X，表示加前缀</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%o&quot;</span>  % <span class="number">10</span>))   <span class="comment"># 12</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%#o&quot;</span> % <span class="number">10</span>))   <span class="comment"># 0o12</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%x&quot;</span>  % <span class="number">10</span>))   <span class="comment"># &#x27;a&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%#x&quot;</span> % <span class="number">10</span>))   <span class="comment"># &#x27;0xa&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%#X&quot;</span> % <span class="number">10</span>))   <span class="comment"># &#x27;0XA&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对浮点数 f/F/e/E，强制保留小数点</span></span><br><span class="line"><span class="comment"># 当 precision 为 0 时，普通情况下会没有小数点，加 # 会强制保留</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%.0f&quot;</span>  % <span class="number">3.0</span>))    <span class="comment"># &#x27;3&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%#.0f&quot;</span> % <span class="number">3.0</span>))    <span class="comment"># &#x27;3.&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%#.0e&quot;</span> % <span class="number">3.0</span>))    <span class="comment"># &#x27;3.e+00&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对浮点数 g/G，不去掉尾随 0，并保留小数点</span></span><br><span class="line"><span class="comment"># %g/%G 默认会尽量短，会去掉尾随 0 和可能的小数点，加 # 会保留到 precision 指定的位数和小数点</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%g&quot;</span>  % <span class="number">3.0</span>))      <span class="comment"># &#x27;3&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%#g&quot;</span> % <span class="number">3.0</span>))      <span class="comment"># &#x27;3.00000&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%#.0g&quot;</span> % <span class="number">3.0</span>))    <span class="comment"># &#x27;3.&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>转换类型 type</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 用于指定字符串的替换采用何种方式</span></span><br><span class="line"><span class="comment"># 是 printf 格式化中，唯一一个不能省略的字段</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># type 字段的本质，选择转换通道：</span></span><br><span class="line"><span class="comment"># 可以把 % 格式化看成两步：</span></span><br><span class="line"><span class="comment">#     取值：从位置参数 tuple 或 mapping_key 取出对象 value</span></span><br><span class="line"><span class="comment">#     转换：根据 type 把 value 转成一段文本，再参与宽度/对齐/填充</span></span><br><span class="line"><span class="comment"># type 就是第二步的开关：</span></span><br><span class="line"><span class="comment">#     d/i/u/o/x/X 走整数通道</span></span><br><span class="line"><span class="comment">#     e/E/f/F/g/G 走浮点数通道</span></span><br><span class="line"><span class="comment">#     s/r/a 走 字符串化通道</span></span><br><span class="line"><span class="comment">#     c 走单字符通道</span></span><br><span class="line"><span class="comment">#     % 走字面量百分号通道</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p><strong>转换类型-整数</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- d/i/u ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 有符号十进制数 signed decimal</span></span><br><span class="line"><span class="comment"># u 实际上已经废弃，但在 Python 里等同于 d</span></span><br><span class="line"><span class="comment"># 支持任何可以转换为 int 的数据类型，如 float/Decimal/Fraction，python 会先进行类似 int(x) 的截断，再按十进制输出</span></span><br><span class="line"><span class="comment"># 精度表示最少数字位数，默认精度为 0，不足则会使用 0 在开头进行补齐，超过原样输出不会进行截断</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># int 型 value</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%d&quot;</span> % <span class="number">0</span>)       <span class="comment"># 0</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%d&quot;</span> % <span class="number">42</span>)      <span class="comment"># 42</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%d&quot;</span> % -<span class="number">42</span>)     <span class="comment"># -42</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># bool 型 value</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%d&quot;</span> % <span class="literal">True</span>)    <span class="comment"># 1</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%d&quot;</span> % <span class="literal">False</span>)   <span class="comment"># 0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># float 型 value</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%d&quot;</span> % <span class="number">3.0</span>)     <span class="comment"># 3</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%d&quot;</span> % <span class="number">3.14</span>)    <span class="comment"># 3</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%d&quot;</span> % -<span class="number">3.14</span>)   <span class="comment"># -3</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%d&quot;</span> % <span class="built_in">float</span>(<span class="string">&quot;inf&quot;</span>))  <span class="comment"># ❌，不支持 inf，因为无法转换为整数</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%d&quot;</span> % <span class="built_in">float</span>(<span class="string">&quot;nan&quot;</span>))  <span class="comment"># ❌，不支持 nan，因为无法转换为整数</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Decimal / Fraction 型 value</span></span><br><span class="line"><span class="keyword">from</span> decimal <span class="keyword">import</span> Decimal</span><br><span class="line"><span class="keyword">from</span> fractions <span class="keyword">import</span> Fraction</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%d&quot;</span> % Decimal(<span class="string">&quot;3.9&quot;</span>))      <span class="comment"># 3</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%d&quot;</span> % Decimal(<span class="string">&quot;-3.9&quot;</span>))     <span class="comment"># -3</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%d&quot;</span> % Fraction(<span class="number">7</span>, <span class="number">2</span>))      <span class="comment"># 3</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%d&quot;</span> % Fraction(-<span class="number">7</span>, <span class="number">2</span>))     <span class="comment"># -3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- o/x/X ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># o   ：有符号八进制数 signed octal</span></span><br><span class="line"><span class="comment"># x/X ：有符号十六进制数 signed hexadecimal </span></span><br><span class="line"><span class="comment"># 对于整数，先将其转换为对应的八进制数/十六进制数，再输出</span></span><br><span class="line"><span class="comment"># 默认不输出前缀的 0o、0x、0X，但在指定了 alternate form 后，可以加上前缀</span></span><br><span class="line"><span class="comment"># 只支持 int/bool 型，不支持其他任何类型</span></span><br><span class="line"><span class="comment"># 精度表示最少数字位数，默认精度为 0，不足则会使用 0 在开头进行补齐，超过原样输出不会进行截断</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># %o</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%o&quot;</span> % <span class="number">0</span>)     <span class="comment"># 0</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%o&quot;</span> % <span class="number">8</span>)     <span class="comment"># 10</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%o&quot;</span> % <span class="number">9</span>)     <span class="comment"># 11</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%o&quot;</span> % <span class="number">64</span>)    <span class="comment"># 100</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%o&quot;</span> % -<span class="number">9</span>)    <span class="comment"># -11</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%o&quot;</span> % <span class="literal">True</span>)  <span class="comment"># 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># %x</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%x&quot;</span> % <span class="number">0</span>)     <span class="comment"># 0</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%x&quot;</span> % <span class="number">10</span>)    <span class="comment"># a</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%x&quot;</span> % <span class="number">15</span>)    <span class="comment"># f</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%x&quot;</span> % <span class="number">16</span>)    <span class="comment"># 10</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%x&quot;</span> % <span class="number">255</span>)   <span class="comment"># ff</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%x&quot;</span> % -<span class="number">255</span>)  <span class="comment"># -ff</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># %X</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%x&quot;</span> % <span class="number">48879</span>)   <span class="comment"># beef</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%X&quot;</span> % <span class="number">48879</span>)   <span class="comment"># BEEF</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%X&quot;</span> % <span class="number">10</span>)    <span class="comment"># A</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%X&quot;</span> % <span class="number">255</span>)   <span class="comment"># FF</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%X&quot;</span> % -<span class="number">255</span>)  <span class="comment"># -FF</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># alternate form</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%#o&quot;</span> % <span class="number">9</span>)      <span class="comment"># 0o11</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%#x&quot;</span> % <span class="number">48879</span>)  <span class="comment"># 0xbeef</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%#X&quot;</span> % <span class="number">48879</span>)  <span class="comment"># 0XBEEF</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># float/Decimal/Fraction</span></span><br><span class="line"><span class="keyword">from</span> decimal <span class="keyword">import</span> Decimal</span><br><span class="line"><span class="keyword">from</span> fraction <span class="keyword">import</span> Fraction</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%o&quot;</span> % <span class="number">3.0</span>)             <span class="comment"># ❌</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%x&quot;</span> % <span class="number">3.0</span>)             <span class="comment"># ❌</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%X&quot;</span> % <span class="number">3.0</span>)             <span class="comment"># ❌</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%o&quot;</span> % Decimal(<span class="string">&quot;3.9&quot;</span>))  <span class="comment"># ❌</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%x&quot;</span> % Decimal(<span class="string">&quot;3.9&quot;</span>))  <span class="comment"># ❌</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%X&quot;</span> % Decimal(<span class="string">&quot;3.9&quot;</span>))  <span class="comment"># ❌</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%o&quot;</span> % Fraction(<span class="number">7</span>, <span class="number">2</span>))  <span class="comment"># ❌</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%x&quot;</span> % Fraction(<span class="number">7</span>, <span class="number">2</span>))  <span class="comment"># ❌</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%X&quot;</span> % Fraction(<span class="number">7</span>, <span class="number">2</span>))  <span class="comment"># ❌</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p><strong>转换类型-浮点数</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 支持所有的实数类型，如 int、bool、float、Decimal、Fraction</span></span><br><span class="line"><span class="comment"># 不支持如 string、complex</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- f/F ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 定点小数 fixed-point</span></span><br><span class="line"><span class="comment"># 精度表示小数点后的位数，默认精度为 6</span></span><br><span class="line"><span class="comment"># 不足精度则会在末尾使用 0 进行补齐</span></span><br><span class="line"><span class="comment"># 超出精度则会使用 rount() 进行舍入</span></span><br><span class="line"><span class="comment"># 精度在不使用动态参数的情况下不能为负</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%f&#x27;</span> % <span class="number">2</span>))                   <span class="comment"># &#x27;2.000000&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%f&#x27;</span> % -<span class="number">2</span>))                  <span class="comment"># &#x27;-2.000000&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%f&#x27;</span> % <span class="number">3.141592653589793</span>))   <span class="comment"># &#x27;3.141593&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%f&#x27;</span> % <span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>)))        <span class="comment"># &#x27;inf&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%f&#x27;</span> % <span class="built_in">float</span>(<span class="string">&#x27;nan&#x27;</span>)))        <span class="comment"># nan</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%f&#x27;</span> % (<span class="number">0.0</span>)))               <span class="comment"># &#x27;0.000000&#x27;，正负零</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%f&#x27;</span> % (-<span class="number">0.0</span>)))              <span class="comment"># &#x27;-0.000000&#x27;，正负零</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%.-2f&#x27;</span> % <span class="number">3.14159</span>))          <span class="comment"># ❌，ValueError，精度为负</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- e/E ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 科学计数法 exponential </span></span><br><span class="line"><span class="comment"># 形式为 d.dddddd e±NN</span></span><br><span class="line"><span class="comment"># 指数部分带符号，通常至少两位</span></span><br><span class="line"><span class="comment"># 精度表示小数点后的位数，默认精度为 6</span></span><br><span class="line"><span class="comment"># 超出精度则会使用 rount() 进行舍入</span></span><br><span class="line"><span class="comment"># 精度在不使用动态参数的情况下不能为负</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%e&#x27;</span> % <span class="number">3.141592653589793</span>))     <span class="comment"># &#x27;3.141593e+00&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%E&#x27;</span> % <span class="number">3.141592653589793</span>))     <span class="comment"># &#x27;3.141593E+00&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 不同数量级</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%e&#x27;</span> % <span class="number">0.00001234</span>))            <span class="comment"># &#x27;1.234000e-05&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%e&#x27;</span> % <span class="number">1234000000.0</span>))          <span class="comment"># &#x27;1.234000e+09&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定 precision</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%.2e&#x27;</span> % <span class="number">3.141592653589793</span>))   <span class="comment"># &#x27;3.14e+00&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%.0e&#x27;</span> % <span class="number">3.141592653589793</span>))   <span class="comment"># &#x27;3e+00&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%.8E&#x27;</span> % <span class="number">3.141592653589793</span>))   <span class="comment"># &#x27;3.14159265E+00&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 保留小数点</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%#.0e&#x27;</span> % <span class="number">3.141592653589793</span>))  <span class="comment"># &#x27;3.e+00&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%#.0E&#x27;</span> % <span class="number">3.141592653589793</span>))  <span class="comment"># &#x27;3.E+00&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># width/补零/符号</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%15.3e&#x27;</span> % <span class="number">3.141592653589793</span>))     <span class="comment"># &#x27;      3.142e+00&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%015.3e&#x27;</span> % <span class="number">3.141592653589793</span>))    <span class="comment"># &#x27;0000003.142e+00&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%+015.3E&#x27;</span> % <span class="number">3.141592653589793</span>))   <span class="comment"># &#x27;+000003.142E+00&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 特殊值</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%e&#x27;</span> % <span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>)))      <span class="comment"># &#x27;inf&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%E&#x27;</span> % <span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>)))      <span class="comment"># &#x27;INF&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%e&#x27;</span> % <span class="built_in">float</span>(<span class="string">&#x27;nan&#x27;</span>)))      <span class="comment"># &#x27;nan&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%E&#x27;</span> % <span class="built_in">float</span>(<span class="string">&#x27;nan&#x27;</span>)))      <span class="comment"># &#x27;NAN&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- g/G ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 通用格式 general</span></span><br><span class="line"><span class="comment"># 自动根据 value 和精度的情况，在定点/科学计数间切换</span></span><br><span class="line"><span class="comment"># 当指数 &lt; -4 或 &gt;= precision，用指数形式，否则用定点形式</span></span><br><span class="line"><span class="comment"># 精度表示有效数字的位数，默认精度为 6</span></span><br><span class="line"><span class="comment"># 去尾零规则：g/G 默认会去掉无意义的尾随 0，并且必要时去掉小数点；# 会阻止去尾零并强制保留小数点</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 自动切换</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%g&#x27;</span> % <span class="number">12345.6789</span>))        <span class="comment"># &#x27;12345.7&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%g&#x27;</span> % <span class="number">1234567.89</span>))        <span class="comment"># &#x27;1.23457e+06&#x27;，指数为 6 &gt;= 精度 6</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%g&#x27;</span> % <span class="number">0.000123456789</span>))    <span class="comment"># &#x27;0.000123457&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%g&#x27;</span> % <span class="number">0.00000123456789</span>))  <span class="comment"># &#x27;1.23457e-05&#x27;，指数为 -5 &lt; -4</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 有效数字</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%.3g&#x27;</span>  % <span class="number">3.141592653589793</span>))    <span class="comment"># &#x27;3.14&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%.6g&#x27;</span>  % <span class="number">3.141592653589793</span>))    <span class="comment"># &#x27;3.14159&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%.12g&#x27;</span> % <span class="number">3.141592653589793</span>))    <span class="comment"># &#x27;3.14159265359&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 去尾零与保留尾零</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%f&#x27;</span>  % <span class="number">1.230000</span>))     <span class="comment"># &#x27;1.230000&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%g&#x27;</span>  % <span class="number">1.230000</span>))     <span class="comment"># &#x27;1.23&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%#g&#x27;</span> % <span class="number">1.230000</span>))     <span class="comment"># &#x27;1.23000&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 特殊值</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%g&#x27;</span> % <span class="built_in">float</span>(<span class="string">&#x27;inf&#x27;</span>)))  <span class="comment"># &#x27;inf&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&#x27;%g&#x27;</span> % <span class="built_in">float</span>(<span class="string">&#x27;nan&#x27;</span>)))  <span class="comment"># &#x27;nan&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p><strong>转换类型-字符串</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- s ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 通过 str() 函数对 value 处理后输出</span></span><br><span class="line"><span class="comment"># 参数支持任何类型的对象</span></span><br><span class="line"><span class="comment"># width 指定最小字符数，不够就填充空格</span></span><br><span class="line"><span class="comment"># precision 指定最大字符串，超出则截断</span></span><br><span class="line"><span class="comment"># 当 precision 和 width 冲突时，先按照 precision 进行截断，再按照 width 填充空格</span></span><br><span class="line"><span class="comment"># width 和 precision 没有默认值</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%s&quot;</span> % <span class="string">&quot;hello&quot;</span>)) <span class="comment"># &#x27;hello&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%s&quot;</span> % <span class="number">123</span>))     <span class="comment"># &#x27;123&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%s&quot;</span> % <span class="number">3.14</span>))    <span class="comment"># &#x27;3.14&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%s&quot;</span> % <span class="literal">None</span>))    <span class="comment"># &#x27;None&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对齐</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%10s&quot;</span> % <span class="string">&quot;hi&quot;</span>))      <span class="comment"># &#x27;        hi&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%-10s&quot;</span> % <span class="string">&quot;hi&quot;</span>))     <span class="comment"># &#x27;hi        &#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%*s&quot;</span> % (<span class="number">10</span>, <span class="string">&quot;hi&quot;</span>))) <span class="comment"># &#x27;        hi&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 截断</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%.3s&quot;</span> % <span class="string">&quot;hello&quot;</span>))           <span class="comment"># &#x27;hel&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%10.3s&quot;</span> % <span class="string">&quot;hello&quot;</span>))         <span class="comment"># &#x27;       hel&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%-10.3s&quot;</span> % <span class="string">&quot;hello&quot;</span>))        <span class="comment"># &#x27;hel       &#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%.*s&quot;</span> % (<span class="number">4</span>, <span class="string">&quot;hello&quot;</span>)))      <span class="comment"># &#x27;hell&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%*.*s&quot;</span> % (<span class="number">10</span>, <span class="number">4</span>, <span class="string">&quot;hello&quot;</span>))) <span class="comment"># &#x27;      hell&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- r ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 通过 repr() 函数对 value 处理后输出</span></span><br><span class="line"><span class="comment"># 参数支持任何类型的对象</span></span><br><span class="line"><span class="comment"># width 和 precision 与 %s 的定义相同</span></span><br><span class="line"><span class="comment"># width 指定最小字符数，不够就填充空格</span></span><br><span class="line"><span class="comment"># precision 指定最大字符串，超出则截断</span></span><br><span class="line"><span class="comment"># 当 precision 和 width 冲突时，先按照 precision 进行截断，再按照 width 填充空格</span></span><br><span class="line"><span class="comment"># 区别为 repr() 会自动输出包裹的引号，引号也会参与到 width 和 precision 的计算</span></span><br><span class="line"><span class="comment"># width 和 precision 没有默认值</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%r&quot;</span> % <span class="string">&quot;hello&quot;</span>))   <span class="comment"># &quot;&#x27;hello&#x27;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%r&quot;</span> % <span class="number">123</span>))       <span class="comment"># &#x27;123&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%r&quot;</span> % <span class="number">3.14</span>))      <span class="comment"># &#x27;3.14&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%r&quot;</span> % <span class="literal">None</span>))      <span class="comment"># &#x27;None&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对比 %s 和 %r</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%s&quot;</span> % <span class="string">&quot;a\nb&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%r&quot;</span> % <span class="string">&quot;a\nb&quot;</span>)          <span class="comment"># &#x27;a\nb&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 宽度和精度</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%20r&quot;</span> % <span class="string">&quot;hi&quot;</span>))            <span class="comment"># &quot;                &#x27;hi&#x27;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%.5r&quot;</span> % <span class="string">&quot;hello world&quot;</span>))   <span class="comment"># &quot;&#x27;hell&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%20.5r&quot;</span> % <span class="string">&quot;hello world&quot;</span>)) <span class="comment"># &quot;               &#x27;hell&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- a ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 通过 ascii() 函数对 value 处理后输出</span></span><br><span class="line"><span class="comment"># ascii() 和 repr() 很像，但会把 所有非 ASCII 字符转义为 \uXXXX / \UXXXXXXXX</span></span><br><span class="line"><span class="comment"># 参数支持任何类型的对象</span></span><br><span class="line"><span class="comment"># width 和 precision 与 %s 的定义相同</span></span><br><span class="line"><span class="comment"># width 指定最小字符数，不够就填充空格</span></span><br><span class="line"><span class="comment"># precision 指定最大字符串，超出则截断</span></span><br><span class="line"><span class="comment"># 当 precision 和 width 冲突时，先按照 precision 进行截断，再按照 width 填充空格</span></span><br><span class="line"><span class="comment"># 区别为 ascii() 会自动输出包裹的引号，引号也会参与到 width 和 precision 的计算</span></span><br><span class="line"><span class="comment"># width 和 precision 没有默认值</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%r&quot;</span> % <span class="string">&quot;中文&quot;</span>)    <span class="comment"># &#x27;中文&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%a&quot;</span> % <span class="string">&quot;中文&quot;</span>)    <span class="comment"># &#x27;\u4e2d\u6587&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%20a&quot;</span> % <span class="string">&quot;中文&quot;</span>)      <span class="comment">#       &#x27;\u4e2d\u6587&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;%.8a&quot;</span> % <span class="string">&quot;中文ABC&quot;</span>)   <span class="comment"># &#x27;\u4e2d\</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- c ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 单个字符输出</span></span><br><span class="line"><span class="comment"># 通过 chr() 函数对 value 处理后输出</span></span><br><span class="line"><span class="comment"># 参数必须是长度为 1 的 str，或者作为 Unicode 码点的 int，范围在 0 &lt;= i &lt; 0x110000</span></span><br><span class="line"><span class="comment"># width 对 %c 有效</span></span><br><span class="line"><span class="comment"># precision 对 %c 基本无意义，通常被忽略</span></span><br><span class="line"><span class="comment"># 0 flag 会被忽略</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%c&quot;</span> % <span class="number">65</span>))        <span class="comment"># &#x27;A&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%c&quot;</span> % <span class="number">0x4E2D</span>))    <span class="comment"># &#x27;中&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%c&quot;</span> % <span class="string">&quot;Z&quot;</span>))       <span class="comment"># &#x27;Z&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定宽度、精度、0 flag</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;|%5c|&quot;</span> % <span class="string">&quot;A&quot;</span>)        <span class="comment"># |    A|</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;|%-5c|&quot;</span> % <span class="string">&quot;A&quot;</span>)       <span class="comment"># |A    |</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;|%05c|&quot;</span> % <span class="string">&quot;A&quot;</span>)       <span class="comment"># |    A|</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- % ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># 直接输出一个字面量字符 &#x27;%&#x27;</span></span><br><span class="line"><span class="comment"># 只有一种写法 %%</span></span><br><span class="line"><span class="comment"># 不支持任何 width/precision/flags，会报错</span></span><br><span class="line"><span class="comment"># 不消耗任何输入参数</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%%&quot;</span> % ()))      <span class="comment"># &#x27;%&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;A%%B&quot;</span> % ()))    <span class="comment"># &#x27;A%B&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;rate=%%, name=%s&quot;</span> % <span class="string">&quot;alice&quot;</span>))   <span class="comment"># &#x27;rate=%, name=alice&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%%%s&quot;</span> % <span class="string">&quot;hi&quot;</span>))    <span class="comment"># &#x27;%hi&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%%%s&quot;</span> % <span class="number">123</span>))   <span class="comment"># &#x27;%123&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 多个 &#x27;%%&#x27;，每个 &#x27;%%&#x27; 都输出一个 &#x27;%&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;%%%%&quot;</span> % ()))      <span class="comment"># &#x27;%%&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(<span class="string">&quot;X%%%%Y&quot;</span> % ()))    <span class="comment"># &#x27;X%%Y&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 一个作用，是在 format-string 中具有别的转换标记时，保存 &#x27;%&#x27; 字符</span></span><br><span class="line">fmt=<span class="string">&#x27;Hello %%%s%% World!&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(fmt % <span class="string">&#x27;the&#x27;</span>))      <span class="comment"># &#x27;Hello %the% World!&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 一个作用，在进行多轮格式化时，保留后面轮次需要使用的转换标记</span></span><br><span class="line">fmt = <span class="string">&quot;%(user)s bought %%s items&quot;</span></span><br><span class="line">step1 = fmt % &#123;<span class="string">&quot;user&quot;</span>: <span class="string">&quot;alice&quot;</span>&#125;   <span class="comment"># &#x27;alice bought %s items&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(step1))</span><br><span class="line">step2 = step1 % <span class="number">3</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(step2))                <span class="comment"># &#x27;alice bought 3 items&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：字符串格式化-format-风格"><a href="#知识点：字符串格式化-format-风格" class="headerlink" title="知识点：字符串格式化-format 风格"></a>知识点：字符串格式化-format 风格</h3><ol>
<li><p><strong>介绍</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p><strong>format() 函数</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p><strong>str.format()</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>str.format_map()</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>f-string</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>t-string</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：字符串格式化-format-风格-格式字符串"><a href="#知识点：字符串格式化-format-风格-格式字符串" class="headerlink" title="知识点：字符串格式化-format 风格-格式字符串"></a>知识点：字符串格式化-format 风格-格式字符串</h3><ol>
<li><strong>介绍</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">格式字符串 Format String Syntax</span><br><span class="line">https://docs.python.org/<span class="number">3.14</span>/library/string.html<span class="comment">#format-string-syntax</span></span><br><span class="line"></span><br><span class="line">格式：</span><br><span class="line">&#123; [field_name] [!conversion] [:format_spec] &#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：字符串格式化-format-风格-格式规格微语言"><a href="#知识点：字符串格式化-format-风格-格式规格微语言" class="headerlink" title="知识点：字符串格式化-format 风格-格式规格微语言"></a>知识点：字符串格式化-format 风格-格式规格微语言</h3><ol>
<li><p><strong>介绍</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">格式规格微语言 Format Specification Mini-Language</span><br><span class="line">https://docs.python.org/<span class="number">3</span>/library/string.html<span class="comment">#formatspec</span></span><br><span class="line"></span><br><span class="line">format_spec</span><br><span class="line"><span class="built_in">format</span> specification 格式说明</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    - 作用，在进行字符串格式化时，指定字符串的格式</span><br><span class="line">      - 格式化字符串字面量</span><br><span class="line">      - <span class="built_in">str</span>.<span class="built_in">format</span>()</span><br><span class="line">      - <span class="built_in">format</span>()</span><br><span class="line">    - 使用格式微语言 Format Specification Mini-Language 来指定输出格式</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  * 格式</span><br><span class="line">    :[[fill]align][sign][<span class="comment">#][0][width][grouping_option][.precision][type]</span></span><br><span class="line"></span><br><span class="line">  * :</span><br><span class="line">    - format_spec 的标识</span><br><span class="line"></span><br><span class="line">  * file</span><br><span class="line">    - 指定填充字符</span><br><span class="line">    - 默认采用 space</span><br><span class="line">    - 只有指定了 align 时才有效</span><br><span class="line"></span><br><span class="line">  * align</span><br><span class="line">    - 指定对齐方式</span><br><span class="line">    - &lt;   左对齐</span><br><span class="line">    - &gt;   右对齐</span><br><span class="line">    - ^   居中对齐</span><br><span class="line">    - =   零补齐，如 <span class="string">&#x27;+000000120&#x27;</span> 的形式，只对 numeric 生效</span><br><span class="line"></span><br><span class="line">  * sign</span><br><span class="line">    - 指定添加符号，只对 numeric 生效</span><br><span class="line">    - +       正数和负数都需要加符号</span><br><span class="line">    - -       只有负数才需要加符号</span><br><span class="line">    - space   正数加空格，负数加符号</span><br><span class="line"></span><br><span class="line">  * <span class="comment">#</span></span><br><span class="line">    - 使用替代格式 alternate form</span><br><span class="line">    - 只对 numeric 生效</span><br><span class="line">    - 对于 integer，当 <span class="built_in">type</span> 指定为 b、o、x、X 等输出格式时，自动添加 <span class="string">&#x27;0b&#x27;</span>、<span class="string">&#x27;0o&#x27;</span>、<span class="string">&#x27;0x&#x27;</span> 等前缀</span><br><span class="line">    - 对于 <span class="built_in">float</span> 和 <span class="built_in">complex</span>，强制添加小数点</span><br><span class="line"></span><br><span class="line">  * width</span><br><span class="line">    - 指定最小宽度</span><br><span class="line"></span><br><span class="line">  * grouping_option</span><br><span class="line">    - 指定分组选项</span><br><span class="line">    - ,     对于输出类型 <span class="string">&#x27;f&#x27;</span> 和 <span class="string">&#x27;d&#x27;</span> 使用 <span class="string">&#x27;,&#x27;</span> 作为整数部分的千分位分隔符</span><br><span class="line">    - _     对于输出类型 <span class="string">&#x27;f&#x27;</span> 和 <span class="string">&#x27;d&#x27;</span> 使用 <span class="string">&#x27;_&#x27;</span> 作为整数部分的千分位分隔符，对于输出类型 <span class="string">&#x27;b&#x27;</span>、<span class="string">&#x27;o&#x27;</span>、<span class="string">&#x27;x&#x27;</span>、<span class="string">&#x27;X&#x27;</span> 则是每 <span class="number">4</span> 位数字分隔一次</span><br><span class="line"></span><br><span class="line">  * precision</span><br><span class="line">    - 指定精度</span><br><span class="line"></span><br><span class="line">  * <span class="built_in">type</span></span><br><span class="line">    - 指定输出格式</span><br><span class="line">    - d       十进制数</span><br><span class="line">    - b       二进制数</span><br><span class="line">    - o       八进制数</span><br><span class="line">    - x       十六进制数，采用 lowercase</span><br><span class="line">    - X       十六进制数，采用 uppercase</span><br><span class="line">    - f       定点数 fixed-point</span><br><span class="line">    - F       定点数 fixed-point uppercase</span><br><span class="line">    - e       科学计数法 lowercase</span><br><span class="line">    - E       科学计数法 uppercase</span><br><span class="line">    - c       字符，将 integer 转换为对应的 unicode 字符</span><br><span class="line">    - g       General <span class="built_in">format</span></span><br><span class="line">    - G       General <span class="built_in">format</span></span><br><span class="line">    - n       nmber</span><br><span class="line">    - s       字符串格式</span><br><span class="line">    - %       百分比</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>格式化字符串 f-string</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 格式化字符串 f-string，是从 Python <span class="number">3.6</span> 引入的一种字符串格式化方式</span><br><span class="line">  - 主要作用为，在字符串中直接嵌入变量或表达式的值，自动替换成运行时的结果。换句话说，可以直接在字符串中写变量名或表达式，Python 会自动把值插进去，不需要手动拼接字符串，也不需要调用 <span class="built_in">format</span>()</span><br><span class="line">  - 格式上使用前缀 <span class="string">&#x27;f&#x27;</span> 或 <span class="string">&#x27;F&#x27;</span> 进行标记，支持单引号 <span class="string">&#x27;...&#x27;</span>、双引号 <span class="string">&quot;...&quot;</span>、三个单引号 <span class="string">&#x27;&#x27;&#x27;...&#x27;&#x27;&#x27;</span>、三个双引号 <span class="string">&quot;&quot;&quot;...&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  <span class="string">f&#x27;literal<span class="subst">&#123;expression&#125;</span>literal&#x27;</span></span><br><span class="line"></span><br><span class="line">* Format Specification Mini-Language</span><br><span class="line">  - f-string 支持在 &#123;&#125; 中使用格式说明微语言 Format Specification Mini-Language，以实现对格式的额外控制</span><br><span class="line">  - f-string 的完整格式应当为：<span class="string">f&#x27;<span class="subst">&#123;expression!conversion:format_spec&#125;</span>&#x27;</span></span><br><span class="line">  - 详细见格式说明微语言部分</span><br><span class="line">* 格式</span><br><span class="line">  <span class="string">f&#x27;<span class="subst">&#123;expression&#125;</span>&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 简单用法</span></span><br><span class="line">a=<span class="string">&quot;He said Hi&quot;</span></span><br><span class="line">b=<span class="string">f&quot;what did he said? <span class="subst">&#123;a&#125;</span>&quot;</span>    <span class="comment"># what did he said? He said Hi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 格式控制范例</span></span><br><span class="line">num = <span class="number">255</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;num:#b&#125;</span>&quot;</span>)  <span class="comment"># 进制转换，二进制，输出为：0b11111111</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;num:<span class="number">5</span>&#125;</span>&quot;</span>)   <span class="comment"># 右对齐，宽度5，   输出为：&#x27;  255&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p><strong>模板字符串 t-string</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - Python314 引入的新特性</span><br><span class="line">  - 模板字符串 t-string 在绝大多数方面，与格式化字符串 f-string 相同，区别只在于，f-string 在解析后得到的是一个 <span class="built_in">str</span> 对象，而 t-string 在解析后得到的是一个 string.templatelib.Template 对象</span><br><span class="line">  - 详细内容，见 string 模块</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p><strong>format() 函数</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p><strong>str.format()、str.format_map()</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>格式化字符串</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - formated string</span><br><span class="line">  - 字符串字面量的一种</span><br><span class="line">  - 通过在字面量中添加替换字段 replacement_field，来指定替换的内容</span><br><span class="line">  - 替换字段中包含两部分内容</span><br><span class="line">    - 待替换的内容</span><br><span class="line">    - 替换的格式 format_spec</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 格式化字符串格式</span><br><span class="line">  formated_string ==: f&#x27;&lt;char+&gt;|&lt;replacement_field+&gt;&#x27;</span><br><span class="line"></span><br><span class="line">* 格式说明</span><br><span class="line">  - 使用 &#x27;&#123;&#123;&#x27; 和 &#x27;&#125;&#125;&#x27; 来表示 &#x27;&#123;&#x27; 和 &#x27;&#125;&#x27;</span><br><span class="line">  - 前缀使用 f 或 F</span><br><span class="line">    - 可以与 r 或 R 前缀一起使用</span><br><span class="line">    - 可以与 &#x27;&#x27;&#x27; 或 &quot;&quot;&quot; 一起使用</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">* 替换字段格式</span><br><span class="line">  replacement_field ==: &#123;f_expression[=][conversion][format_spec]&#125;</span><br><span class="line"></span><br><span class="line">* &#123; &#125;</span><br><span class="line">  - replacement_field 的标识</span><br><span class="line"></span><br><span class="line">* f_expression</span><br><span class="line">  - 指定待替换的内容</span><br><span class="line"></span><br><span class="line">* &#x27;=&#x27;</span><br><span class="line">  - 在替换时，同时给出 expression 的字面量</span><br><span class="line">  - 替换后的内容为 expression=value</span><br><span class="line"></span><br><span class="line">* conversion</span><br><span class="line">  - 指定替换时使用的输出函数</span><br><span class="line">  - !s 表示使用 str()</span><br><span class="line">  - !r 表示使用 repr()</span><br><span class="line">  - !a 表示使用 ascii()</span><br><span class="line"></span><br><span class="line">* format_spec</span><br><span class="line">  - 指定 replacement_field 的输出格式</span><br><span class="line">  - 其中可以嵌套其他 replacement_field，但只能嵌套一层，用来表示 format_spec 中的值</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line">table = &#123;<span class="string">&#x27;Sjoerd&#x27;</span>: <span class="number">4127</span>, <span class="string">&#x27;Jack&#x27;</span>: <span class="number">40918</span>, <span class="string">&#x27;Dcab&#x27;</span>: <span class="number">7678</span>&#125;</span><br><span class="line"><span class="keyword">for</span> name, phone <span class="keyword">in</span> table.items():</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">f&#x27;| <span class="subst">&#123;name:&lt;<span class="number">10</span>&#125;</span> ==&gt; <span class="subst">&#123;phone:&gt;10d&#125;</span> |&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出</span></span><br><span class="line">| Sjoerd     ==&gt;       <span class="number">4127</span> |</span><br><span class="line">| Jack       ==&gt;      <span class="number">40918</span> |</span><br><span class="line">| Dcab       ==&gt;       <span class="number">7678</span> |</span><br></pre></td></tr></table></figure></li>
<li><p>format() 函数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 给定一个字符串和格式控制标记，返回字符串经过格式化后的结果</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  format(str[, format_spec])</span><br><span class="line"></span><br><span class="line">* 参数 format_spec</span><br><span class="line">  - 指定格式控制标记</span><br><span class="line">  - 不需要加 leading 的 &#x27;:&#x27;</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line">a=<span class="string">&#x27;1234567890&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;|&#x27;</span>,<span class="built_in">format</span>(a,<span class="string">&#x27;^20&#x27;</span>),<span class="string">&#x27;|&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># output</span></span><br><span class="line">|      <span class="number">1234567890</span>      |</span><br></pre></td></tr></table></figure>
</li>
<li><p>str.format()</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  str.format(*args, **kwargs)</span><br><span class="line"></span><br><span class="line">* 介绍</span><br><span class="line">  - 返回 str 进行了字符串格式化后的结果</span><br><span class="line">  - str 中需要包含使用 &#x27;&#123; &#125;&#x27; 标记来添加 replacement field</span><br><span class="line">  - 参数 args、kwargs 用来指定替换的值</span><br><span class="line"></span><br><span class="line">* 与格式化字符串的区别</span><br><span class="line">  - 格式化字符串使用 expression 来指定替换的值</span><br><span class="line">  - str.format() 通过参数 args、kwargs 来指定替换的值</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">* 替换字段格式</span><br><span class="line">  replacement_field ==: &#123; [field_name][conversion][format_spec] &#125;</span><br><span class="line"></span><br><span class="line">* field_name</span><br><span class="line">  - 指定替换的内容，对应 str.format() 中的参数</span><br><span class="line">  - 数字</span><br><span class="line">    - 对应第 N 个位置参数</span><br><span class="line">    - 位置参数的索引从 0 开始</span><br><span class="line">  - name</span><br><span class="line">    - 对应相应的 keyword 参数</span><br><span class="line">  - 省略</span><br><span class="line">    - 按照 replacement field 的次序依次对应相应的位置参数</span><br><span class="line">  - 其他</span><br><span class="line">    - 如果某个参数具有某个属性，可以通过 .attribute 的方式表示仅使用某个参数的某个属性</span><br><span class="line">    - 如果某个参数是序列或字典，可以使用 s[index] 的方式指向序列中的指定元素</span><br><span class="line"></span><br><span class="line">* conversion</span><br><span class="line">    - 指定使用的格式化函数，同格式化字符串</span><br><span class="line"></span><br><span class="line">* format_spec</span><br><span class="line">    - 指定格式控制，同格式化字符串</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&#x27;We are the &#123;&#125; who say &quot;&#123;&#125;!&quot;&#x27;</span>.<span class="built_in">format</span>(<span class="string">&#x27;knights&#x27;</span>, <span class="string">&#x27;Ni&#x27;</span>))</span><br><span class="line">We are the knights who say <span class="string">&quot;Ni!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&#x27;&#123;0&#125; and &#123;1&#125; and &#123;meat&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="string">&#x27;spam&#x27;</span>, <span class="string">&#x27;eggs&#x27;</span>, meat=<span class="string">&#x27;chicken&#x27;</span>))</span><br><span class="line">spam <span class="keyword">and</span> eggs <span class="keyword">and</span> chicken</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&#x27;&#123;1&#125; and &#123;meat&#125; and &#123;0&#125;&#x27;</span>.<span class="built_in">format</span>(<span class="string">&#x27;spam&#x27;</span>, <span class="string">&#x27;eggs&#x27;</span>, meat=<span class="string">&#x27;chicken&#x27;</span>))</span><br><span class="line">eggs <span class="keyword">and</span> chicken <span class="keyword">and</span> spam</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>table = &#123;<span class="string">&#x27;Sjoerd&#x27;</span>: <span class="number">4127</span>, <span class="string">&#x27;Jack&#x27;</span>: <span class="number">4098</span>, <span class="string">&#x27;Dcab&#x27;</span>: <span class="number">8637678</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&#x27;Jack: &#123;0[Jack]:d&#125;; Sjoerd: &#123;0[Sjoerd]:d&#125;; Dcab: &#123;0[Dcab]:d&#125;&#x27;</span>.<span class="built_in">format</span>(table))</span><br><span class="line">Jack: <span class="number">4098</span>; Sjoerd: <span class="number">4127</span>; Dcab: <span class="number">8637678</span></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：字符串指定颜色-介绍"><a href="#知识点：字符串指定颜色-介绍" class="headerlink" title="知识点：字符串指定颜色-介绍"></a>知识点：字符串指定颜色-介绍</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* python 支持采用 VT100-style escape sequences 来添加 terminal 控制，继而控制字符串颜色</span><br><span class="line"></span><br><span class="line">* 控制方式为 Switch on</span><br><span class="line">  - 设置某种输出方式后，其后的所有输入寸采用此方式</span><br><span class="line">  - 需要再次设置为默认</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\033[1;36m床前明月光，&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;疑是地上霜。&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\033[4;5;35;43m举头望明月，&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;低头思故乡。&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\033[m&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>格式</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  \033[Ps;Ps;PsmXXXX</span><br><span class="line"></span><br><span class="line">* 说明</span><br><span class="line">  - \033  表示一个 escape 字符 ESC</span><br><span class="line">  - [     格式标记字符</span><br><span class="line">  - Ps    格式控制字符，可以有多个</span><br><span class="line">  - ;     间隔多个 Ps</span><br><span class="line">  - m     Vt-100 控制指令，表示 Select Graphic Rendition</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">* Ps</span><br><span class="line">  - SGR 指令，Select Graphic Rendition，用来设置终端的显示方式</span><br><span class="line">    - 省略表示使用默认方式</span><br><span class="line">    - 后面的 Ps 的优先级高于前面的 Ps</span><br><span class="line">  - 控制指令采用十进制数的形式</span><br><span class="line">  - 网址</span><br><span class="line">    SGR 指令 https://vt100.net/docs/vt510-rm/SGR.html</span><br><span class="line">    颜色 http://strasis.com/documentation/limelight-xe/reference/ecma-48-sgr-codes</span><br><span class="line"></span><br><span class="line">* 设置显示方式</span><br><span class="line">    - 0    默认值 All attributes off</span><br><span class="line">    - 1    加粗 Bold</span><br><span class="line">    - 4    下划线 Underline</span><br><span class="line">    - 5    闪烁 Blinking</span><br><span class="line">    - 7    前景色背景色对调 Negative image</span><br><span class="line">    - 8    不可见 Invisible image</span><br><span class="line"></span><br><span class="line">* 设置前景色 foreground colors</span><br><span class="line">    - 30  黑色 black      0,0,0</span><br><span class="line">    - 31  红色 red        128,0,0</span><br><span class="line">    - 32  绿色 green      0,128,0</span><br><span class="line">    - 33  黄色 yellow     128,128,0</span><br><span class="line">    - 34  蓝色 blue       0,0,128</span><br><span class="line">    - 35  紫红色 magenta  128,0,128</span><br><span class="line">    - 36  青色 cyan       0,128,128</span><br><span class="line">    - 37  白色 write      192,192,192</span><br><span class="line">    - 39  终端默认颜色</span><br><span class="line">    - 90 to 97              16-color mode 前景色</span><br><span class="line">      - 90  Bright Black (Gray) 128,128,128</span><br><span class="line">      - 91  Bright Red      255,0,0</span><br><span class="line">      - 92  Bright Green    0,255,0</span><br><span class="line">      - 93  Bright Yellow   255,255,0</span><br><span class="line">      - 94  Bright Blue     0,0,255</span><br><span class="line">      - 95  Bright Magenta  255,0,255</span><br><span class="line">      - 96  Bright Cyan     0,255,255</span><br><span class="line">      - 97  Bright White    255,255,255</span><br><span class="line">    - 38;5;0 to 38;5;255    8bit 前景色，对应 88-color 和 256-color modes</span><br><span class="line"></span><br><span class="line">* 设置背景色 background colors</span><br><span class="line">    - 40  黑色</span><br><span class="line">    - 41  红色</span><br><span class="line">    - 42  绿色</span><br><span class="line">    - 43  黄色</span><br><span class="line">    - 44  蓝色</span><br><span class="line">    - 45  紫红色</span><br><span class="line">    - 46  青色</span><br><span class="line">    - 47  白色</span><br><span class="line">    - 49  终端默认颜色</span><br><span class="line">    - 100 to 107          16-color mode 背景色</span><br><span class="line">      - 100  Bright Black (Gray)</span><br><span class="line">      - 101  Bright Red</span><br><span class="line">      - 102  Bright Green</span><br><span class="line">      - 103  Bright Yellow</span><br><span class="line">      - 104  Bright Blue</span><br><span class="line">      - 105  Bright Magenta</span><br><span class="line">      - 106  Bright Cyan</span><br><span class="line">      - 107  Bright White</span><br><span class="line">    - 48;5;0 to 48;5;255  8bit 背景色，对应 88-color 和 256-color modes 背景色</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：字符串指定颜色-16-色方式"><a href="#知识点：字符串指定颜色-16-色方式" class="headerlink" title="知识点：字符串指定颜色-16 色方式"></a>知识点：字符串指定颜色-16 色方式</h3><hr>
<h3 id="知识点：字符串指定颜色-256-色方式"><a href="#知识点：字符串指定颜色-256-色方式" class="headerlink" title="知识点：字符串指定颜色-256 色方式"></a>知识点：字符串指定颜色-256 色方式</h3><hr>
<h3 id="知识点：字符串指定颜色-RGB-方式"><a href="#知识点：字符串指定颜色-RGB-方式" class="headerlink" title="知识点：字符串指定颜色-RGB 方式"></a>知识点：字符串指定颜色-RGB 方式</h3><hr>
<h2 id="2-5-dict-型"><a href="#2-5-dict-型" class="headerlink" title="2.5 dict 型"></a>2.5 dict 型</h2><hr>
<h3 id="知识点：字典类型"><a href="#知识点：字典类型" class="headerlink" title="知识点：字典类型"></a>知识点：字典类型</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* 字典 dict</span><br><span class="line">  - 可变键值对 key: value pairs 集合</span><br><span class="line">  - 对应了其他编程语言中的 associative memories 或 associative arrays 的概念</span><br><span class="line">  - 3.7 开始为有序，会保存 insertion order</span><br><span class="line">    - 改变 item 的 value 不会影响其 insertion order</span><br><span class="line">    - 删除 item 后再重新添加，则 item 会被放到末尾</span><br><span class="line">  - key</span><br><span class="line">    - 必须是 immutable</span><br><span class="line">    - 在字典中 key 不可重复</span><br><span class="line">    - 如果是 tuple，则其中的元素也必须是 immutable</span><br><span class="line">  - value</span><br><span class="line">    - 无限制</span><br><span class="line"></span><br><span class="line">* 字典字面量</span><br><span class="line">  - 使用大括号 &#x27;&#123; &#125;&#x27; Curly braces，逗号分隔</span><br><span class="line">  - 键值对采用 key: value 的格式</span><br><span class="line">  - &#123;&#125; 表示空字典</span><br><span class="line">  - 可以采用 &#123; **expr &#125; 的形式，对操作数进行拆包，操作数必须是一个 mapping 类型</span><br></pre></td></tr></table></figure></li>
<li><strong>constructor</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  class dict(**kwargs)</span><br><span class="line">  class dict(mapping, **kwargs)</span><br><span class="line">  class dict(iterable, **kwargs)</span><br><span class="line"></span><br><span class="line">* 参数 kwargs</span><br><span class="line">  - 格式，key=value</span><br><span class="line">  - 可以有重复的键值对，python 会自动对键值对进行去重</span><br><span class="line">  - 如果有多个相同的 key，对应不同的 value，则采用最后一次出现的值</span><br><span class="line"></span><br><span class="line">* 参数 iterable</span><br><span class="line">  - iterable 的每个成员都应是恰好包含两个元素的容器数据</span><br><span class="line">  - 每个成员的第一个元素对应 key，第二个元素对应 value</span><br><span class="line">  - 如果一个 key 出现多次，则采用最后一次出现的值</span><br><span class="line">  - 例如 dict([(1,&#x27;a&#x27;),(2,&#x27;b&#x27;),(3,&#x27;c&#x27;)])</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：字典视图类型"><a href="#知识点：字典视图类型" class="headerlink" title="知识点：字典视图类型"></a>知识点：字典视图类型</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* 字典视图 dictview</span><br><span class="line">  - 字典视图是 view objects 的一个子类</span><br><span class="line">  - 字典视图是一个针对 dict 的动态视图，当 dict 发生变化时，dictview 会反映此变化</span><br><span class="line">  - 字典视图的顺序按照 dict 的 insertion order</span><br><span class="line">  - 字典视图支持迭代</span><br><span class="line">    - 迭代的顺序按照 FIFO</span><br><span class="line">    - 当 dictview 在进行迭代时，对 dict 进行修改会抛出 RuntimeError</span><br><span class="line">  - dictview 的一个重要特性</span><br><span class="line">    - 同时对 dict.kyes() 和 dict.values() 进行迭代，必然是同步的，无论对 dict 做任何修改</span><br><span class="line"></span><br><span class="line">* dict.keys(), dict.values(), dict.items() 的返回值为 dictview</span><br><span class="line">  - dict.iterms() 的表现形式为 k/v 元素的 tuple</span><br></pre></td></tr></table></figure></li>
<li><strong>字典视图操作</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* 支持的操作</span><br><span class="line">  - len(dictview)</span><br><span class="line">  - iter(dictview)</span><br><span class="line">  - x in dictview</span><br><span class="line">  - reversed(dictview)</span><br><span class="line">    - 返回一个 iterator</span><br><span class="line">    - 排序按照 insertion order</span><br><span class="line">  - dictview.mapping</span><br><span class="line">    - 返回一个 types.MappingProxyType 对象</span><br><span class="line">    - 3.10 新特性</span><br><span class="line"></span><br><span class="line">* 比较操作</span><br><span class="line">  - 仅当 dictview 是 set-like 时，才能进行比较</span><br><span class="line">    - 所谓 set-like，即所有的元素均是 hashable 的</span><br><span class="line">    - dict.keys() 必然是 set-like 的</span><br><span class="line">    - dict.values() 一般不是 set-like 的</span><br><span class="line">    - dict.items() 仅当 dict.values() 是 set-like 时才是 set-like 的</span><br><span class="line">  - dictview 支持 collections.abc.Set 定义的所有操作，包括比较、集合操作</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：字典操作"><a href="#知识点：字典操作" class="headerlink" title="知识点：字典操作"></a>知识点：字典操作</h3><ol>
<li><strong>获取值</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* dict[key]</span><br><span class="line">  - 获取某个键值对的 value</span><br><span class="line">  - 如果 key 不存在 则会抛出 KeyError</span><br><span class="line">  - __missing__()</span><br><span class="line">    - subclass 中可以定义 __missing__() 可以对 key 不存在的行为进行控制</span><br><span class="line">    - 固定格式，def __missing__(self, key)</span><br><span class="line">    - 这是 __missing__() 唯一会被调用的地方</span><br><span class="line"></span><br><span class="line">* dict.get(key[, default=None])</span><br><span class="line">  - 获取 key 对于的 value，若 key 不存在则返回 default</span><br><span class="line">  - 与 indexing 的区别，dict.get() 更安全，若 key 不存在不会抛出异常，而是返回 None</span><br></pre></td></tr></table></figure></li>
<li><strong>修改值</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">* dict[key]=value</span><br><span class="line">  - 修改某个键值对的 value</span><br><span class="line"></span><br><span class="line">* del dict[key]</span><br><span class="line">  - 删除某个键值对</span><br><span class="line"></span><br><span class="line">* dict.setdefault(key, default=None)</span><br><span class="line">  - 如果 key 存在，则改变 value</span><br><span class="line">  - 如果 key 不存在，则新增一个成员，value 为 default，并且返回 default</span><br><span class="line"></span><br><span class="line">* dict.update(other)</span><br><span class="line">  - 更新字典</span><br><span class="line">  - 如果 key 缺失则添加</span><br><span class="line">  - 如果 key 相同则覆盖</span><br><span class="line">  - 参数 other</span><br><span class="line">    - 可以是另一个字典</span><br><span class="line">    - 可以是一个符合字典转化格式的 iterable</span><br><span class="line">    - 可以是 keyword 参数方式的 mapping</span><br><span class="line"></span><br><span class="line">* a | b</span><br><span class="line">* a |= b</span><br><span class="line">  - merge，将 b merge 到 a 中</span><br><span class="line">    - a、b 均为字典</span><br><span class="line">    - 若 a 中没有 b 的 key，则 insert</span><br><span class="line">    - 若 a 中有 b 的 key，则 update</span><br><span class="line">  - &#x27;|&#x27; 操作返回一个新字典</span><br><span class="line">  - &#x27;|=&#x27; 将新字典赋值给 a</span><br><span class="line">    - b 可以是 mapping 或包含k/v 对的 iterable</span><br><span class="line">  - 3.9 新特性</span><br></pre></td></tr></table></figure></li>
<li><strong>冒泡</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* dict.pop(key[, default=None])</span><br><span class="line">  - 字典冒泡，若 key 不存在则返回 default 值</span><br><span class="line"></span><br><span class="line">* dict.popitem()</span><br><span class="line">  - 按照 LIFO 的方式 pop 一个 item，返回值的形式为一个二元组</span><br></pre></td></tr></table></figure></li>
<li><strong>字典比较</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">* 字典与字典比较</span><br><span class="line">  - dict 只支持 == 和 != 比较</span><br><span class="line">  - 只有两个 dict 的 k/v 对全部相同，才认为相等</span><br></pre></td></tr></table></figure></li>
<li><strong>迭代</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">* iter(dict)</span><br><span class="line">  - 直接对字典进行迭代，迭代器返回的值为 key</span><br><span class="line">  - 相当于 iter(dict.keys())</span><br><span class="line"></span><br><span class="line">* dict.keys()</span><br><span class="line">  - 返回字典的 keys 组成的 dictview</span><br><span class="line"></span><br><span class="line">* dict.values()</span><br><span class="line">  - 返回字典的 values 组成的 dictview</span><br><span class="line"></span><br><span class="line">* dict.items()</span><br><span class="line">  - 返回字典的 key、value 组成的二元组组成的 dictview</span><br><span class="line"></span><br><span class="line">* key in dict</span><br><span class="line">* key not in dict</span><br><span class="line">  - 字典的成员检测，针对 key 进行</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line">d=&#123; <span class="number">1</span>:<span class="string">&#x27;apple&#x27;</span>, <span class="number">2</span>:<span class="string">&#x27;banana&#x27;</span>, <span class="number">3</span>:<span class="string">&#x27;barry&#x27;</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> d.keys():</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出为</span></span><br><span class="line"><span class="comment"># 1</span></span><br><span class="line"><span class="comment"># 2</span></span><br><span class="line"><span class="comment"># 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> d.values():</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出为</span></span><br><span class="line"><span class="comment"># apple</span></span><br><span class="line"><span class="comment"># banana</span></span><br><span class="line"><span class="comment"># barry</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> d.items():</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出为</span></span><br><span class="line"><span class="comment"># (1, &#x27;apple&#x27;)</span></span><br><span class="line"><span class="comment"># (2, &#x27;banana&#x27;)</span></span><br><span class="line"><span class="comment"># (3, &#x27;barry&#x27;)</span></span><br></pre></td></tr></table></figure></li>
<li><strong>类序列操作</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">* len(d)</span><br><span class="line">  - 返回字典中元素的个数</span><br><span class="line"></span><br><span class="line">* list(dict)</span><br><span class="line">  - 返回一个由字典的 key 组成的列表</span><br><span class="line"></span><br><span class="line">* sort(dict)</span><br><span class="line">  - 返回一个由字典的 key 经过排序后的列表</span><br><span class="line"></span><br><span class="line">* reversed(dict)</span><br><span class="line">  - 返回一个 dict_reverseiterator，对其迭代会逆序返回key</span><br><span class="line"></span><br><span class="line">* dict.clear()</span><br><span class="line">  - 清空 dict 中的元素</span><br><span class="line"></span><br><span class="line">* dict.copy()</span><br><span class="line">  - 返回一个 dict 的 shallow copy</span><br></pre></td></tr></table></figure></li>
<li><strong>dict.fromkeys()</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* classmethod dict.fromkeys(iterable, value=None)</span><br><span class="line">  - 创建一个新字典</span><br><span class="line">  - iterable 用来指定 key</span><br><span class="line">  - 字典中所有成员的值都是 value</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="2-6-set-型"><a href="#2-6-set-型" class="headerlink" title="2.6 set 型"></a>2.6 set 型</h2><hr>
<h3 id="知识点：可哈希对象"><a href="#知识点：可哈希对象" class="headerlink" title="知识点：可哈希对象"></a>知识点：可哈希对象</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">* 可哈希对象 hashable</span><br><span class="line">  - 在其生命期中不会改变值的对象</span><br><span class="line">  - 需要 __hash__() 属性</span><br><span class="line">  - 可哈希对象支持比较</span><br><span class="line">  - 两个可哈希对象相等，代表两个对象具有相同的 value</span><br><span class="line">  - 可哈希对象通常用作 dict 中的 key，或 set 中的 member</span><br><span class="line">    - dict 和 set 内部也是使用 hash value 来进行比较</span><br><span class="line"></span><br><span class="line">* 种类</span><br><span class="line">  - python 大多数不可变对象都是可哈希对象</span><br><span class="line">  - 可变容器无法作为可哈希对象</span><br><span class="line">  - 不可变容器，必须其所有成员都是可哈希对象，才能成为可哈希对象</span><br><span class="line">  - 用户定义的对象默认都是可哈希对象，其 hash value 就是其 id 值</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：hash-函数"><a href="#知识点：hash-函数" class="headerlink" title="知识点：hash() 函数"></a>知识点：hash() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  hash(hashable)</span><br><span class="line"></span><br><span class="line">* 介绍</span><br><span class="line">  - 返回对象的 hash value</span><br><span class="line">  - 只能对 hashable 进行操作</span><br><span class="line">  - 调用 __hash__()</span><br><span class="line">  - hash value 的形式为 integer</span><br><span class="line"></span><br><span class="line">*其他</span><br><span class="line">  - 对于数值型数据，如果值相等，则即使类型不同，其 hash value 也相等，如 1 和 1.0</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：集合类型"><a href="#知识点：集合类型" class="headerlink" title="知识点：集合类型"></a>知识点：集合类型</h3><ol>
<li><strong>集合 set</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 无序 unordered、可变 mutable、无重复数据 no duplicate elements</span><br><span class="line">  - 集合中的成员必须是 hashable</span><br><span class="line">  - 支持各种数学上的集合运算</span><br><span class="line">  - 不支持 indexing、slicing 等序列操作</span><br><span class="line"></span><br><span class="line">* 应用场景</span><br><span class="line">  - 成员检测 membership testing</span><br><span class="line">  - 元素去重 eliminating duplicate entries</span><br><span class="line"></span><br><span class="line">* 字面量</span><br><span class="line">  - 使用大括号 &#x27;&#123; &#125;&#x27;，逗号分隔</span><br><span class="line">  - 空集合只能使用 set() 创建</span><br><span class="line"></span><br><span class="line">* frozenset</span><br><span class="line">  - immutable hashable 集合</span><br></pre></td></tr></table></figure></li>
<li><strong>constructor</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  class set(iterable)</span><br><span class="line">  class frozenset([iterable])</span><br><span class="line"></span><br><span class="line">* 参数 iterable</span><br><span class="line">  - iterable 中所有的成员必须是 hashable</span><br><span class="line">  - 省略 iterable 则返回 empty set</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：集合操作"><a href="#知识点：集合操作" class="headerlink" title="知识点：集合操作"></a>知识点：集合操作</h3><ol>
<li><strong>基本操作</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* len(set)</span><br><span class="line"></span><br><span class="line">* x in set</span><br><span class="line">* x not in set</span><br><span class="line"></span><br><span class="line">* set.copy()</span><br><span class="line">  - shallow copy</span><br></pre></td></tr></table></figure></li>
<li><strong>集合比较</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">* set 和 frozenset 可以相互进行比较运算</span><br><span class="line"></span><br><span class="line">* set.isdisjoint(other_set)</span><br><span class="line">  - 检查 set 与 other_set 是否不相交 disjoint</span><br><span class="line">  - 即两个集合没有公共元素</span><br><span class="line">  - 即两个集合的交集为空集</span><br><span class="line"></span><br><span class="line">* set == other_set</span><br><span class="line">* set != other_set</span><br><span class="line">  - set 和 other_set 是否互为等集 equality</span><br><span class="line"></span><br><span class="line">* set &lt;= other_set</span><br><span class="line">* set.issubset(iterable)</span><br><span class="line">  - 检查 set 是否是 other_set 的子集 subset</span><br><span class="line"></span><br><span class="line">* set &lt; other_set</span><br><span class="line">  - 检查 set 是否是 other_set 的真子集 proper subset</span><br><span class="line"></span><br><span class="line">* set &gt;= other</span><br><span class="line">* set.issuperset(iterable)</span><br><span class="line">  - 检查 set 是否是 other_set 的超集，即 other_set 是 set 的子集</span><br><span class="line"></span><br><span class="line">* set &gt; other</span><br><span class="line">  - 检查 set 是否是 other_set 的真超集，即 other_set 是 set 的真子集</span><br></pre></td></tr></table></figure></li>
<li><strong>集合运算</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* set 和 frozenset 可以相互进行集合运算</span><br><span class="line">  - 返回值的类型取决于左操作数 left operand</span><br><span class="line"></span><br><span class="line">* set | other_set | ...</span><br><span class="line">* set.union(*iterable)</span><br><span class="line">  - 返回并集</span><br><span class="line"></span><br><span class="line">* set &amp; other_set &amp; ...</span><br><span class="line">* set.intersection(*iterable)</span><br><span class="line">  - 返回交集</span><br><span class="line"></span><br><span class="line">* set - other_set - ...</span><br><span class="line">* set.difference(*iterable)</span><br><span class="line">  - 返回差集</span><br><span class="line"></span><br><span class="line">* set ^ other_set ^ ...</span><br><span class="line">* set.symmetric_difference(*iterable)</span><br><span class="line">  - 返回余集</span><br></pre></td></tr></table></figure></li>
<li><strong>修改集合</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">* 只有 set 类型支持集合修改，frozenset 不支持集合修改</span><br><span class="line"></span><br><span class="line">* set |= other_set | ...</span><br><span class="line">* set.update(*iterable)</span><br><span class="line">  - 向 set 中添加 other_set/iterable 中的元素</span><br><span class="line"></span><br><span class="line">* set &amp;= other_set &amp; ...</span><br><span class="line">* intersection_update(*iterable)</span><br><span class="line">  - 从 set 中去除不属于 other_set/iterable 的元素</span><br><span class="line"></span><br><span class="line">* set -= other_set | ...</span><br><span class="line">* set.difference_update(*iterable)</span><br><span class="line">  - 从 set 中去除属于 other_set/iterable 的元素</span><br><span class="line"></span><br><span class="line">* set ^= other_set</span><br><span class="line">* set.symmetric_difference_update(iterable)</span><br><span class="line">  - 从 set 中去除公共元素，同时将 other_set 中的非公共元素添加到 set 中</span><br><span class="line"></span><br><span class="line">* set.add(element)</span><br><span class="line">  - 向 set 中添加元素</span><br><span class="line"></span><br><span class="line">* set.remove(element)</span><br><span class="line">  - 从 set 中删除元素</span><br><span class="line">  - 如果集合中没有元素 element，则抛出 KeyError</span><br><span class="line"></span><br><span class="line">* set.discard(element)</span><br><span class="line">  - 从 set 中删除元素</span><br><span class="line">  - 如果集合中没有元素 element，则什么都不做</span><br><span class="line"></span><br><span class="line">* set.pop()</span><br><span class="line">  - 集合冒泡</span><br><span class="line">  - 由于集合是无序的，冒泡的元素也是随机的</span><br><span class="line"></span><br><span class="line">* set.clear()</span><br><span class="line">  - 清空集合中的元素</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h1 id="Chapter03-内置函数"><a href="#Chapter03-内置函数" class="headerlink" title="Chapter03 内置函数"></a>Chapter03 内置函数</h1><hr>
<h2 id="3-1-内置函数介绍"><a href="#3-1-内置函数介绍" class="headerlink" title="3.1 内置函数介绍"></a>3.1 内置函数介绍</h2><hr>
<h3 id="知识点：内置函数介绍"><a href="#知识点：内置函数介绍" class="headerlink" title="知识点：内置函数介绍"></a>知识点：内置函数介绍</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 内置函数 Built-in Functions，在 Python 解释器启动时自动加载到 builtins 命名空间中、不需要 import 即可直接使用的函数</span><br><span class="line">  - 大部分由 C 实现，直接在 C 层运行，没有 Python 的字节码开销，因此性能极高</span><br><span class="line">  - 负责 Python 最基础的运算能力</span><br><span class="line"></span><br><span class="line">* 魔法方法</span><br><span class="line">  - 大多数内置函数是对数据模型 Data Model 的封装，这些内置函数本身并不做工作，而是调用数据模型协议，亦即调用对象的魔法方法进行工作，这些内置函数可以认为是魔法方法的语法糖</span><br><span class="line">  - 少量内置函数具有自己独立的功能，如 print()、open()</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>分类</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">数学运算函数：</span><br><span class="line">abs()、pow()、round()、divmod()、bin()、oct()、hex() </span><br><span class="line"></span><br><span class="line">类型构造函数：</span><br><span class="line">int()、float()、bool()、complex()、list()、tuple()、range()、dict()、set()、frozenset()、memoryview()、bytes()、bytearray()、object()</span><br><span class="line"></span><br><span class="line">字符串函数：</span><br><span class="line">str()、repr()、ascii()、format()、chr()、ord()</span><br><span class="line"></span><br><span class="line">可迭代对象函数：</span><br><span class="line">len()、sum()、max()、min()、any()、all()、sorted()、slice()、map()、filter()、enumerate()、zip()</span><br><span class="line"></span><br><span class="line">输入输出函数：</span><br><span class="line">print()、input()、open()</span><br><span class="line"></span><br><span class="line">类型检查函数：</span><br><span class="line">id()、type()、callable()、isinstance()、issubclass()</span><br><span class="line"></span><br><span class="line">命名空间函数：</span><br><span class="line">dir()、vars()、globals()、locals()</span><br><span class="line"></span><br><span class="line">反射函数：</span><br><span class="line">super()、getattr()、hasattr()、setattr()、delattr()</span><br><span class="line"></span><br><span class="line">装饰器函数：</span><br><span class="line">staticmethod()、classmethod()、property()</span><br><span class="line"></span><br><span class="line">程序控制函数：</span><br><span class="line">breakpoint()、eval()、exec()</span><br><span class="line"></span><br><span class="line">迭代器函数：</span><br><span class="line">iter()、reversed()、next()</span><br><span class="line"></span><br><span class="line">异步迭代器函数：</span><br><span class="line">anext()、aiter()</span><br><span class="line"></span><br><span class="line">其他函数：</span><br><span class="line">help()、hash()、compile()、import() </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 所有内置函数由 builtins 模块提供</span></span><br><span class="line"><span class="keyword">import</span> builtins</span><br><span class="line"><span class="built_in">dir</span>(builtins)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="3-2-数学函数"><a href="#3-2-数学函数" class="headerlink" title="3.2 数学函数"></a>3.2 数学函数</h2><hr>
<h3 id="知识点：abs-函数"><a href="#知识点：abs-函数" class="headerlink" title="知识点：abs() 函数"></a>知识点：abs() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 对于 int、float，返回其绝对值</span><br><span class="line">  - 对于 complex，返回其模 magnitude</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  abs(number, /)</span><br><span class="line"></span><br><span class="line">* 本质</span><br><span class="line">  - 调用对象的 __abs__() 魔法方法</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 对于 int、float，返回其绝对值</span></span><br><span class="line"><span class="built_in">abs</span>(<span class="number">10</span>)       <span class="comment"># 10</span></span><br><span class="line"><span class="built_in">abs</span>(-<span class="number">10</span>)      <span class="comment"># 10</span></span><br><span class="line"><span class="built_in">abs</span>(<span class="number">3.14</span>)     <span class="comment"># 3.14</span></span><br><span class="line"><span class="built_in">abs</span>(-<span class="number">2.71</span>)    <span class="comment"># 2.71</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对于 complex，返回其模 magnitude</span></span><br><span class="line"><span class="built_in">abs</span>(<span class="number">3</span>+<span class="number">4j</span>)    <span class="comment"># 5.0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 自定义 abs() 函数的行为</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__abs__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span></span><br><span class="line"></span><br><span class="line">x=A()</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">abs</span>(x))   <span class="comment"># 输出 hello</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：pow-函数"><a href="#知识点：pow-函数" class="headerlink" title="知识点：pow() 函数"></a>知识点：pow() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 进行幂运算，求 base 的 exp 次幂，即 base ** exp</span><br><span class="line">  - pow() 函数与 ** 运算符的关系，两个参数时，pow() 函数与 ** 运算符等价</span><br><span class="line">  - 参数必须是 numeric 类型，如 int、float、complex</span><br><span class="line">  - 底层是调用对象的 __pow__() 和 __rpow__() 数字协议方法，即 pow(x,y) 相当于 x.__pow__(y)</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  pow(base, exp, mod=None)</span><br><span class="line"></span><br><span class="line">* mod 参数</span><br><span class="line">  - 有 mod 参数时，则计算的是高效模幂 modular exponentiation，即 (base ** exp ) // mod，但效率高很多</span><br><span class="line">  - 此时 base、exp、mod 必须全都是整数</span><br><span class="line">  - 三参版本是 Python 独立提供的高性能算法，比先求幂再取模快得多，尤其在大整数 big integers 的情况下</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 整数</span></span><br><span class="line"><span class="built_in">pow</span>(<span class="number">2</span>, <span class="number">10</span>)        <span class="comment"># 1024</span></span><br><span class="line"><span class="built_in">pow</span>(<span class="number">2</span>, -<span class="number">1</span>)        <span class="comment"># 0.5</span></span><br><span class="line"><span class="built_in">pow</span>(<span class="number">2</span>, <span class="number">1000</span>, <span class="number">13</span>)  <span class="comment"># 高效模幂运算</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 浮点数</span></span><br><span class="line"><span class="built_in">pow</span>(<span class="number">2.5</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 复数</span></span><br><span class="line"><span class="built_in">pow</span>(<span class="number">1</span>+<span class="number">2j</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 欧拉公式中的上帝公式 e^(iπ) + 1 = 0</span></span><br><span class="line"><span class="keyword">import</span> cmath</span><br><span class="line"><span class="built_in">pow</span>(cmath.e, <span class="number">1j</span> * cmath.pi)   <span class="comment"># -1，会有误差</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：round-函数"><a href="#知识点：round-函数" class="headerlink" title="知识点：round() 函数"></a>知识点：round() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 对 number 进行四舍六入五留双</span><br><span class="line">  - 由于 float 底层采用二进制储存，因此 round() 的结果可能存在不符合人类习惯的地方。对于有精确需求的场景可以使用 decimal.decimal 型</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  round(number, ndigits=None)</span><br><span class="line"></span><br><span class="line">* nigits 参数</span><br><span class="line">  - 用于指定四舍五入运算的精度，默认为 0</span><br><span class="line"></span><br><span class="line">* 魔法方法</span><br><span class="line">  object.__round__(self[, ndigits])</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 整数化</span></span><br><span class="line"><span class="built_in">round</span>(<span class="number">3.6</span>)  <span class="comment"># 4</span></span><br><span class="line"><span class="built_in">round</span>(<span class="number">3.4</span>)  <span class="comment"># 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定小数位数</span></span><br><span class="line"><span class="built_in">round</span>(<span class="number">3.14159</span>, <span class="number">2</span>)  <span class="comment"># 3.14</span></span><br><span class="line"><span class="built_in">round</span>(<span class="number">3.14159</span>, <span class="number">3</span>)  <span class="comment"># 3.142</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 四舍六入五留双，银行家舍入 Banker&#x27;s rounding</span></span><br><span class="line"><span class="comment"># Python 的 round 不使用传统四舍五入，它使用 IEEE754 推荐的舍入到最接近的偶数 round to even</span></span><br><span class="line"><span class="comment"># 因为传统四舍五入在长数据中会产生系统性偏差，银行家舍入可以减少统计偏差，广泛用于金融/科学计算</span></span><br><span class="line"><span class="built_in">round</span>(<span class="number">1.25</span>, <span class="number">1</span>)   <span class="comment"># 1.2  &lt;-- 前一位是 2（偶数）</span></span><br><span class="line"><span class="built_in">round</span>(<span class="number">1.35</span>, <span class="number">1</span>)   <span class="comment"># 1.4  &lt;-- 前一位是 3（奇数）</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 浮点数不精确，round() 处理的是 IEEE754 二进制浮点数，不是十进制</span></span><br><span class="line"><span class="comment"># 2.675 无法二进制精确表示，实际存储为 2.674999...</span></span><br><span class="line"><span class="built_in">round</span>(<span class="number">2.675</span>, <span class="number">2</span>)   <span class="comment"># 2.67</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 正确十进制舍入要用 Decimal</span></span><br><span class="line"><span class="keyword">from</span> decimal <span class="keyword">import</span> Decimal, ROUND_HALF_EVEN</span><br><span class="line">Decimal(<span class="string">&#x27;2.675&#x27;</span>).quantize(Decimal(<span class="string">&#x27;0.01&#x27;</span>), ROUND_HALF_EVEN)   <span class="comment"># Decimal(&#x27;2.68&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：divmod-函数"><a href="#知识点：divmod-函数" class="headerlink" title="知识点：divmod() 函数"></a>知识点：divmod() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 同时计算商 quotient 和余数 remainder，返回一个二元组</span><br><span class="line">  - 参数只能是整数 int 或浮点数 float</span><br><span class="line">  - 若 a 和 b 都是 integer，则结果为 (a // b, a % b)</span><br><span class="line">  - 若 a 或 b 有一个为 float，则结果为 (math.floor(a / b), a % b) 或 (math.floor(a / b)+1 , a % b)</span><br><span class="line">  - Python 使用向下取整除法 floor division，即 2.333 --&gt; 2、-1.6 --&gt; -2</span><br><span class="line">  - 永远满足 a == divmod(a,b)[0] * b + divmod(a,b)[1]</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  divmod(a: int|float, b: int|float, /)</span><br><span class="line"></span><br><span class="line">* 魔法方法</span><br><span class="line">  object.__divmod__(self, other)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 都是整数</span></span><br><span class="line"><span class="built_in">divmod</span>(<span class="number">20</span>, <span class="number">3</span>)       <span class="comment"># (6, 2)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 浮点数情况，向下取整</span></span><br><span class="line"><span class="built_in">divmod</span>(<span class="number">3.3</span>, <span class="number">1.2</span>)    <span class="comment"># (2.0, 0.8999999999999999)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 负数除法，向下取整</span></span><br><span class="line"><span class="built_in">divmod</span>(<span class="number">7</span>, -<span class="number">3</span>)   <span class="comment"># (-3, -2)</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：bin-、oct-、hex-函数"><a href="#知识点：bin-、oct-、hex-函数" class="headerlink" title="知识点：bin()、oct()、hex() 函数"></a>知识点：bin()、oct()、hex() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - bin(x)，将整数转换为二进制字符串，带前缀 0b</span><br><span class="line">  - oct(x)，将整数转换为八进制字符串，带前缀 0o</span><br><span class="line">  - hex(x)，将整数转换为十六进制字符串，带前缀 0x</span><br><span class="line">  - 参数必须是整数，或者是实现了 __index__() 属性的对象</span><br><span class="line">  - 产生的字符串恰好符合 Python 定义的数字字面量格式，并且可以被直接 eval 回整数</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  bin(integer, /)</span><br><span class="line">  oct(integer, /)</span><br><span class="line">  hex(integer, /)</span><br><span class="line"></span><br><span class="line">* 本质，这三个函数实际上是 format() 的语法糖：</span><br><span class="line">  bin(x) == format(x, &#x27;b&#x27;).join((&#x27;0b&#x27;, &#x27;&#x27;))</span><br><span class="line">  oct(x) == format(x, &#x27;o&#x27;).join((&#x27;0o&#x27;, &#x27;&#x27;))</span><br><span class="line">  hex(x) == format(x, &#x27;x&#x27;).join((&#x27;0x&#x27;, &#x27;&#x27;))</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将整数转换为二进制字符串，带前缀 0b</span></span><br><span class="line">a=<span class="built_in">bin</span>(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a))  <span class="comment"># &lt;class &#x27;str&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(a)        <span class="comment"># 0b1010</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 产生的字符串可以被直接 eval 回整数</span></span><br><span class="line">b=<span class="built_in">eval</span>(<span class="built_in">bin</span>(<span class="number">10</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(b))  <span class="comment"># &lt;class &#x27;int&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(b)        <span class="comment"># 10</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="3-3-字符串函数"><a href="#3-3-字符串函数" class="headerlink" title="3.3 字符串函数"></a>3.3 字符串函数</h2><hr>
<h3 id="知识点：str-函数"><a href="#知识点：str-函数" class="headerlink" title="知识点：str() 函数"></a>知识点：str() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>str() 函数</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - <span class="built_in">str</span>() 的结果倾向于 human-readable</span><br><span class="line">  - <span class="built_in">repr</span>() 的结果倾向于 interpreter-readable</span><br><span class="line">  - 实现</span><br><span class="line">    - __str__()</span><br><span class="line">    - <span class="built_in">repr</span>(<span class="built_in">object</span>)</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">str</span>(<span class="params"><span class="built_in">object</span>=<span class="string">&#x27;&#x27;</span></span>)</span></span><br><span class="line"><span class="class">  <span class="title">class</span> <span class="title">str</span>(<span class="params"><span class="built_in">object</span>=<span class="string">b&#x27;&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>, errors=<span class="string">&#x27;strict&#x27;</span></span>)</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">* 参数 <span class="title">object</span></span></span><br><span class="line"><span class="class">  - 如果 <span class="title">object</span> 是 <span class="title">str</span>，则返回 <span class="title">object</span> 自己</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">* 参数 <span class="title">encoding</span>，参数 <span class="title">errors</span></span></span><br><span class="line"><span class="class">  - 如果给出 <span class="title">encoding</span> 或 <span class="title">errors</span> 任意一个参数，则 <span class="title">object</span> 必须是 <span class="title">bytes</span>-<span class="title">like</span> 的数据类型</span></span><br><span class="line"><span class="class">  - 此时相当于 <span class="title">bytes</span>.<span class="title">decode</span>(<span class="params">encoding, errors</span>)</span></span><br><span class="line"><span class="class"></span></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：repr-函数"><a href="#知识点：repr-函数" class="headerlink" title="知识点：repr() 函数"></a>知识点：repr() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：ascii-函数"><a href="#知识点：ascii-函数" class="headerlink" title="知识点：ascii() 函数"></a>知识点：ascii() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：chr-函数"><a href="#知识点：chr-函数" class="headerlink" title="知识点：chr() 函数"></a>知识点：chr() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：ord-函数"><a href="#知识点：ord-函数" class="headerlink" title="知识点：ord() 函数"></a>知识点：ord() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="3-4-可迭代对象函数"><a href="#3-4-可迭代对象函数" class="headerlink" title="3.4 可迭代对象函数"></a>3.4 可迭代对象函数</h2><hr>
<h3 id="知识点：len-函数"><a href="#知识点：len-函数" class="headerlink" title="知识点：len() 函数"></a>知识点：len() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># len() 函数，python 的内置函数，返回对象的长度，即对象中元素的个数</span></span><br><span class="line"><span class="comment"># 返回值为非负整数</span></span><br><span class="line"><span class="comment"># 一些常见容器的含义：</span></span><br><span class="line"><span class="comment">#   list / tuple / set / frozenset：元素个数</span></span><br><span class="line"><span class="comment">#   字符串：字符数</span></span><br><span class="line"><span class="comment">#   bytes：字节数</span></span><br><span class="line"><span class="comment">#   dict：kv 对数量</span></span><br><span class="line"><span class="comment">#   range：范围里整数的个数</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     len(s, /)</span></span><br><span class="line"><span class="built_in">len</span>([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>])         <span class="comment"># 3</span></span><br><span class="line"><span class="built_in">len</span>((<span class="number">1</span>, <span class="number">2</span>))               <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">len</span>(<span class="string">&quot;hello&quot;</span>)              <span class="comment"># 5</span></span><br><span class="line"><span class="built_in">len</span>(<span class="built_in">range</span>(<span class="number">100</span>))           <span class="comment"># 100</span></span><br><span class="line"><span class="built_in">len</span>(&#123;<span class="string">&quot;a&quot;</span>: <span class="number">1</span>, <span class="string">&quot;b&quot;</span>: <span class="number">2</span>&#125;)     <span class="comment"># 2</span></span><br><span class="line"><span class="built_in">len</span>(&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>&#125;)         <span class="comment"># 3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 魔法方法：</span></span><br><span class="line"><span class="comment"># len() 函数会调用对象的 object.__len__() 方法，而不是说遍历一遍对象的元素然后求和</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">len</span>(<span class="string">&quot;姜&quot;</span>)               <span class="comment"># 1，对于字符串统计的是字符数或者说代码点个数，而不是字节数</span></span><br><span class="line"><span class="built_in">len</span>(<span class="string">&quot;hello&quot;</span>)            <span class="comment"># 5</span></span><br><span class="line"><span class="built_in">len</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])          <span class="comment"># 3，list</span></span><br><span class="line"><span class="built_in">len</span>((<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>))       <span class="comment"># 4，tuple</span></span><br><span class="line"><span class="built_in">len</span>(&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;)          <span class="comment"># 3，set</span></span><br><span class="line"><span class="built_in">len</span>(&#123;<span class="string">&quot;a&quot;</span>: <span class="number">1</span>, <span class="string">&quot;b&quot;</span>: <span class="number">2</span>&#125;)   <span class="comment"># 2，dict，字典里 key 的个数</span></span><br><span class="line"><span class="built_in">len</span>(<span class="built_in">range</span>(<span class="number">10</span>))          <span class="comment"># 10，range</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：sum-函数"><a href="#知识点：sum-函数" class="headerlink" title="知识点：sum() 函数"></a>知识点：sum() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 对可迭代对象中的所有元素求和，并加上初始值 start</span><br><span class="line">  - 参数必须是可迭代对象 iterable，如 list、tuple、generator、range</span><br><span class="line">  - 元素可以是 int、float、complex，不能是 str</span><br><span class="line">  - 对浮点数的运算不精确，可以使用 math.fsum() 替代</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  sum(iterable, /, start=0)</span><br><span class="line"></span><br><span class="line">* 参数 start</span><br><span class="line">  - 用于指定求和的初始值</span><br><span class="line">  - 可以通过 start 参数来控制最终结果的数据类型，如 start=0.0</span><br><span class="line"></span><br><span class="line">* 魔法方法</span><br><span class="line">  底层调用加法运算 &#x27;+&#x27;，因此 iterable 中的元素必须支持加法</span><br><span class="line">  object.__add__(self, other)</span><br><span class="line">  object.__radd__(self, other)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 普通求和</span></span><br><span class="line"><span class="built_in">sum</span>([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>])         <span class="comment"># 60</span></span><br><span class="line"><span class="built_in">sum</span>([<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>],<span class="number">0.0</span>)     <span class="comment"># 60.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对 range 求和</span></span><br><span class="line"><span class="built_in">sum</span>(<span class="built_in">range</span>(<span class="number">5</span>))   <span class="comment"># 0 + 1 + 2 + 3 + 4 = 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对生成器求和</span></span><br><span class="line"><span class="built_in">sum</span>( i**<span class="number">3</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>))   <span class="comment"># 0 + 1 + 8 + 27 + 64 = 100</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：max-、min-函数"><a href="#知识点：max-、min-函数" class="headerlink" title="知识点：max()、min() 函数"></a>知识点：max()、min() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 求最大值、最小值</span><br><span class="line">  - 如果参数是一个 iterable，则返回值为这个 iterable 中的最大/最小的元素</span><br><span class="line">  - 如果参数是多个 arg，则返回值为这些 arg 中最大/最小的那一个</span><br><span class="line">  - 如果存在多个最大值/最小值，则返回最先遇到的那个</span><br><span class="line"></span><br><span class="line">* max() 格式</span><br><span class="line">  max(iterable, /, *, key=None)</span><br><span class="line">  max(iterable, /, *, default, key=None)</span><br><span class="line">  max(arg1, arg2, /, *args, key=None)</span><br><span class="line"></span><br><span class="line">* min() 格式</span><br><span class="line">  min(iterable, /, *, key=None)</span><br><span class="line">  min(iterable, /, *, default, key=None)</span><br><span class="line">  min(arg1, arg2, /, *args, key=None)</span><br><span class="line"></span><br><span class="line">* 参数 default</span><br><span class="line">  - 正常情况下，如果 iterable 是 empty，则会抛出 ValueError</span><br><span class="line">  - 指定默认值 default，当 iterable 是 empty 时返回默认值 default</span><br><span class="line"></span><br><span class="line">* 参数 key</span><br><span class="line">  - 函数参数，用于指定比较的依据</span><br><span class="line">  - 指定一个函数的名称 func，比较两个元素时，以元素经过 func() 运算后的值作为比较依据，而不是直接比较元素本身</span><br><span class="line">  - 更常用的用法，是通过 lambda 来直接指定一个临时函数</span><br><span class="line"></span><br><span class="line">* 魔法方法</span><br><span class="line">  默认底层是调用 Python 的 rich comparison 规则来进行比较</span><br><span class="line">  object.__lt__(self, other)</span><br><span class="line">  object.__gt__(self, other)</span><br><span class="line">  object.__le__(self, other)</span><br><span class="line">  object.__ge__(self, other)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># iterable 格式</span></span><br><span class="line"><span class="built_in">max</span>([<span class="number">5</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">3</span>])     <span class="comment"># 7</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># arg 格式</span></span><br><span class="line"><span class="built_in">max</span>(<span class="number">5</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">3</span>)       <span class="comment"># 7</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定默认值</span></span><br><span class="line"><span class="built_in">min</span>([], default=<span class="string">&#x27;N/A&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定 key</span></span><br><span class="line"><span class="built_in">max</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],<span class="string">&#x27;abcd&#x27;</span>,&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;,key=<span class="built_in">len</span>)   <span class="comment"># 比较长度，返回值为 &#123;1,2,3,4,5&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过 lambda 指定 key</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, score</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.score = score</span><br><span class="line"></span><br><span class="line">users = [</span><br><span class="line">    User(<span class="string">&quot;Tom&quot;</span>, <span class="number">80</span>),</span><br><span class="line">    User(<span class="string">&quot;Jerry&quot;</span>, <span class="number">95</span>),</span><br><span class="line">    User(<span class="string">&quot;Bob&quot;</span>, <span class="number">70</span>),</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="built_in">max</span>(users, key=<span class="keyword">lambda</span> u: u.score).name    <span class="comment"># 返回分数最大的人的 name</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
3.<strong>典型用法</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 找到出现次数最多的字符</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line">s = <span class="string">&quot;hello world&quot;</span></span><br><span class="line"><span class="built_in">max</span>(Counter(s), key=Counter(s).get)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 按最后修改时间找最新的文件</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">files = os.listdir(<span class="string">&quot;.&quot;</span>)</span><br><span class="line">latest = <span class="built_in">max</span>(files, key=os.path.getmtime)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 从二维坐标中找到距离固定点 (1,1) 距离最大的点</span></span><br><span class="line">points = [(<span class="number">1</span>,<span class="number">2</span>), (<span class="number">3</span>,<span class="number">4</span>), (<span class="number">10</span>,-<span class="number">1</span>)]</span><br><span class="line">origin = (<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">farthest = <span class="built_in">max</span>(points, key=<span class="keyword">lambda</span> p: (p[<span class="number">0</span>] - origin[<span class="number">0</span>])**<span class="number">2</span> + (p[<span class="number">1</span>] - origin[<span class="number">1</span>])**<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(farthest)   <span class="comment"># (10, -1)</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：any-、all-函数"><a href="#知识点：any-、all-函数" class="headerlink" title="知识点：any()、all() 函数"></a>知识点：any()、all() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 介绍 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># any() 和 all()，都是对一个可迭代对象 iterable 做真值检查内置函数，返回 bool</span></span><br><span class="line"><span class="comment"># 遵循短路逻辑 short-circuit</span></span><br><span class="line"><span class="comment"># any()，iterable 中只要有一个元素为真，就返回 True；如果全部为假，则返回 False；iterable 为空返回 False</span></span><br><span class="line"><span class="comment"># all()，iterable 中所有的一个元素都为真，才返回 True；只要出现一个假值就返回 False；iterable 为空返回 True</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     any(iterable, /)</span></span><br><span class="line"><span class="comment">#     all(iterable, /)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">any</span>([<span class="number">0</span>, <span class="string">&quot;&quot;</span>, <span class="literal">None</span>, <span class="number">3</span>])   <span class="comment"># True  ，有至少一个元素为真</span></span><br><span class="line"><span class="built_in">any</span>([<span class="number">0</span>, <span class="string">&quot;&quot;</span>, <span class="literal">None</span>])      <span class="comment"># False ，所有元素都为假</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">all</span>([<span class="number">1</span>, <span class="string">&quot;x&quot;</span>, <span class="number">3</span>])        <span class="comment"># True  ，所有元素都为真</span></span><br><span class="line"><span class="built_in">all</span>([<span class="number">1</span>, <span class="string">&quot;&quot;</span>, <span class="number">3</span>])         <span class="comment"># False ，有一个元素为假</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">any</span>([])                 <span class="comment"># False ，iterable 为空，any() 返回 False</span></span><br><span class="line"><span class="built_in">all</span>([])                 <span class="comment"># True  ，iterable 为空，all() 返回 True</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 条件检查：是否存在 / 是否全部满足</span></span><br><span class="line">nums = [<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">7</span>]</span><br><span class="line"><span class="built_in">any</span>(n % <span class="number">2</span> == <span class="number">1</span> <span class="keyword">for</span> n <span class="keyword">in</span> nums)   <span class="comment"># True  是否存在奇数</span></span><br><span class="line"><span class="built_in">all</span>(n % <span class="number">2</span> == <span class="number">0</span> <span class="keyword">for</span> n <span class="keyword">in</span> nums)   <span class="comment"># False 是否全部为偶数</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 过滤空值：所有字段都非空</span></span><br><span class="line">row = &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;alice&quot;</span>, <span class="string">&quot;email&quot;</span>: <span class="string">&quot;a@x.com&quot;</span>, <span class="string">&quot;phone&quot;</span>: <span class="string">&quot;&quot;</span>&#125;</span><br><span class="line"><span class="built_in">all</span>(row[k] <span class="keyword">for</span> k <span class="keyword">in</span> (<span class="string">&quot;name&quot;</span>, <span class="string">&quot;email&quot;</span>, <span class="string">&quot;phone&quot;</span>))           <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：sorted-函数"><a href="#知识点：sorted-函数" class="headerlink" title="知识点：sorted() 函数"></a>知识点：sorted() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 介绍 ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># sorted()，Python 的内置排序函数</span></span><br><span class="line"><span class="comment"># 输入一个可迭代对象，如 list/tuple/set/str/生成器等，对这个可迭代对象中的元素进行排序，返回一个新的经过了排序的 list 对象</span></span><br><span class="line"><span class="comment"># 原始对象不会被修改</span></span><br><span class="line"><span class="comment"># 默认采用升序</span></span><br><span class="line"><span class="comment"># 优先采用 object.__lt__() 方法来比较元素的大小，但 python 推荐六个富比较方法都实现</span></span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#   sorted(iterable, /, *, key=None, reverse=False)</span></span><br><span class="line">a=[<span class="number">3</span>, -<span class="number">7</span>, <span class="number">2</span>, -<span class="number">1</span>]</span><br><span class="line">b=<span class="built_in">sorted</span>(a)</span><br><span class="line"><span class="built_in">print</span>(b)          <span class="comment"># [-7, -1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 字符串按照字典序进行排序</span></span><br><span class="line">a=[<span class="string">&quot;zoo&quot;</span>, <span class="string">&quot;apple&quot;</span>, <span class="string">&quot;apfel&quot;</span>]</span><br><span class="line">b=<span class="built_in">sorted</span>(a)</span><br><span class="line"><span class="built_in">print</span>(b)          <span class="comment"># [&#x27;apfel&#x27;, &#x27;apple&#x27;, &#x27;zoo&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果两个元素的值相等，那么这两个元素在结果中的相对顺序不变</span></span><br><span class="line"><span class="comment"># 即原来谁在前，在结果中还是谁在前</span></span><br><span class="line"><span class="comment"># 不管是否指定了 reverse 升序降序</span></span><br><span class="line"><span class="keyword">import</span> decimal</span><br><span class="line">a=[-<span class="number">7</span>, -<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="literal">True</span>, <span class="number">3.0</span>, decimal.Decimal(<span class="number">1</span>) ]      <span class="comment"># 3 和 3.0 相等，True 和 decimal.Decimal(1) 相当</span></span><br><span class="line">b=<span class="built_in">sorted</span>(a)</span><br><span class="line">c=<span class="built_in">sorted</span>(a,reverse=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(b)    <span class="comment"># [-7, -1, True, Decimal(&#x27;1&#x27;), 2, 3, 3.0]，3 和 3.0、True 和 decimal.Decimal(1) 均保持了在原始对象中的顺序</span></span><br><span class="line"><span class="built_in">print</span>(c)    <span class="comment"># [3, 3.0, 2, True, Decimal(&#x27;1&#x27;), -1, -7]，3 和 3.0、True 和 decimal.Decimal(1) 均保持了在原始对象中的顺序，即使指定了降序</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># sorted() 函数是返回一个新的 list 对象，原始对象不会被修改</span></span><br><span class="line">a=[<span class="string">&quot;zoo&quot;</span>, <span class="string">&quot;apple&quot;</span>, <span class="string">&quot;apfel&quot;</span>]</span><br><span class="line">b=<span class="built_in">sorted</span>(a)</span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">is</span> b)       <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果 iterable 中的某些元素不支持相互进行大小比较，则会报错</span></span><br><span class="line">a=[<span class="number">1</span>,<span class="string">&#x27;abc&#x27;</span>]</span><br><span class="line">b=<span class="built_in">sorted</span>(a)   <span class="comment"># ❌，TypeError</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 参数 reverse ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># sorted() 函数默认采用升序进行排列</span></span><br><span class="line"><span class="comment"># 如果指定了 reverse 为 True，则表示按照降序进行排列</span></span><br><span class="line">a=[<span class="number">3</span>, -<span class="number">7</span>, <span class="number">2</span>, -<span class="number">1</span>]</span><br><span class="line">b=<span class="built_in">sorted</span>(a)</span><br><span class="line">c=<span class="built_in">sorted</span>(a,reverse=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(b)          <span class="comment"># [-7, -1, 2, 3]</span></span><br><span class="line"><span class="built_in">print</span>(c)          <span class="comment"># [3, 2, -1, -7]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27; ----- 参数 key ----- &#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># sorted() 函数在进行排序时，默认直接调用对象的 object.__lt__() 方法来比较两个元素的大小</span></span><br><span class="line"><span class="comment"># 通过 key 参数可以指定排序键 comparison key：</span></span><br><span class="line"><span class="comment">#     key 参数指定一个函数，iterable 中的每一个元素先参与到这个函数中进行计算，得到一个结果</span></span><br><span class="line"><span class="comment">#     再根据这个计算结果调用 object.__lt__() 等六个富比较方法进行排序</span></span><br><span class="line"><span class="comment"># key 参数必须指定的是一个函数对象</span></span><br><span class="line"><span class="comment"># key 参数通常有两种指定的方法：</span></span><br><span class="line"><span class="comment">#     一种是直接指定函数名</span></span><br><span class="line"><span class="comment">#     一种是指定一个 lambda 表达式</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定 python 的内置函数的函数名</span></span><br><span class="line">a=[<span class="number">3</span>, -<span class="number">7</span>, <span class="number">2</span>, -<span class="number">1</span>]</span><br><span class="line">b=<span class="built_in">sorted</span>(a)</span><br><span class="line">c=<span class="built_in">sorted</span>(a,key=<span class="built_in">abs</span>)   <span class="comment"># 指定根据每一个元素的绝对值来进行排序</span></span><br><span class="line"><span class="built_in">print</span>(b)              <span class="comment"># [-7, -1, 2, 3]</span></span><br><span class="line"><span class="built_in">print</span>(c)              <span class="comment"># [-1, 2, 3, -7]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定 python 某个类的方法作为函数</span></span><br><span class="line">a=[<span class="string">&quot;Zoo&quot;</span>, <span class="string">&quot;apple&quot;</span>, <span class="string">&quot;Apfel&quot;</span>]</span><br><span class="line">b=<span class="built_in">sorted</span>(a)</span><br><span class="line">c=<span class="built_in">sorted</span>(a,key=<span class="built_in">str</span>.casefold)    <span class="comment"># 指定先将大写字母转换为小写字母，以实现忽略大小写</span></span><br><span class="line"><span class="built_in">print</span>(b)                        <span class="comment"># [&#x27;Apfel&#x27;, &#x27;Zoo&#x27;, &#x27;apple&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(c)                        <span class="comment"># [&#x27;Apfel&#x27;, &#x27;apple&#x27;, &#x27;Zoo&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过 lambda 表达式来指定函数</span></span><br><span class="line">students = [</span><br><span class="line">    (<span class="string">&quot;john&quot;</span>, <span class="string">&quot;A&quot;</span>, <span class="number">15</span>),</span><br><span class="line">    (<span class="string">&quot;jane&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="number">12</span>),</span><br><span class="line">    (<span class="string">&quot;dave&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="number">10</span>),]</span><br><span class="line"></span><br><span class="line">k=<span class="keyword">lambda</span> s: s[<span class="number">2</span>]                <span class="comment"># 构建 lambda 对象，作用为返回对象索引为 2 的元素</span></span><br><span class="line">results=<span class="built_in">sorted</span>(students, key=k) <span class="comment"># 按照每个学生的分数进行排序</span></span><br><span class="line"><span class="built_in">print</span>(results)                  <span class="comment"># [(&#x27;dave&#x27;, &#x27;B&#x27;, 10), (&#x27;jane&#x27;, &#x27;B&#x27;, 12), (&#x27;john&#x27;, &#x27;A&#x27;, 15)]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># key 不是只能看元素本身，也可以查外部表：</span></span><br><span class="line">students = [<span class="string">&quot;dave&quot;</span>, <span class="string">&quot;john&quot;</span>, <span class="string">&quot;jane&quot;</span>]</span><br><span class="line">grade_map = &#123;<span class="string">&quot;john&quot;</span>: <span class="string">&quot;F&quot;</span>, <span class="string">&quot;jane&quot;</span>: <span class="string">&quot;A&quot;</span>, <span class="string">&quot;dave&quot;</span>: <span class="string">&quot;C&quot;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sorted</span>(students, key=grade_map.__getitem__))      <span class="comment"># [&#x27;jane&#x27;, &#x27;dave&#x27;, &#x27;john&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 通过 key 参数来处理数据中的 None 值</span></span><br><span class="line">data = [<span class="number">3</span>, <span class="literal">None</span>, <span class="number">2</span>, <span class="literal">None</span>, <span class="number">10</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sorted</span>(data, key=<span class="keyword">lambda</span> x: (x <span class="keyword">is</span> <span class="literal">None</span>, x <span class="keyword">if</span> x <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">else</span> <span class="number">0</span>)))   <span class="comment"># [2, 3, 10, None, None]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># IP 地址排序：把每段转换为 int</span></span><br><span class="line">ips = [<span class="string">&quot;10.2.3.4&quot;</span>, <span class="string">&quot;10.2.3.40&quot;</span>, <span class="string">&quot;10.2.3.5&quot;</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sorted</span>(ips))                                                <span class="comment"># [&#x27;10.2.3.4&#x27;, &#x27;10.2.3.40&#x27;, &#x27;10.2.3.5&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sorted</span>(ips, key=<span class="keyword">lambda</span> s: <span class="built_in">tuple</span>(<span class="built_in">map</span>(<span class="built_in">int</span>, s.split(<span class="string">&quot;.&quot;</span>)))))   <span class="comment"># [&#x27;10.2.3.4&#x27;, &#x27;10.2.3.5&#x27;, &#x27;10.2.3.40&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 先按 score 降序，再按 age 升序，再按 name 忽略大小写</span></span><br><span class="line"><span class="keyword">import</span> pprint</span><br><span class="line">rows = [</span><br><span class="line">    &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;alice&quot;</span>, <span class="string">&quot;age&quot;</span>: <span class="number">20</span>, <span class="string">&quot;score&quot;</span>: <span class="number">90</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;Bob&quot;</span>,   <span class="string">&quot;age&quot;</span>: <span class="number">20</span>, <span class="string">&quot;score&quot;</span>: <span class="number">95</span>&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;name&quot;</span>: <span class="string">&quot;carl&quot;</span>,  <span class="string">&quot;age&quot;</span>: <span class="number">19</span>, <span class="string">&quot;score&quot;</span>: <span class="number">95</span>&#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">pprint.pp(<span class="built_in">sorted</span>(rows, key=<span class="keyword">lambda</span> r: (-r[<span class="string">&quot;score&quot;</span>], r[<span class="string">&quot;age&quot;</span>], r[<span class="string">&quot;name&quot;</span>].casefold())))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 多轮排序，先按 dept 排序，同部门内再按 grade。</span></span><br><span class="line"><span class="keyword">import</span> pprint</span><br><span class="line"></span><br><span class="line">data = [</span><br><span class="line">    (<span class="string">&quot;sales&quot;</span>, <span class="number">2</span>, <span class="string">&quot;A&quot;</span>),</span><br><span class="line">    (<span class="string">&quot;sales&quot;</span>, <span class="number">1</span>, <span class="string">&quot;B&quot;</span>),</span><br><span class="line">    (<span class="string">&quot;it&quot;</span>,    <span class="number">2</span>, <span class="string">&quot;C&quot;</span>),</span><br><span class="line">    (<span class="string">&quot;it&quot;</span>,    <span class="number">1</span>, <span class="string">&quot;D&quot;</span>), ]</span><br><span class="line"></span><br><span class="line">tmp = <span class="built_in">sorted</span>(data, key=<span class="keyword">lambda</span> x: x[<span class="number">2</span>])      <span class="comment"># 先按次要字段 grade</span></span><br><span class="line">result = <span class="built_in">sorted</span>(tmp, key=<span class="keyword">lambda</span> x: x[<span class="number">0</span>])    <span class="comment"># 再按主要字段 dept（稳定排序保证 grade 的相对顺序保留）</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：enumerate-函数"><a href="#知识点：enumerate-函数" class="headerlink" title="知识点：enumerate() 函数"></a>知识点：enumerate() 函数</h3><hr>
<h3 id="知识点：zip-函数"><a href="#知识点：zip-函数" class="headerlink" title="知识点：zip() 函数"></a>知识点：zip() 函数</h3><hr>
<h3 id="知识点：map-函数"><a href="#知识点：map-函数" class="headerlink" title="知识点：map() 函数"></a>知识点：map() 函数</h3><hr>
<h3 id="知识点：iter-、reversed-、next-函数"><a href="#知识点：iter-、reversed-、next-函数" class="headerlink" title="知识点：iter()、reversed()、next() 函数"></a>知识点：iter()、reversed()、next() 函数</h3><ol>
<li><strong>介绍</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># reverse() 函数，python 的内置函数，返回一个 反向迭代器 reverse iterator，（不是把对象原地翻转，也不是直接生成新列表）。</span></span><br><span class="line">，即一个对序列进行逆序索引的迭代器</span><br><span class="line"><span class="comment"># 格式：</span></span><br><span class="line"><span class="comment">#     reversed(seq, /)</span></span><br><span class="line">lst = [<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>]</span><br><span class="line">rlst = <span class="built_in">reversed</span>(lst)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(rlst))         <span class="comment"># &lt;class &#x27;list_reverseiterator&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(rlst))         <span class="comment"># [30, 20, 10]</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(rlst))         <span class="comment"># []  （迭代器用完就空了）</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  * 作用</span><br><span class="line">    - 返回一个 reverse iterator，即一个对序列进行逆序索引的迭代器</span><br><span class="line"></span><br><span class="line"><span class="comment"># 反向迭代器仍然是一个指针，仍然受原始列表的数据的影响</span></span><br><span class="line">lst=<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line">rev=<span class="built_in">reversed</span>(lst)</span><br><span class="line">lst[<span class="number">3</span>:<span class="number">5</span>]=<span class="string">&#x27;apple&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(rev))      <span class="comment"># [6, 5, &#x27;e&#x27;, &#x27;l&#x27;, &#x27;p&#x27;, &#x27;p&#x27;, &#x27;a&#x27;, 2, 1, 0]</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：filter-函数"><a href="#知识点：filter-函数" class="headerlink" title="知识点：filter() 函数"></a>知识点：filter() 函数</h3><hr>
<h2 id="3-5-输入输入函数"><a href="#3-5-输入输入函数" class="headerlink" title="3.5 输入输入函数"></a>3.5 输入输入函数</h2><hr>
<h3 id="知识点：print-函数"><a href="#知识点：print-函数" class="headerlink" title="知识点：print() 函数"></a>知识点：print() 函数</h3><p>print()：输出。<br>Real Python</p>
<hr>
<h3 id="知识点：input-函数"><a href="#知识点：input-函数" class="headerlink" title="知识点：input() 函数"></a>知识点：input() 函数</h3><p>input()：读取用户输入。<br>W3Schools</p>
<hr>
<h3 id="知识点：open-函数"><a href="#知识点：open-函数" class="headerlink" title="知识点：open() 函数"></a>知识点：open() 函数</h3><p>open()：打开文件。<br>W3Schools</p>
<hr>
<h3 id="知识点：format-函数"><a href="#知识点：format-函数" class="headerlink" title="知识点：format() 函数"></a>知识点：format() 函数</h3><p>format()：格式化值为字符串或指定格式。<br>Python documentation</p>
<hr>
<h3 id="知识点：exec-函数"><a href="#知识点：exec-函数" class="headerlink" title="知识点：exec() 函数"></a>知识点：exec() 函数</h3><hr>
<h3 id="知识点：eval-函数"><a href="#知识点：eval-函数" class="headerlink" title="知识点：eval() 函数"></a>知识点：eval() 函数</h3><hr>
<h3 id="知识点：compile-函数"><a href="#知识点：compile-函数" class="headerlink" title="知识点：compile() 函数"></a>知识点：compile() 函数</h3><p>exec(), eval(), compile()：从字符串或代码对象执行／评估。<br>Real Python</p>
<hr>
<h2 id="3-6-类型检查函数"><a href="#3-6-类型检查函数" class="headerlink" title="3.6 类型检查函数"></a>3.6 类型检查函数</h2><hr>
<h3 id="知识点：type-函数"><a href="#知识点：type-函数" class="headerlink" title="知识点：type() 函数"></a>知识点：type() 函数</h3><hr>
<h3 id="知识点：isinstance-函数"><a href="#知识点：isinstance-函数" class="headerlink" title="知识点：isinstance() 函数"></a>知识点：isinstance() 函数</h3><hr>
<h3 id="知识点：issubclass-函数"><a href="#知识点：issubclass-函数" class="headerlink" title="知识点：issubclass() 函数"></a>知识点：issubclass() 函数</h3><hr>
<h3 id="知识点：callable-函数"><a href="#知识点：callable-函数" class="headerlink" title="知识点：callable() 函数"></a>知识点：callable() 函数</h3><hr>
<h3 id="知识点：id-函数"><a href="#知识点：id-函数" class="headerlink" title="知识点：id() 函数"></a>知识点：id() 函数</h3><hr>
<h3 id="知识点：hash-函数-1"><a href="#知识点：hash-函数-1" class="headerlink" title="知识点：hash() 函数"></a>知识点：hash() 函数</h3><hr>
<h3 id="知识点：getattr-函数"><a href="#知识点：getattr-函数" class="headerlink" title="知识点：getattr() 函数"></a>知识点：getattr() 函数</h3><hr>
<h3 id="知识点：setattr-函数"><a href="#知识点：setattr-函数" class="headerlink" title="知识点：setattr() 函数"></a>知识点：setattr() 函数</h3><hr>
<h3 id="知识点：delattr-函数"><a href="#知识点：delattr-函数" class="headerlink" title="知识点：delattr() 函数"></a>知识点：delattr() 函数</h3><hr>
<h3 id="知识点：hasattr-函数"><a href="#知识点：hasattr-函数" class="headerlink" title="知识点：hasattr() 函数"></a>知识点：hasattr() 函数</h3><hr>
<h3 id="知识点：vars-函数"><a href="#知识点：vars-函数" class="headerlink" title="知识点：vars() 函数"></a>知识点：vars() 函数</h3><hr>
<h3 id="知识点：dir-函数"><a href="#知识点：dir-函数" class="headerlink" title="知识点：dir() 函数"></a>知识点：dir() 函数</h3><hr>
<h3 id="知识点：globals-函数"><a href="#知识点：globals-函数" class="headerlink" title="知识点：globals() 函数"></a>知识点：globals() 函数</h3><hr>
<h3 id="知识点：locals-函数"><a href="#知识点：locals-函数" class="headerlink" title="知识点：locals() 函数"></a>知识点：locals() 函数</h3><hr>
<h3 id="知识点：super-函数"><a href="#知识点：super-函数" class="headerlink" title="知识点：super() 函数"></a>知识点：super() 函数</h3><hr>
<h2 id="3-7-命名空间函数"><a href="#3-7-命名空间函数" class="headerlink" title="3.7 命名空间函数"></a>3.7 命名空间函数</h2><hr>
<h3 id="知识点：globals-、locals-函数"><a href="#知识点：globals-、locals-函数" class="headerlink" title="知识点：globals()、locals() 函数"></a>知识点：globals()、locals() 函数</h3><p>globals(), locals()：获取全局／局部命名空间字典。<br>Python documentation</p>
<hr>
<h3 id="知识点：dir-函数-1"><a href="#知识点：dir-函数-1" class="headerlink" title="知识点：dir() 函数"></a>知识点：dir() 函数</h3><p>dir()：列出对象属性和方法。<br>Real Python</p>
<hr>
<h3 id="知识点：vars-函数-1"><a href="#知识点：vars-函数-1" class="headerlink" title="知识点：vars() 函数"></a>知识点：vars() 函数</h3><p>vars()：返回对象的 <strong>dict</strong> 属性。<br>Real Python</p>
<hr>
<h3 id="知识点：id-函数-1"><a href="#知识点：id-函数-1" class="headerlink" title="知识点：id() 函数"></a>知识点：id() 函数</h3><p>id()：获取对象的 “身份” 值。<br>Real Python</p>
<hr>
<h3 id="知识点：help-函数"><a href="#知识点：help-函数" class="headerlink" title="知识点：help() 函数"></a>知识点：help() 函数</h3><p>help()：启动内置帮助系统。<br>Python documentation</p>
<hr>
<h3 id="知识点：import-函数"><a href="#知识点：import-函数" class="headerlink" title="知识点：import() 函数"></a>知识点：<strong>import</strong>() 函数</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">__import__()：底层模块导入函数。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="知识点：memoryview-函数"><a href="#知识点：memoryview-函数" class="headerlink" title="知识点：memoryview() 函数"></a>知识点：memoryview() 函数</h3><p>memoryview()：映射对象的内存视图。<br>Real Python</p>
<hr>
<h3 id="知识点：breakppoint-函数"><a href="#知识点：breakppoint-函数" class="headerlink" title="知识点：breakppoint() 函数"></a>知识点：breakppoint() 函数</h3><p>breakpoint()：调用调试器中断点。<br>Python documentation</p>
<hr>
<h2 id="3-8-反射函数"><a href="#3-8-反射函数" class="headerlink" title="3.8 反射函数"></a>3.8 反射函数</h2><hr>
<h3 id="知识点：help-函数-1"><a href="#知识点：help-函数-1" class="headerlink" title="知识点：help() 函数"></a>知识点：help() 函数</h3><hr>
<h3 id="知识点：-函数"><a href="#知识点：-函数" class="headerlink" title="知识点：_ 函数"></a>知识点：_ 函数</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">_ （单下划线）: 解释器中最近表达式结果的快捷名。</span><br><span class="line">Python documentation</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">__import__() 已提及。</span><br><span class="line"></span><br><span class="line">还有一些构造如 object()（基类对象构造）等。</span><br><span class="line">Python documentation</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="3-9-装饰器函数"><a href="#3-9-装饰器函数" class="headerlink" title="3.9 装饰器函数"></a>3.9 装饰器函数</h2><hr>
<h2 id="3-10-程序控制函数"><a href="#3-10-程序控制函数" class="headerlink" title="3.10 程序控制函数"></a>3.10 程序控制函数</h2><hr>
<h2 id="3-11-其他函数"><a href="#3-11-其他函数" class="headerlink" title="3.11 其他函数"></a>3.11 其他函数</h2><hr>
<h1 id="Chapter04-python-语法"><a href="#Chapter04-python-语法" class="headerlink" title="Chapter04 python 语法"></a>Chapter04 python 语法</h1><hr>
<h2 id="4-1-python-语法介绍"><a href="#4-1-python-语法介绍" class="headerlink" title="4.1 python 语法介绍"></a>4.1 python 语法介绍</h2><hr>
<h3 id="知识点：python-语法体系介绍"><a href="#知识点：python-语法体系介绍" class="headerlink" title="知识点：python 语法体系介绍"></a>知识点：python 语法体系介绍</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - Python 的语法体系 Syntax System，是指一整套用来定义合法 Python 程序的语法规则和层级结构</span><br><span class="line">  - 它描述了从词法分析 Lexical Analysis、语法分析 Syntactic Analysis，一直到语义结构 Semantic Meaning 的完整系统</span><br><span class="line">  - 它定义了源码如何由字符流最终成为抽象语法树 AST Abstract Syntax Tree，提供给编译器进行编译</span><br><span class="line">  - 对语法的解析，全部由解释器的解析器 Parser 完成：</span><br><span class="line">    &gt; 将源码的字符识别为 token</span><br><span class="line">    &gt; 如何由 tokens 组合成表达式 expressions</span><br><span class="line">    &gt; 如何由表达式组成语句 statements</span><br><span class="line">    &gt; 如何由语句组成代码块 suites</span><br><span class="line">    &gt; 如何由代码块组成模块 modules</span><br><span class="line"></span><br><span class="line">* Python 的语法体系总体结构图</span><br><span class="line">  ┌───────────────────────────────┐</span><br><span class="line">  │ Python Program (程序)         │</span><br><span class="line">  │  └──&gt; Module 模块 (.py)       │</span><br><span class="line">  │       ├── Import 导入语句     │</span><br><span class="line">  │       ├── Def 定义函数        │</span><br><span class="line">  │       ├── Class 定义类        │</span><br><span class="line">  │       ├── Statements 语句     │</span><br><span class="line">  │       └── Expressions 表达式  │</span><br><span class="line">  └───────────────────────────────┘</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>python 语法体系的三个层次</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">* 词法层 Lexical Level</span><br><span class="line">  - 由词法分析器 Lexical Analyzer 完成，把字符流 source code 拆分成语法可识别的最小单元 tokens，最终输出 token 流，提供给语法层</span><br><span class="line">  - 这一层不关心语义，只判断字符能不能组成 token</span><br><span class="line">  - 在词法层，会做以下操作：</span><br><span class="line">    &gt; 识别非空白字符，识别为 token，空白和连续的空白被视为 token 的间隔符</span><br><span class="line">    &gt; 去除注释</span><br><span class="line">    &gt; 去除隐式行拼接的换行符</span><br><span class="line">    &gt; 识别出缩进增加，记录为特殊的 token INDENT</span><br><span class="line">    &gt; 识别出缩进减少，记录为特殊的 token DEDENT</span><br><span class="line">    &gt; 识别出语句结束，记录为特殊的 token NEWLINE</span><br><span class="line"></span><br><span class="line">* 语法层 Syntactic Level</span><br><span class="line">  - 功能，读取 token 流，将 token 流组合成合法的语法结构</span><br><span class="line">  - 这一层由语法分析器 Syntactic Analyzer 完成</span><br><span class="line">  - 最终生成语法树节点，提供给程序结构层</span><br><span class="line"></span><br><span class="line">* 程序结构层 Program Structure Level</span><br><span class="line">  - 组装出完整的抽象语法树 AST，提交给语义层</span><br><span class="line">  - 程序结构层是 python 语法体系中的最顶层，定义 Python 程序的组织方式，它规定了一个完整程序的组成关系：</span><br><span class="line">    &gt; 模块 module</span><br><span class="line">    &gt; 语句 statement</span><br><span class="line">    &gt; 表达式 expression</span><br><span class="line">    &gt; 对象 object</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>python 语法体系的核心组成要素</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">* 表达式 Expression</span><br><span class="line">  - 也成为计算式</span><br><span class="line">  - 每一个表达式，必行会产生一个值</span><br><span class="line"></span><br><span class="line">* 语句 Statement</span><br><span class="line">  - 用以指示执行某种操作</span><br><span class="line"></span><br><span class="line">* 代码块 Suite</span><br><span class="line">  - 由缩进形成的语句组</span><br><span class="line"></span><br><span class="line">* 模块 Module</span><br><span class="line">  - 文件级结构</span><br><span class="line">  - 每个 .py 文件都是一个模块，可以通过 import 导入</span><br><span class="line"></span><br><span class="line">* 包 Package</span><br><span class="line">  - 模块的集合</span><br><span class="line"></span><br><span class="line">* 图示</span><br><span class="line">  Program</span><br><span class="line">   ├── Module</span><br><span class="line">   │     ├── Statement</span><br><span class="line">   │     │     ├── Simple_stmt</span><br><span class="line">   │     │     │     ├── Assignment</span><br><span class="line">   │     │     │     ├── Import</span><br><span class="line">   │     │     │     ├── Return</span><br><span class="line">   │     │     │     └── Pass / Break / Continue</span><br><span class="line">   │     │     └── Compound_stmt</span><br><span class="line">   │     │            ├── If_stmt</span><br><span class="line">   │     │            ├── For_stmt</span><br><span class="line">   │     │            ├── While_stmt</span><br><span class="line">   │     │            ├── Try_stmt</span><br><span class="line">   │     │            ├── With_stmt</span><br><span class="line">   │     │            ├── Def_stmt (function)</span><br><span class="line">   │     │            └── Class_stmt</span><br><span class="line">   │     └── Expression</span><br><span class="line">   │            ├── Primary (变量、字面量)</span><br><span class="line">   │            ├── AttributeRef / Subscription / Call</span><br><span class="line">   │            └── Operators (+, -, *, **, etc.)</span><br><span class="line">   └── Object model (functions, classes, modules, etc.)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：python-token-介绍"><a href="#知识点：python-token-介绍" class="headerlink" title="知识点：python token 介绍"></a>知识点：python token 介绍</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 在 Python 的语法体系中，token 是最基础的语法单元，是源代码经过词法分析 lexical analysis 后被拆解成的最小有意义单位</span><br><span class="line"></span><br><span class="line">* 空白字符 Whitespace</span><br><span class="line">  - 空白字符不会被解析为 token，而是用来间隔 token</span><br><span class="line">  - 空白字符包括 space、tab</span><br><span class="line">  - 缩进中的空白字符，会被解析为 INDENT / DEDENT token</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>token 的分类</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">* 根据 Python 的官方定义，将 token 分为以下几类</span><br><span class="line"></span><br><span class="line">* 关键字 Keywords</span><br><span class="line">  - Python 的语法保留字</span><br><span class="line">  - 如 if、for、def、class、return、import、while、try、else 等</span><br><span class="line"></span><br><span class="line">* 标识符 Identifiers</span><br><span class="line">  - 程序中定义的变量名、函数名、类名等</span><br><span class="line"></span><br><span class="line">* 字面量 Literals</span><br><span class="line">  - 直接表示常量的值</span><br><span class="line">  - 如 123、3.14、&#x27;hello&#x27;、True、None 等</span><br><span class="line"></span><br><span class="line">* 运算符 Operators</span><br><span class="line">  - 参与运算或逻辑操作的符号</span><br><span class="line">  - 如 +、-、*、/、//、%、==、and、or、not、in 等</span><br><span class="line"></span><br><span class="line">* 分隔符 Delimiters</span><br><span class="line">  - 用于界定语句或结构</span><br><span class="line">  - 如 ()、&#123;&#125;、[]、,、:、.、;、@、= 等</span><br><span class="line"></span><br><span class="line">* 缩进 INDENT / DEDENT</span><br><span class="line">  - 用来标识缩进层级的特殊 token</span><br><span class="line"></span><br><span class="line">* NEWLINE</span><br><span class="line">  - 表示一个语句的结束</span><br><span class="line"></span><br><span class="line">* COMMENT</span><br><span class="line">  - 注释行，以 # 开头，不参与语法分析</span><br><span class="line"></span><br><span class="line">* ENCODING</span><br><span class="line">  - 文件的编码声明</span><br><span class="line">  - 如 # -*- coding: utf-8 -*-</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 查看一段代码被词法层解析成的 Token 序列</span></span><br><span class="line">python -m tokenize 1.py</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：python-关键字"><a href="#知识点：python-关键字" class="headerlink" title="知识点：python 关键字"></a>知识点：python 关键字</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 关键字 keywords，是 python 语法中具有特殊意义的保留字，不能被用作变量名、函数名、类名等标识符，也称为保留字 reserved words</span><br><span class="line">  - 在语法解析中，关键字会被解析为一个 token</span><br><span class="line">  -</span><br><span class="line">  - 可以通过 python 的 keyword 内置模块，查看当前 python 所有的关键字</span><br><span class="line">  - 关键字区分大小写</span><br><span class="line"></span><br><span class="line">* 从 python 3.10 开始，python 中有共计 35 个关键字</span><br><span class="line">  False      await      else       import     pass</span><br><span class="line">  None       break      except     in         raise</span><br><span class="line">  True       class      finally    is         return</span><br><span class="line">  and        continue   for        lambda     try</span><br><span class="line">  as         def        from       nonlocal   while</span><br><span class="line">  assert     del        global     not        with</span><br><span class="line">  async      elif       if         or         yield</span><br><span class="line"></span><br><span class="line">* Soft Keywords</span><br><span class="line">  - 3.10 新特性</span><br><span class="line">  - 仅在特定上下文中，才会被认为是关键字</span><br><span class="line">  - 包括: match、case、_，仅在 pattern matching statement 才会被认为是关键字</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看 python 的所有的全局关键字</span></span><br><span class="line"><span class="keyword">import</span> keyword,pprint</span><br><span class="line">pprint.pprint(keyword.kwlist)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：python-标识符"><a href="#知识点：python-标识符" class="headerlink" title="知识点：python 标识符"></a>知识点：python 标识符</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 标识符 identifiers</span><br><span class="line">  - 在语法层面，标识符就是程序员给变量、函数、类、模块、属性等各种东西起的名字</span><br><span class="line">  - 关于名称与命名空间相关的部分，见面向对象中的部分</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  - 以大写字母、小写字母、下划线开头</span><br><span class="line">  - 包含大写字母、小写字母、下划线、数字</span><br><span class="line">  - 最少包含一个字符，最大没有限制</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>特殊标识符 Reserved classes of identifiers</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 一类具有特殊功能的名称格式</span><br><span class="line">  - 当名符合特定格式时，此标识符会自动被 python 赋予特殊含义，或具有特殊的操作</span><br><span class="line">  - 形式上都是以 &#x27;_&#x27; 开头或结尾</span><br><span class="line"></span><br><span class="line">* &#x27;_&#x27;</span><br><span class="line">  - 在 match 语句中，用作 wildcard</span><br><span class="line">  - 在交互模式中，用作变量，储存最近一次 available evaluation 的结果</span><br><span class="line"></span><br><span class="line">* &#x27;_XXX&#x27;</span><br><span class="line">  - 以单下划线开头</span><br><span class="line">  - 模块的私有属性，在执行 &#x27;from module import *&#x27; 语句时不会导入此属性</span><br><span class="line">  - 也可以表示类的私有属性，但只是代码习惯，不具备 python 功能</span><br><span class="line"></span><br><span class="line">* &#x27;__XXX&#x27;</span><br><span class="line">  - 前缀至少两个下划线，后缀至多一个下划线</span><br><span class="line">  - 类的私有名称 Class-private names，会被进行私有名称改写 Private name mangling 以避免子类冲突。</span><br><span class="line">  - 在执行类的定义 class definition 时自动对此 name 进行转换</span><br><span class="line"></span><br><span class="line">* &#x27;__XXX__;</span><br><span class="line">  - 以双下划线开头，以双下划线结尾</span><br><span class="line">  - 系统定义名称 System-defined names，通常简称为 &quot;dunder&quot;，或者魔法方法 magic method</span><br><span class="line">  - 本质上是解释器钩子 interpreter hooks，当解释器执行某些操作时，会自动查找并调用对象上对应的方法</span><br><span class="line">  - 多用来表示特殊属性、特殊方法</span><br><span class="line">  - 详细，见魔法方法部分</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：python-运算符"><a href="#知识点：python-运算符" class="headerlink" title="知识点：python 运算符"></a>知识点：python 运算符</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 运算符 operator，是对操作数 operand 进行运算、比较、逻辑判断、成员检测等操作的符号或关键字。</span><br><span class="line">  - Python 的运算符大多数是由符号构成的，如 +、-、*、/，但也有部分是单词形式的，如 and、or、not、in、is</span><br><span class="line">  - 在词法层中，这些运算符会被识别为 OP 类型的 token</span><br><span class="line">  - 在语法层中，它们会根据上下文构成具体的表达式结构</span><br><span class="line"></span><br><span class="line">* 运算符的本质</span><br><span class="line">  - Python 运算符其实都是语法糖</span><br><span class="line">  - 本质上，每一个运算符，都对应到某个特定的魔法方法，在自定义类时，只要定义了某个魔法方法，就表示这个类支持某个运算符</span><br><span class="line">  - 细节见魔法方法部分</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>算数运算符 Arithmetic Operators</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - python 中的算术运算符共计 9 个</span><br><span class="line">  - 主要用在数值型的计算，组成算数运算表达式</span><br><span class="line">  - 对于一些其他的类型如 list、str，也支持算数运算符</span><br><span class="line"></span><br><span class="line">* 加法 addition</span><br><span class="line">  - 运算符：+</span><br><span class="line">  - 表达式：x + y</span><br><span class="line">  - 魔法方法：</span><br><span class="line">    - object.__add__(self, other)</span><br><span class="line">    - object.__radd__(self, other)</span><br><span class="line">    - object.__iadd__(self, other)</span><br><span class="line"></span><br><span class="line">* 减法 subtraction</span><br><span class="line">  - 运算符：-</span><br><span class="line">  - 表达式：x - y</span><br><span class="line">  - 魔法方法：</span><br><span class="line">    - object.__sub__(self, other)</span><br><span class="line">    - object.__rsub__(self, other)</span><br><span class="line">    - object.__isub__(self, other)</span><br><span class="line"></span><br><span class="line">* 乘法 multiplication</span><br><span class="line">  - 运算符：*</span><br><span class="line">  - 表达式：x * y</span><br><span class="line">  - 魔法方法：</span><br><span class="line">    - object.__mul__(self, other)</span><br><span class="line">    - object.__rmul__(self, other)</span><br><span class="line">    - object.__imul__(self, other)</span><br><span class="line"></span><br><span class="line">* 真除法 true division</span><br><span class="line">  - 运算符：/</span><br><span class="line">  - 表达式：x / y</span><br><span class="line">  - 魔法方法：</span><br><span class="line">    - object.__truediv__(self, other)</span><br><span class="line">    - object.__rtruediv__(self, other)</span><br><span class="line">    - object.__itruediv__(self, other)</span><br><span class="line"></span><br><span class="line">* 地板除法 floor division</span><br><span class="line">  - 运算符：//</span><br><span class="line">  - 表达式：x // y</span><br><span class="line">  - 魔法方法：</span><br><span class="line">    - object.__floordiv__(self, other)</span><br><span class="line">    - object.__rfloordiv__(self, other)</span><br><span class="line">    - object.__ifloordiv__(self, other)</span><br><span class="line"></span><br><span class="line">* 取模 modulo</span><br><span class="line">  - 运算符：%</span><br><span class="line">  - 表达式：x % y</span><br><span class="line">  - 魔法方法：</span><br><span class="line">    - object.__mod__(self, other)</span><br><span class="line">    - object.__rmod__(self, other)</span><br><span class="line">    - object.__imod__(self, other)</span><br><span class="line"></span><br><span class="line">* 幂运算</span><br><span class="line">  - 运算符：**</span><br><span class="line">  - 表达式：x ** y</span><br><span class="line">  - 魔法方法：</span><br><span class="line">    - object.__pow__(self, other[, modulo])</span><br><span class="line">    - object.__rpow__(self, other)</span><br><span class="line">    - object.__ipow__(self, other[, modulo])</span><br><span class="line"></span><br><span class="line">* 一元正号</span><br><span class="line">  - 运算符：+</span><br><span class="line">  - 表达式：+ x</span><br><span class="line">  - 魔法方法：object.__pos__(self)</span><br><span class="line"></span><br><span class="line">* 一元负号</span><br><span class="line">  - 运算符：-</span><br><span class="line">  - 表达式：- x</span><br><span class="line">  - 魔法方法：object.__neg__(self)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>比较运算符 Comparison Operators</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - python 中的比较运算符共计 6 个</span><br><span class="line">  - 构成比较运算表达式，返回值为 True 或 False</span><br><span class="line">  - 主要用在数值型之中比较值的大小</span><br><span class="line">  - 对于一些其他的类型如 list、str，也支持比较运算符</span><br><span class="line">  - 这 6 个比较运算符所对应的魔法方法，也被称之为富比较方法 rich comparison method</span><br><span class="line"></span><br><span class="line">* 等于</span><br><span class="line">  - 运算符：==</span><br><span class="line">  - 表达式：x == y</span><br><span class="line">  - 魔法方法：object.__eq__(self, other)</span><br><span class="line"></span><br><span class="line">* 不等于</span><br><span class="line">  - 运算符：!=</span><br><span class="line">  - 表达式：x != y</span><br><span class="line">  - 魔法方法：object.__ne__(self, other)</span><br><span class="line"></span><br><span class="line">* 大于</span><br><span class="line">  - 运算符：&gt;</span><br><span class="line">  - 表达式：x &gt; y</span><br><span class="line">  - 魔法方法：object.__gt__(self, other)</span><br><span class="line"></span><br><span class="line">* 小于</span><br><span class="line">  - 运算符：&lt;</span><br><span class="line">  - 表达式：x &lt; y</span><br><span class="line">  - 魔法方法：object.__lt__(self, other)</span><br><span class="line"></span><br><span class="line">* 大于等于</span><br><span class="line">  - 运算符：&gt;=</span><br><span class="line">  - 表达式：x &gt;= y</span><br><span class="line">  - 魔法方法：object.__ge__(self, other)</span><br><span class="line"></span><br><span class="line">* 小于等于</span><br><span class="line">  - 运算符：&lt;=</span><br><span class="line">  - 表达式：x &lt; y</span><br><span class="line">  - 魔法方法：object.__le__(self, other)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>逻辑运算符 Logical Operators</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- and，逻辑与</span><br><span class="line">- or ，逻辑或</span><br><span class="line">- not，逻辑非</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>身份检查运算符 Identity Operators</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- 判断两个对象的内存地址是否相同，亦即两个标识符是否指向同一个对象</span><br><span class="line">- is</span><br><span class="line">- is not</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>成员检查运算符 Membership Operators</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- 判断某个元素是否属于某特序列、集合或字典</span><br><span class="line">- in    ，元素存在   ，&#x27;a&#x27; in &#x27;cat&#x27;     ，结果为 True</span><br><span class="line">- not   ，元素不存在 ，&#x27;a&#x27; not in &#x27;cat&#x27; ，结果为 False</span><br></pre></td></tr></table></figure></li>
<li><strong>位运算符 Bitwise Operators</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">*</span><br><span class="line">  - &amp;   ，按位与  ，5 &amp; 3 -&gt; 0101 &amp; 0011 -&gt; 0001 -&gt; 结果为 1</span><br><span class="line">  - |   ，按位或  ，5 | 3 -&gt; 0101 | 0011 -&gt; 0111 -&gt; 结果为 7</span><br><span class="line">  - ^   ，按位异或，5 ^ 3 -&gt; 0101 ^ 0011 -&gt; 0110 -&gt; 结果为 6</span><br><span class="line">  - ~   ，按位取反，~5 -&gt; -6，此处有坑，不深入探讨</span><br><span class="line">  - &lt;&lt;  ，左移    ，5 &lt;&lt; 1 -&gt; 0101 * 2  -&gt; 1010 -&gt; 结果为 10</span><br><span class="line">  - &gt;&gt;  ，右移    ，5 &gt;&gt; 1 -&gt; 0101 // 2 -&gt; 0010 -&gt; 结果为 2</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>赋值运算符 Assignment Operators</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">- +=    ，x += 3  等价于 x = x + 3</span><br><span class="line">- -=    ，x -= 3  等价于 x = x - 3</span><br><span class="line">- *=    ，x *= 3  等价于 x = x * 3</span><br><span class="line">- /=    ，x /= 3  等价于 x = x / 3</span><br><span class="line">- //=   ，x //= 3 等价于 x = x // 3</span><br><span class="line">- %=    ，x %= 3  等价于 x = x % 3</span><br><span class="line">- **=   ，x **= 3 等价于 x = x ** 3</span><br><span class="line">- &amp;=    ，x &amp;= 3  等价于 x = x &amp; 3</span><br><span class="line">- |=    ，x |= 3  等价于 x = x | 3</span><br><span class="line">- ^=    ，x ^= 3  等价于 x = x ^ 3</span><br><span class="line">- &lt;&lt;=   ，x &lt;&lt;= 1 等价于 x = x &lt;&lt; 1</span><br><span class="line">- &gt;&gt;=   ，x &gt;&gt;= 1 等价于 x = x &gt;&gt; 1</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>海象运算符</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- :=</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：python-分隔符"><a href="#知识点：python-分隔符" class="headerlink" title="知识点：python 分隔符"></a>知识点：python 分隔符</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 分隔符 delimiter，用于在源码中结构化源代码，使语法成分之间的边界清晰可识别</span><br><span class="line">  - 它们是组织语言结构的符号，而不是执行运算的符号</span><br><span class="line">  - 可以被分为四类：Grouping、Separating、Signaling、Special Forms</span><br><span class="line"></span><br><span class="line">* 界定结构 Grouping</span><br><span class="line">  - 用来成对出现，以界定语法单元的范围，也被称为 enclosing delimiters，它们告诉解析器哪些内容属于同一个语法块</span><br><span class="line">  - 包含以下：</span><br><span class="line">    - 括号 parentheses ()</span><br><span class="line">    - 方括号 brackets []</span><br><span class="line">    - 大括号 braces &#123;&#125;</span><br><span class="line"></span><br><span class="line">* 分隔元素 Separating</span><br><span class="line">  - 用来在同级结构中分隔多个元素</span><br><span class="line">  - 包含以下；</span><br><span class="line">    - 逗号 ,</span><br><span class="line">    - 分号 ;</span><br><span class="line"></span><br><span class="line">* 指示语法关系 Signaling</span><br><span class="line">  - 用来起到语法提示的作用，使编译器识别结构关系</span><br><span class="line">  - 包含以下：</span><br><span class="line">    - 冒号 : 标示语句块开始，如 if、for、def，字典键值对的分隔符</span><br><span class="line">    - 箭头 -&gt; 函数返回类型注解的标识符</span><br><span class="line">    - 等号 = 赋值语句的结构边界</span><br><span class="line"></span><br><span class="line">* 引导特殊语法 Special Forms</span><br><span class="line">  - @ 装饰器的引导符</span><br><span class="line">  - ... 切片、函数中的占位</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：python-行结构与行拼接"><a href="#知识点：python-行结构与行拼接" class="headerlink" title="知识点：python 行结构与行拼接"></a>知识点：python 行结构与行拼接</h3><ol>
<li><strong>行结构 Line structure</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* 物理行 Physical lines</span><br><span class="line">  - 物理行，指的是源代码文件中「实际以换行符 end-of-line 结尾」的一行</span><br><span class="line">  - Unix 使用 ASCII LF (linefeed)</span><br><span class="line">  - Windows 使用 ASCII sequence CR LF (return followed by linefeed)</span><br><span class="line">  - old Macintosh 使用 ASCII CR (return)</span><br><span class="line">  - 所有的 end-of-line 在所有平台自动兼容，无论哪种换行形式，在解析时都统一视为一个 ASCII LF</span><br><span class="line"></span><br><span class="line">* 逻辑行 logical lines</span><br><span class="line">  - 逻辑行是指语法意义上的一行，也就是由词法分析器处理后以一个 NEWLINE token 结尾的行</span><br><span class="line">  - 一个逻辑行可以只是一个物理行，也可以是经过显示/隐式行拼接后的多个物理行</span><br><span class="line">  - python 程序会被分隔为多个逻辑行</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>行拼接 line joining</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* 显式行拼接 Explicit line joining</span><br><span class="line">  - 显式行拼接，是指在一条物理行末尾使用反斜线 \ backslash 结尾，来表明该物理行与下一物理行拼成一个逻辑行</span><br><span class="line">  - 注意，以反斜杠结尾的行不能带有注释</span><br><span class="line"></span><br><span class="line">* 隐式行拼接 Implicit line joining</span><br><span class="line">  - 隐式行拼接，是指当一个表达式处于圆括号 ( )、方括号 [ ]、大括号 &#123;&#125; 中时，其内部可以跨多条物理行而不需使用反斜线，python 会自动将这些物理行识别为一个逻辑行，不需要显式添加 &#x27;\&#x27; 字符</span><br><span class="line">  - 隐式行拼接可以带注释</span><br><span class="line">  - 隐式行拼接的缩进不影响拼接关系，只为了可读性</span><br><span class="line">  - 隐式行拼接内可以包括空行</span><br><span class="line">  - 隐式行拼接不会自动添加逗号 &#x27;,&#x27;，上一行需要手动添加最后一个逗号</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 显式行拼接</span></span><br><span class="line"><span class="keyword">if</span> <span class="number">1900</span> &lt; year &lt; <span class="number">2100</span> <span class="keyword">and</span> <span class="number">1</span> &lt;= month &lt;= <span class="number">12</span> \</span><br><span class="line">  <span class="keyword">and</span> <span class="number">1</span> &lt;= day &lt;= <span class="number">31</span> <span class="keyword">and</span> <span class="number">0</span> &lt;= hour &lt; <span class="number">24</span> \</span><br><span class="line">  <span class="keyword">and</span> <span class="number">0</span> &lt;= minute &lt; <span class="number">60</span> <span class="keyword">and</span> <span class="number">0</span> &lt;= second &lt; <span class="number">60</span>:   <span class="comment"># Looks like a valid date</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 隐式行拼接</span></span><br><span class="line">month_names = [ <span class="string">&#x27;Januari&#x27;</span>, <span class="string">&#x27;Februari&#x27;</span>, <span class="string">&#x27;Maart&#x27;</span>,      <span class="comment"># These are the</span></span><br><span class="line">                <span class="string">&#x27;April&#x27;</span>,   <span class="string">&#x27;Mei&#x27;</span>,      <span class="string">&#x27;Juni&#x27;</span>,       <span class="comment"># Dutch names</span></span><br><span class="line">                <span class="string">&#x27;Juli&#x27;</span>,    <span class="string">&#x27;Augustus&#x27;</span>, <span class="string">&#x27;September&#x27;</span>,  <span class="comment"># for the months</span></span><br><span class="line">                <span class="string">&#x27;Oktober&#x27;</span>, <span class="string">&#x27;November&#x27;</span>, <span class="string">&#x27;December&#x27;</span>    <span class="comment"># of the year</span></span><br><span class="line">              ]</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：python-空行"><a href="#知识点：python-空行" class="headerlink" title="知识点：python 空行"></a>知识点：python 空行</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 只包含 spaces、tabs、注释的行，被视为空行 Blank lines</span><br><span class="line">  - 空行会被自动忽略</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：python-缩进"><a href="#知识点：python-缩进" class="headerlink" title="知识点：python 缩进"></a>知识点：python 缩进</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 缩进 indentation</span><br><span class="line">  - Python 是缩进敏感语言 indentation-sensitive language</span><br><span class="line">  - 在 Python 中，缩进不仅用于排版的空白，而且还是语法结构的一部分</span><br><span class="line">  - python 使用缩进来组织语句的逻辑层级，逻辑行起始处的空格/制表符用以确定该逻辑行的缩进级别，从而生成 INDENT 和 DEDENT token</span><br><span class="line"></span><br><span class="line">* 推荐使用 4 个 space 来作为缩进，不推荐使用 tab 来进行缩进</span><br><span class="line">  - 在计算缩进时，tab 会被转换为 space，具体转换为多少个 space 取决于平台，转换的结果通常为为向八对齐</span><br><span class="line">  - 如果源码的缩进中同时使用了 tab 和 space 来进行缩进，则此缩进会被拒绝，因为具体的计算结果会取决于平台将 tab 识别为多少个 space</span><br><span class="line">  - 混用 tab 和 space 会抛出 TabError</span><br><span class="line"></span><br><span class="line">* 坑</span><br><span class="line">  - 对齐：Python 并没有规定一个层级必须缩进多少个空格，同一层级内的语句必须严格使用相同数量和类型的缩进空白，因此即使多/少了一个空白，都会被认为是另一层缩进而导致缩进异常</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：python-注释"><a href="#知识点：python-注释" class="headerlink" title="知识点：python 注释"></a>知识点：python 注释</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 注释 comment</span><br><span class="line">  - python 当前支持两种注释方式，单行注释和多行注释</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>单行注释 Single-line Comment</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 使用井号字符 &#x27;#&#x27; 来表示注释，从 &#x27;#&#x27; 字符直到物理行的末尾都被当做是注释</span><br><span class="line">  - &#x27;#&#x27; 可以出现在行首，表示这一整行都是注释</span><br><span class="line">  - &#x27;#&#x27; 也可以出现在某行的代码的结尾，作为行内注释</span><br><span class="line">  - 对于逻辑行中的多个物理行，每一个物理行都可以包含自己的注释</span><br><span class="line">  - &#x27;#&#x27; 字符若出现在字符串字面量 string literal 中，不表示注释</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>多行注释 Multi-line Comment</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - python 实际上没有专门的多行注释语法，但常用两种方式来实现：使用 &#x27;#&#x27; 和使用字符串</span><br><span class="line"></span><br><span class="line">* 使用 &#x27;#&#x27;</span><br><span class="line">  - 本质上即使用多个单行注释</span><br><span class="line"></span><br><span class="line">* 使用字符传</span><br><span class="line">  - 使用 &#x27;&#x27;&#x27; 或 &quot;&quot;&quot;</span><br><span class="line">  - 本质上是定义了一个字符串常量，只是因为它没有被引用或赋值，python 会在执行时将其丢弃</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 这是一个单行注释</span></span><br><span class="line">x = <span class="number">42</span>  <span class="comment"># 给变量 x 赋值为 42</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这是多行注释的第一行</span></span><br><span class="line"><span class="comment"># 这是第二行</span></span><br><span class="line"><span class="comment"># 这是第三行</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">这也是一种常见的多行注释方式，</span></span><br><span class="line"><span class="string">虽然实际上它是一个字符串，</span></span><br><span class="line"><span class="string">但如果不被赋值或使用，Python 会忽略它。</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：python-编码声明"><a href="#知识点：python-编码声明" class="headerlink" title="知识点：python 编码声明"></a>知识点：python 编码声明</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 编码声明 encoding declaration</span><br><span class="line">  - 默认情况下，python 源码文件会被当作 UTF-8 编码来读取</span><br><span class="line">  - 使用 UTF-8 编码意味着在 python 源码中基本上可以使用人类已知的所有字符</span><br><span class="line">  - 如果非要使用其他的编码，需要在源码的第一行加入编码声明来指定使用的编码，如果有 shebang 则是第二行</span><br><span class="line">  - 关于 python 支持的 encoding，可以查看 codecs 模块</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  # -*- coding: encoding -*-</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 默认使用 utf-8 编码：</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定使用 cp1252 编码：</span></span><br><span class="line"><span class="comment"># -*- coding: cp1252 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 带 shebang 的情况：</span></span><br><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: cp1252 -*-</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：python-字面量-介绍"><a href="#知识点：python-字面量-介绍" class="headerlink" title="知识点：python 字面量-介绍"></a>知识点：python 字面量-介绍</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 字面量 Literals，是指在源码中直接表示固定值的写法，它们是最基础、最直观的数据表示形式</span><br><span class="line">  - 字面量在运行时会被解释器直接识别为某个确定的对象，而不需要通过计算或变量引用</span><br><span class="line">  - python 中的字面量可以分为三种，数值型、字符型、比特型</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：python-字面量-数值字面量"><a href="#知识点：python-字面量-数值字面量" class="headerlink" title="知识点：python 字面量-数值字面量"></a>知识点：python 字面量-数值字面量</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 数值型字面量 Numeric literals，用来表示数值量</span><br><span class="line">  - 数值型字面量并不包含正负号，本质上正负号是一元运算符，而带正负号实际上是一个表达式</span><br><span class="line">  - 分为三种：整数、浮点数、虚数</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：python-字面量-字符串字面量"><a href="#知识点：python-字面量-字符串字面量" class="headerlink" title="知识点：python 字面量-字符串字面量"></a>知识点：python 字面量-字符串字面量</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 字符串字面量，用于在 Python 的源码中引入字符串值</span><br><span class="line">  - Python 默认会将字符串字面量识别为 str 型</span><br><span class="line">  - 字符串字面量的格式分为以下五种：普通字符串、长字符串、原始字符串、f-string、t-string</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：python-字面量-其他字面量"><a href="#知识点：python-字面量-其他字面量" class="headerlink" title="知识点：python 字面量-其他字面量"></a>知识点：python 字面量-其他字面量</h3><ol>
<li><strong>布尔型字面量、空字面量</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 严格来说，True、False、None 并不是 Python 的字面量，而是 Python 的关键字，但可以按照字面量来使用</span><br><span class="line">  - 因为 True、False、None 是关键字，因此必须遵守大小写，如 TRUE、false 等都是不合法的写法</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>字节字面量</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 字节字面量 bytes literal，表示一段原始的二进制数据序列，即由字节 8 位无符号整数，范围 0–255 组成的序列</span><br><span class="line">  - 默认情况下，字节字面量会被解析成为 byte 类型的数据</span><br><span class="line">  - 格式与字符串字面量非常相近</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="4-2-python-表达式"><a href="#4-2-python-表达式" class="headerlink" title="4.2 python 表达式"></a>4.2 python 表达式</h2><hr>
<h3 id="知识点：表达式介绍"><a href="#知识点：表达式介绍" class="headerlink" title="知识点：表达式介绍"></a>知识点：表达式介绍</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 表达式 Expression，是指能够被 Python 解释器求值 evaluate 并产生一个结果值的语法结构，亦即表达式是能算出一个值的代码片段</span><br><span class="line">  - 也可以称为计算式</span><br><span class="line">  - 表达式必定有一个返回值</span><br><span class="line">  - 可以用于计算求值 evaluation，则返回值是计算结果</span><br><span class="line">  - 也可用于呼叫一个过程 procedure，则返回值是 None</span><br><span class="line"></span><br><span class="line">* 表达式在 Python 语法中的角色</span><br><span class="line">  - 在 Python 的语法层面上，表达式是语句 statement 的构成基础</span><br><span class="line">  - Python 程序的执行流程可以简化为：模块 module -&gt; 语句 statement -&gt; 表达式 expression -&gt; 运算对象 object</span><br><span class="line">  - 也就是说，所有计算逻辑都由表达式完成，所有语句如 if、for、while、return 等内部都依赖表达式求值</span><br><span class="line">  - 表达式是 Python 可执行语法的最小单位</span><br><span class="line"></span><br><span class="line">* 根据 Python 官方文档，表达式可以分为以下类型：</span><br><span class="line">  - Atoms</span><br><span class="line">  - Primary</span><br><span class="line">  - 算术表达式</span><br><span class="line">  - 比较表达式</span><br><span class="line">  - 条件表达式</span><br><span class="line">  - Lambda 表达式</span><br><span class="line">  - 可迭代对象解包</span><br><span class="line">  - 生成器与推导式，见 python 魔法部分</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>表达式列表</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 表达式列表 expression list</span><br><span class="line">  - 表达式列表 expression list，是由一个或多个表达式组成，并使用英文逗号 &#x27;,&#x27; 分隔的序列</span><br><span class="line">  - 默认情况下，表达式列表会被解析为一个元组</span><br><span class="line">  - 如果表达式列表出现在赋值语句左侧，那么可能会触发解包 unpacking</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>表达式的求解顺序 Evaluation order</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* 单个表达式</span><br><span class="line">  - 在一个复杂表达式里，Python 对表达式的求解顺序为自左向右，参与运算的各个子表达式会从左到右被计算出值</span><br><span class="line">  - 对表达式的求解也会参考运算符的优先级</span><br><span class="line">  - 可以使用括号提高表达式中某一部分的求解优先级</span><br><span class="line"></span><br><span class="line">* 表达式列表</span><br><span class="line">  - 在表达式列表中，Python 也是从左向右依次求解每一个表达式</span><br><span class="line"></span><br><span class="line">* 赋值语句</span><br><span class="line">  - 在赋值语句中，会先求解 &#x27;=&#x27; 右边的所有表达式，再把结果绑定到左侧目标上</span><br><span class="line">  - 对 &#x27;=&#x27; 号每一边的表达式的求解，任然遵循从左向右的顺序</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：表达式原子和原型"><a href="#知识点：表达式原子和原型" class="headerlink" title="知识点：表达式原子和原型"></a>知识点：表达式原子和原型</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 元组</span><br><span class="line">  - 原子 atom，是 Python 表达式 Expression 中最小的构成单位，是不能再分解的最基本的表达式元素</span><br><span class="line">  - 原型 primary，</span><br><span class="line">  - 表达式在解析的过程中，将原子、原型分别识别为相应的对象，然后让相应的对象参与运算</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>原子分类</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">* 标识符 Name</span><br><span class="line">  - 包括变量名、函数名、类名，等</span><br><span class="line">  - 如果标识符已经与某个对象绑定，则 Python 会将标识符识别为相应的对象</span><br><span class="line">  - 如果标识符没有与某个对象绑定，则会抛出 NameError 异常</span><br><span class="line"></span><br><span class="line">* 字面量 Literal</span><br><span class="line">  - 字面量全部都属于 atom</span><br><span class="line">  - 字面量会被安装 Python 的语法规则，识别为相应的对象</span><br><span class="line">  - 对于字符串字面量，当多个字符串字面量或 bytes 字面量字面地并列出现，中间只使用空白进行间隔，则 Python 会把它们识别成一个完整的字符串/字节对象，见范例</span><br><span class="line"></span><br><span class="line">* 括号形式 Parenthesized forms</span><br><span class="line">  - 虽然括号内部是表达式，但整个括号视为一个 atom</span><br><span class="line">  - 如果括号内只有一个表达式，则整个括号生成的对象为表达式的结果</span><br><span class="line">  - 如果括号内有多个表达式，并且每个表达式之间使用逗号间隔，则则整个括号生成的对象为一个元组</span><br><span class="line">  - 空括号会被识别为一个空元组</span><br><span class="line"></span><br><span class="line">* 列表显示式 List display</span><br><span class="line">  - 使用中括号包裹的，其内有多个表达式，每个表达式之间使用逗号间隔</span><br><span class="line">  - 会被 Python 识别为一个 list 对象</span><br><span class="line"></span><br><span class="line">* 字典显示式 Dictionary display</span><br><span class="line">  - 使用大括号包裹的，其内有多个 K-V 对的形式，每个 K-V 对之间使用逗号间隔</span><br><span class="line">  - 会被 Python 识别为一个 dict 对象</span><br><span class="line"></span><br><span class="line">* 集合显示式 Set display</span><br><span class="line">  - 使用大括号包裹的，其内有多个表达式，每个表达式之间使用逗号间隔</span><br><span class="line">  - 会被 Python 识别为一个 set 对象</span><br><span class="line"></span><br><span class="line">* 理解式</span><br><span class="line"></span><br><span class="line">* 生成器表达式 Generator expression</span><br><span class="line"></span><br><span class="line">* await 表达式（await expression）</span><br><span class="line"></span><br><span class="line">* yield 表达式（yield / yield from）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  - 原子是表达式的最基本构成元素</span><br><span class="line">  - 最简单的原子是标识符和字面值</span><br><span class="line">  - 以圆括号、方括号、花括号包括的形式在语法上也被归类为原子</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  atom      ::=  identifier | literal | enclosure</span><br><span class="line">  enclosure ::=  parenth_form | list_display | dict_display | set_display | generator_expression | yield_atom</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>原型分类</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 字符串字面量连接 String literal concatenation</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(<span class="string">&#x27;hello&#x27;</span> <span class="string">&quot;world&quot;</span>)</span><br><span class="line">helloworld</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：表达式-primary"><a href="#知识点：表达式-primary" class="headerlink" title="知识点：表达式 primary"></a>知识点：表达式 primary</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 原型 primary</span><br><span class="line">  - 原型代表编程语言中最紧密绑定的操作</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  primary ::=  atom | attributeref | subscription | slicing | call</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="知识点：可迭代对象解包"><a href="#知识点：可迭代对象解包" class="headerlink" title="知识点：可迭代对象解包"></a>知识点：可迭代对象解包</h3><ol start="5">
<li><strong>可迭代对象解包 iterable unpacking</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">解包和表达式列表直接存在相互使用的关联</span><br><span class="line"></span><br><span class="line">* 介绍</span><br><span class="line">  - 从可迭代对象重拆解出迭代项的序列</span><br><span class="line">  - 可以用于创建新的列表、元组等</span><br><span class="line"></span><br><span class="line">* 格式: *iterable</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="built_in">range</span>(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(*a)</span><br><span class="line"><span class="comment"># 输出为：0 1 2 3 4 5 6 7 8 9</span></span><br><span class="line"></span><br><span class="line">a=<span class="built_in">range</span>(<span class="number">10</span>)</span><br><span class="line">b=[*a]</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment"># 输出为：[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：算术运算表达式"><a href="#知识点：算术运算表达式" class="headerlink" title="知识点：算术运算表达式"></a>知识点：算术运算表达式</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 由算数运算符 Arithmetic Operator 加操作数 Operand 构成的表达式</span><br><span class="line">  - 主要用来进行数学上的算术运算</span><br><span class="line">  - 表达式的返回值为算数运算的结果，类型取决于操作数的类型</span><br><span class="line"></span><br><span class="line">* python 默认内置的算术运算共计九个：</span><br><span class="line">  - x +  y：加法 addition 求和 sum</span><br><span class="line">  - x -  y：减法 subtraction 求差 difference</span><br><span class="line">  - x *  y：乘法 multiplication 求积 product</span><br><span class="line">  - x /  y：真除法 true division 求商 quotient</span><br><span class="line">  - x // y：地板除法 floor division，向负无穷 minus infinity 方向取整</span><br><span class="line">  - x %  y：取模 modulo 求余数 remainder</span><br><span class="line">  - x ** y：幂运算</span><br><span class="line">  - -x    ：取反</span><br><span class="line">  - +x    ：返回 x 本身</span><br><span class="line"></span><br><span class="line">* 关于地板除法的取整</span><br><span class="line">  - python 中的整除法 &#x27;//&#x27; 实际上是地板除法 floor division</span><br><span class="line">  - 运算结果向负无穷 minus infinity 方向取整</span><br><span class="line">  - 主要影响的是有一个操作数是负数或者两个操作数都是负数的情况</span><br><span class="line"></span><br><span class="line">* 除法恒等式</span><br><span class="line">  - python 中的除法满足恒等式 a == (a // b) * b + (a % b)</span><br><span class="line">  - 因此，a % b 的结果会受到 a // b 的影响</span><br><span class="line"></span><br><span class="line">* 扩展的算术运算</span><br><span class="line">  - 除了数值型之间的算术运算，许多其他的类型也支持算术运算符，如 str + str、str * int</span><br><span class="line">  - 具体见相关的类型</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 加法</span></span><br><span class="line"><span class="number">3</span> + <span class="number">5</span>     <span class="comment"># 8</span></span><br><span class="line"><span class="number">3</span> + <span class="number">0.5</span>   <span class="comment"># 3.5</span></span><br><span class="line"><span class="number">3</span> + <span class="number">0.5j</span>  <span class="comment"># 3 + 0.5j</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 减法</span></span><br><span class="line"><span class="number">10</span> - <span class="number">3</span>    <span class="comment"># 7</span></span><br><span class="line"><span class="number">10</span> - <span class="number">0.3</span>  <span class="comment"># 9.7</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 乘法</span></span><br><span class="line"><span class="number">4</span> * <span class="number">6</span>       <span class="comment"># 24</span></span><br><span class="line"><span class="number">3</span> * <span class="number">0.5</span>     <span class="comment"># 1.5</span></span><br><span class="line"><span class="number">2</span> * (<span class="number">1</span>+<span class="number">2j</span>)  <span class="comment"># 2+4j</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># “扩展”类的乘法：int * str</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ab&quot;</span> * <span class="number">3</span>)       <span class="comment"># &#x27;ababab&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：位运算表达式"><a href="#知识点：位运算表达式" class="headerlink" title="知识点：位运算表达式"></a>知识点：位运算表达式</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 位运算 Bitwise Operations，</span><br><span class="line">  - 只对 int 型生效</span><br><span class="line">  - 优先级低于普通算术运算，高于比较运算</span><br><span class="line"></span><br><span class="line">* 分类</span><br><span class="line">  - x &amp; y   按位与 bitwise and</span><br><span class="line">  - x | y   按位或 bitwise or</span><br><span class="line">  - x ^ y   按位亦或 bitwise exclusive or</span><br><span class="line">  - x &lt;&lt; n  左移 n 位 shifted left by n bits</span><br><span class="line">  - x &gt;&gt; n  右移 n 位 shifted right by n bits</span><br><span class="line">  - ~x      按位取反 bitwise inversion，数值上相当于 -(x+1)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>魔法方法</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：值比较表达式"><a href="#知识点：值比较表达式" class="headerlink" title="知识点：值比较表达式"></a>知识点：值比较表达式</h3><ol>
<li><strong>比较运算 comparisons</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - is、not is、&lt;、&lt;=、&gt;、&gt;=、==、!= 是 python 内置的 8 个比较操作，均具有相同的优先级</span><br><span class="line">  - 返回值为 True/False</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>值比较 value comparisons</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 比较两个对象的 value</span><br><span class="line">  - 不要求对象必须是相同的类型</span><br><span class="line"></span><br><span class="line">* &lt;、&lt;=、&gt;、&gt;=</span><br><span class="line">  - 次序比较 order comparison</span><br><span class="line">  - 仅在其有意义时生效，否则会抛出 TypeError 异常，如比较 complex number</span><br><span class="line">  - 特殊方法，__lt__()、__le__()、__gt__()、__ge__()</span><br><span class="line">  - 其他</span><br><span class="line">    - float(&#x27;nan&#x27;) 与数值型的次序比较的结果永远是 False</span><br><span class="line">    - complex、range 不支持次序比较</span><br><span class="line">    - 序列类型只能与相同类型的对象进行次序比较</span><br><span class="line"></span><br><span class="line">* ==、!=</span><br><span class="line">  - 相等比较 equality comparison</span><br><span class="line">  - 除各种 numeric 外，不同类型的对象不能进行相等比较</span><br><span class="line">  - 特殊方法，__eq__()</span><br><span class="line">  - 其他</span><br><span class="line">    - 两个序列对象如果相等比较结果为 True，则一定是类型相同、长度相同、每个元素都相同</span><br><span class="line"></span><br><span class="line">* 排序</span><br><span class="line">  - 排序底层都是通过比较来实现的</span><br><span class="line">  - 严格意义上要求 class 具有 __lt__()、__le__()、__gt__()、__ge__()</span><br><span class="line">  - 惯例仅要求 class 具有 __lt__()、__eq__() 就足够了</span><br><span class="line">  - 最少要具有 __lt__()，否则对象不支持排序操作</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：身份比较表达式"><a href="#知识点：身份比较表达式" class="headerlink" title="知识点：身份比较表达式"></a>知识点：身份比较表达式</h3><ol start="3">
<li><strong>身份比较 identity comparisons</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* is，not is</span><br><span class="line">  - 对象身份检测 object identity</span><br><span class="line">  - 返回值为 True/False</span><br><span class="line">  - is 和 not is 的功能无法进行重载</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：成员检测表达式"><a href="#知识点：成员检测表达式" class="headerlink" title="知识点：成员检测表达式"></a>知识点：成员检测表达式</h3><ol start="4">
<li><strong>成员检测 membership test</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* in，not in</span><br><span class="line">  - 成员检测</span><br><span class="line">  - 返回值为 True/False</span><br><span class="line">  - 底层通过迭代 + is 来实现</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：逻辑运算表达式"><a href="#知识点：逻辑运算表达式" class="headerlink" title="知识点：逻辑运算表达式"></a>知识点：逻辑运算表达式</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 在 Python 里，逻辑运算表达式就是用 and、or、not 这三个关键字运算符把其他表达式连起来的表达式</span><br><span class="line">  - 根据操作数的真/假情况，得到一个新的结果，用来做条件判断、控制流程、选择值等</span><br><span class="line">  - 也称为 Boolean operations</span><br><span class="line"></span><br><span class="line">* 特点</span><br><span class="line">  1. 与其他的编程语言不通，Python 的逻辑运算并不是根据两个操作数的 True/False 进行计算后返回 True/Fasle 值，而是根据其中某一个操作数的 True/Fasle 值返回最后求值的那个操作数本身</span><br><span class="line">  2. and 运算和 or 运算都遵守短路逻辑 short-circuit</span><br><span class="line"></span><br><span class="line">* and 运算</span><br><span class="line">  - 格式： expr_1 and expr_2</span><br><span class="line">  - 如果 expr_1 为真，则计算 expr_2 并返回 expr_2 的值</span><br><span class="line">  - 如果 expr_1 为假，就直接返回 expr_1 的值，不对 expr_2 进行计算</span><br><span class="line"></span><br><span class="line">* or 运算</span><br><span class="line">  - 格式：expr_1 or expr_2</span><br><span class="line">  - 如果 expr_1 为真，就直接返回 expr_1 的值，不对 expr_2 进行计算</span><br><span class="line">  - 如果 expr_1 为假，则计算 expr_2 并返回 expr_2 的值</span><br><span class="line"></span><br><span class="line">* not 运算</span><br><span class="line">  - 格式：not expr</span><br><span class="line">  - 返回 expr 对应的 True/False 的取反</span><br><span class="line">  - not 优先级要比其他任何 non-Boolean 操作符都要低</span><br><span class="line">  - not a == b 相当于 not ( a == b )</span><br><span class="line">  - a == not b 则是一个语法错误</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># and 运算</span></span><br><span class="line"><span class="string">&#x27;&#x27;</span> <span class="keyword">and</span> <span class="number">123</span> + <span class="number">456</span>                  <span class="comment"># &#x27;&#x27;    （空字符串 &#x27;&#x27; 为假，直接返回空字符串 &#x27;&#x27;，123+456 这个表达式不会进行计算）</span></span><br><span class="line"><span class="string">&quot;hello&quot;</span> <span class="keyword">and</span> <span class="number">0</span>                     <span class="comment"># 0     （&quot;hello&quot; 为真，所以返回 expr_ 的值 0）</span></span><br><span class="line"><span class="string">&quot;hello&quot;</span> <span class="keyword">and</span> (<span class="keyword">lambda</span> x : x * x)    <span class="comment"># &lt;function &lt;lambda&gt; at XXXX&gt;     （&quot;hello&quot; 为真，所以返回 expr_2 的值一个 lambda function 对象）</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># or 运算</span></span><br><span class="line"><span class="string">&quot;hello&quot;</span> <span class="keyword">or</span> <span class="string">&quot;x&quot;</span>              <span class="comment"># &quot;hello&quot;</span></span><br><span class="line"><span class="number">0</span> <span class="keyword">or</span> <span class="number">123</span>                    <span class="comment"># 123</span></span><br><span class="line"><span class="string">&quot;&quot;</span> <span class="keyword">or</span> <span class="string">&quot;default&quot;</span>             <span class="comment"># &quot;default&quot;</span></span><br><span class="line">[] <span class="keyword">or</span> [<span class="number">1</span>, <span class="number">2</span>]                <span class="comment"># [1, 2]</span></span><br><span class="line">s_or_default = s <span class="keyword">or</span> <span class="string">&quot;foo&quot;</span>   <span class="comment"># 典型用法，提供默认值</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># not 运算</span></span><br><span class="line"><span class="keyword">not</span> <span class="string">&quot;hello&quot;</span>     <span class="comment"># False</span></span><br><span class="line"><span class="keyword">not</span> <span class="number">0</span>           <span class="comment"># True</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：条件表达式"><a href="#知识点：条件表达式" class="headerlink" title="知识点：条件表达式"></a>知识点：条件表达式</h3><ol>
<li><strong>条件表达式 conditional expression</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 也称为三元运算符 ternary operator</span><br><span class="line">  - 优先级在 python 的所有运算符中最低</span><br><span class="line"></span><br><span class="line">* 格式: expression_1 if test_expression else expression_2</span><br><span class="line">  - 如果 test_expression 的值为 True，则返回 expression_1 的值</span><br><span class="line">  - 如果 test_expression 的值为 False，则返回 expression_2 的值</span><br><span class="line">  - 也遵循短路逻辑，即只会计算 test_expression 和需要返回的 expression，不需要返回的 expression 不会进行计算</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：矩阵运算表达式"><a href="#知识点：矩阵运算表达式" class="headerlink" title="知识点：矩阵运算表达式"></a>知识点：矩阵运算表达式</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A + B   矩阵加法</span><br><span class="line">A - B   矩阵减法</span><br><span class="line">A * B   矩阵逐项乘积</span><br><span class="line">A @ B   矩阵乘法 matrix multiplication</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">A = np.random.randint(<span class="number">1</span>,<span class="number">10</span>,size = (<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line">B = np.random.randint(<span class="number">1</span>,<span class="number">10</span>,size = (<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(A)</span><br><span class="line"><span class="built_in">print</span>(B)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(A+B)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：lambda-表达式"><a href="#知识点：lambda-表达式" class="headerlink" title="知识点：lambda 表达式"></a>知识点：lambda 表达式</h3><hr>
<h3 id="知识点：海象运算表达式"><a href="#知识点：海象运算表达式" class="headerlink" title="知识点：海象运算表达式"></a>知识点：海象运算表达式</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* walrus operator</span><br><span class="line">  - :=</span><br><span class="line"></span><br><span class="line">* 海象运算不可以放在 top level 层</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="4-3-python-语句"><a href="#4-3-python-语句" class="headerlink" title="4.3 python 语句"></a>4.3 python 语句</h2><hr>
<h3 id="知识点：python-语句介绍"><a href="#知识点：python-语句介绍" class="headerlink" title="知识点：python 语句介绍"></a>知识点：python 语句介绍</h3><hr>
<h3 id="知识点：pass-语句"><a href="#知识点：pass-语句" class="headerlink" title="知识点：pass 语句"></a>知识点：pass 语句</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  pass</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 空操作 null operation，不做任何事，仅占位 placeholder</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：del-语句"><a href="#知识点：del-语句" class="headerlink" title="知识点：del 语句"></a>知识点：del 语句</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  del target_list</span><br><span class="line"></span><br><span class="line">* 作用</span><br><span class="line">  - 解除 name 和 object 的绑定</span><br><span class="line">    - 即，在相应的 namespace 中删除其中记录的 name:object 映射</span><br><span class="line">  - 同时 object 的引用计数器 reference count 减一</span><br><span class="line">  - 如果 name 不存在，则抛出 NameError</span><br><span class="line">  - 删除 attribute、subscriptions、slicing 会被传递给相应的原型对象并转化为相应的操作</span><br><span class="line">    - 删除 slicing 会转化为对 slicing 置空</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：if-语句"><a href="#知识点：if-语句" class="headerlink" title="知识点：if 语句"></a>知识点：if 语句</h3><ol>
<li><strong>格式</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> expression:</span><br><span class="line">    Suite</span><br><span class="line"><span class="keyword">elif</span> expression:</span><br><span class="line">    Suite</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    Suite</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>范例</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> a&gt;b:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;a&gt;b&quot;</span>)</span><br><span class="line"><span class="keyword">elif</span> a&lt;b:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;a&lt;b&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;a=b&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：while-语句"><a href="#知识点：while-语句" class="headerlink" title="知识点：while 语句"></a>知识点：while 语句</h3><ol>
<li><strong>格式</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> expression:</span><br><span class="line">  Suite</span><br><span class="line"><span class="keyword">else</span>:         <span class="comment"># 当 while 的条件为 false 时，执行 else 语句，然后退出循环</span></span><br><span class="line">  Suite       <span class="comment"># break 不会引发执行 else_clause</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：for-语句"><a href="#知识点：for-语句" class="headerlink" title="知识点：for 语句"></a>知识点：for 语句</h3><ol>
<li><strong>格式</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> target_list <span class="keyword">in</span> expression:</span><br><span class="line">  Suite</span><br><span class="line"><span class="keyword">else</span>:         <span class="comment"># 当 for 的 iterator 耗尽时，执行 else 语句，然后退出循环</span></span><br><span class="line">  Suite       <span class="comment"># break 不会引发执行 else_clause</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - expression 只在开始循环时计算一次，返回一个 iterable</span><br><span class="line">  - for 针对 iterable 创建一个 iterator</span><br><span class="line">  - 每一轮迭代，将 iterator 返回的值赋值给 target_list 中的每一个 name</span><br><span class="line">  - 当 iterator 耗尽时，循环结束</span><br><span class="line">  - 实际为通过捕捉 StopIteration 来判断 iterator 是否耗尽</span><br><span class="line"></span><br><span class="line">* target_list</span><br><span class="line">  - 可以使用 *arg 的格式，与带星号的赋值语句格式相同，来从任意长度的 iterable 中获取元素</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：break-语句"><a href="#知识点：break-语句" class="headerlink" title="知识点：break 语句"></a>知识点：break 语句</h3><ol>
<li><strong>格式</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">break</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 终止最近的一层外围循环 nearest enclosing loop</span><br><span class="line">  - 如果 break 是将控制权移交给了 try 语句，则会先执行 finally_clause 再终止循环</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：continue-语句"><a href="#知识点：continue-语句" class="headerlink" title="知识点：continue 语句"></a>知识点：continue 语句</h3><ol>
<li><strong>格式</strong><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">continue</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 开始进行下一轮的循环，针对最近的一层外围循环 nearest enclosing loop</span><br><span class="line">  - 如果 continue 是将控制权移交给了 try 语句，则会先执行 finally_clause 再进行下一轮循环</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="4-4-python-赋值语句"><a href="#4-4-python-赋值语句" class="headerlink" title="4.4 python 赋值语句"></a>4.4 python 赋值语句</h2><hr>
<h3 id="知识点：python-赋值语句介绍"><a href="#知识点：python-赋值语句介绍" class="headerlink" title="知识点：python 赋值语句介绍"></a>知识点：python 赋值语句介绍</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 赋值语句，用于将 name 和 object 进行绑定 bind/rebind</span><br><span class="line">  - 赋值语句并不复制数据，而是将名称绑定到对象</span><br><span class="line"></span><br><span class="line">* 绑定 bonding</span><br><span class="line">  - 将标识符与对象关联起来</span><br><span class="line">  - 在相应的 namespace 中添加 name:object 的映射项</span><br><span class="line">  - 一个对象可以绑定多个 identifier</span><br><span class="line">  - 一个对象在不同的作用域内可以绑定给不同的 identifier，此功能称为别名 aliasing</span><br><span class="line">  - 绑定操作使用对象在内存中的地址来进行，即指针 pointer</span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h3 id="知识点：普通赋值"><a href="#知识点：普通赋值" class="headerlink" title="知识点：普通赋值"></a>知识点：普通赋值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">target=expression</span><br><span class="line">target,target=expression</span><br><span class="line"></span><br><span class="line">* target</span><br><span class="line">  - 可以是 identifier</span><br><span class="line">  - 可以是 subscription</span><br><span class="line"></span><br><span class="line">* expression</span><br><span class="line">  - 可以是普通表达式</span><br><span class="line">  - 可以是 yield_expression</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="知识点：序列解包-unpacking"><a href="#知识点：序列解包-unpacking" class="headerlink" title="知识点：序列解包 unpacking"></a>知识点：序列解包 unpacking</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  target, target, ... = expression</span><br><span class="line"></span><br><span class="line">* expression 必须是一个 iterable，并且元素的数量必须等于 target 的数量</span><br><span class="line">  - 列表、元组、字符串、文件、迭代器、生成器</span><br><span class="line"></span><br><span class="line">* 序列嵌套解包</span><br><span class="line">  x,[y,z]=[1,[2,3]]</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="知识点：切片赋值"><a href="#知识点：切片赋值" class="headerlink" title="知识点：切片赋值"></a>知识点：切片赋值</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">* 切片不带步长</span><br><span class="line">  list[start:stop] = expression</span><br><span class="line"></span><br><span class="line">* expression 的元素数量没有限制</span><br><span class="line">* 切片对应的列表段会修改为 expression 对应的序列</span><br><span class="line">* 切片省略 start 会从列表的开头进行修改</span><br><span class="line">* 切片省略 stop 会修改到列表的末尾</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 切片带步长</span><br><span class="line">  list[start:stop:step] = expression</span><br><span class="line"></span><br><span class="line">* expression 的元素的数量必须等于切片的元素的数量</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="知识点：属性赋值"><a href="#知识点：属性赋值" class="headerlink" title="知识点：属性赋值"></a>知识点：属性赋值</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  object.attribute = expression</span><br><span class="line"></span><br><span class="line">* object</span><br><span class="line">  - 如果是类对象，可以直接修改类对象的属性</span><br><span class="line">  - 如果是实例对象，则无法修改类对象的属性，而是在实例对象下新建一个属性并为其赋值</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="知识点：带星号的赋值"><a href="#知识点：带星号的赋值" class="headerlink" title="知识点：带星号的赋值"></a>知识点：带星号的赋值</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 使用带星号的赋值语句，可以从任意长度的可迭代对象 iterables of Arbitrary length 中解包出元素</span><br><span class="line">  - 如果解包后的部分内容需要丢弃，则习惯上命名为 ign/ignored</span><br><span class="line">  - 特别适合 str.split() 方法，见范例二</span><br><span class="line"></span><br><span class="line">* 格式</span><br><span class="line">  [pre_target], star_target, [suf_target] = expression</span><br><span class="line"></span><br><span class="line">* expression 的结果必须是一个 iterable，并且元素的数量不能少于 target 数量减一</span><br><span class="line">  - 第一个元素与 pre_target 绑定</span><br><span class="line">  - 最后一个元素与 suf_target 绑定</span><br><span class="line">  - 其他的元素组成一个 list，与 star_target 绑定，如果元素不足的绑定一个 empty list</span><br><span class="line"></span><br><span class="line">* target</span><br><span class="line">  - pre_target、suf_target</span><br><span class="line">    - 可以有多个，也可以省略，但不能全都省略</span><br><span class="line">  - star_target</span><br><span class="line">    - 形式上为一个带 &#x27;*&#x27; 的 name</span><br><span class="line">    - 只能出现一个</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a,*b,c=<span class="built_in">range</span>(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(a)</span><br><span class="line"><span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(b)</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(c)</span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 范例二</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>line = <span class="string">&#x27;nobody:*:-2:-2:Unprivileged User:/var/empty:/usr/bin/false&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>uname, *fields, homedir, sh = line.split(<span class="string">&#x27;:&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(uname)</span><br><span class="line"><span class="string">&#x27;nobody&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(homedir)</span><br><span class="line"><span class="string">&#x27;/var/empty&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(sh)</span><br><span class="line"><span class="string">&#x27;/usr/bin/false&#x27;</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="知识点：增强赋值-Augmented-assignment"><a href="#知识点：增强赋值-Augmented-assignment" class="headerlink" title="知识点：增强赋值 Augmented assignment"></a>知识点：增强赋值 Augmented assignment</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  target aug-op expression</span><br><span class="line"></span><br><span class="line">* aug-op</span><br><span class="line">  - +=、-=、*=、/=、%=、//=、**=</span><br><span class="line">  - &gt;&gt;=、&lt;&lt;=</span><br><span class="line">  - &amp;=</span><br><span class="line">  - ^=</span><br><span class="line">  - @=</span><br><span class="line">  - |=</span><br><span class="line"></span><br><span class="line">* 只允许一个 target</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="知识点：带标注的赋值-Annotated-assignment"><a href="#知识点：带标注的赋值-Annotated-assignment" class="headerlink" title="知识点：带标注的赋值 Annotated assignment"></a>知识点：带标注的赋值 Annotated assignment</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  target : anno_exp [ = expression]</span><br><span class="line"></span><br><span class="line">* 如果出现在模块或类中，则标注会储存在模块或类的 __annotations__ 字典中</span><br><span class="line"></span><br><span class="line">* 如果出现在函数中，则只会对 target 进行赋值，不会对 anno_exp 进行计算或储存</span><br><span class="line"></span><br><span class="line">* 如果省略 &#x27;=expression&#x27;，则只会进行标注的记录</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="知识点：连续赋值"><a href="#知识点：连续赋值" class="headerlink" title="知识点：连续赋值"></a>知识点：连续赋值</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* 格式</span><br><span class="line">  target = target = expression</span><br><span class="line"></span><br><span class="line">* 多个 target 绑定在同一个对象上</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="知识点：match-语句"><a href="#知识点：match-语句" class="headerlink" title="知识点：match 语句"></a>知识点：match 语句</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 类似于 C 或 java 中的 switch 语句</span><br><span class="line"></span><br><span class="line">* Only the first pattern that matches gets executed</span><br><span class="line"></span><br><span class="line">* the “variable name” _ acts as a wildcard and never fails to match.</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">match expression:</span><br><span class="line">  case pattern:</span><br><span class="line">    expressions</span><br><span class="line">  case pattern | pattern :</span><br><span class="line">    expressions</span><br><span class="line">  case _:</span><br><span class="line">    expressions</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># Patterns can look like unpacking assignments, and can be used to bind variables:</span><br><span class="line"># point is an (x, y) tuple</span><br><span class="line">match point:</span><br><span class="line">  case (0, 0):</span><br><span class="line">    print(&quot;Origin&quot;)</span><br><span class="line">  case (0, y):            # the variable binds a value from the subject (point).</span><br><span class="line">    print(f&quot;Y=&#123;y&#125;&quot;)</span><br><span class="line">  case (x, 0):            # the variable binds a value from the subject (point).</span><br><span class="line">    print(f&quot;X=&#123;x&#125;&quot;)</span><br><span class="line">  case (x, y):</span><br><span class="line">    print(f&quot;X=&#123;x&#125;, Y=&#123;y&#125;&quot;)</span><br><span class="line">  case _:</span><br><span class="line">    raise ValueError(&quot;Not a point&quot;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># If you are using classes to structure your data, you can use the class name followed by an argument list resembling a constructor, but with the ability to capture attributes into variables:</span><br><span class="line">class Point:</span><br><span class="line">  x: int</span><br><span class="line">  y: int</span><br><span class="line"></span><br><span class="line">def where_is(point):</span><br><span class="line">  match point:</span><br><span class="line">    case Point(x=0, y=0):</span><br><span class="line">      print(&quot;Origin&quot;)</span><br><span class="line">    case Point(x=0, y=y):</span><br><span class="line">      print(f&quot;Y=&#123;y&#125;&quot;)</span><br><span class="line">    case Point(x=x, y=0):</span><br><span class="line">      print(f&quot;X=&#123;x&#125;&quot;)</span><br><span class="line">    case Point():</span><br><span class="line">      print(&quot;Somewhere else&quot;)</span><br><span class="line">    case _:</span><br><span class="line">      print(&quot;Not a point&quot;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># We can add an if clause to a pattern, known as a “guard”.</span><br><span class="line">match point:</span><br><span class="line">  case Point(x, y) if x == y:</span><br><span class="line">    print(f&quot;Y=X at &#123;x&#125;&quot;)</span><br><span class="line">  case Point(x, y):</span><br><span class="line">    print(f&quot;Not on the diagonal&quot;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Subpatterns may be captured using the as keyword:</span><br><span class="line">case (Point(x1, y1), Point(x2, y2) as p2):</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="4-5-python-其他语句"><a href="#4-5-python-其他语句" class="headerlink" title="4.5 python 其他语句"></a>4.5 python 其他语句</h2><hr>
<h1 id="Chapter05-python-面向对象"><a href="#Chapter05-python-面向对象" class="headerlink" title="Chapter05 python 面向对象"></a>Chapter05 python 面向对象</h1><hr>
<h2 id="5-1-名称、命名空间、作用域"><a href="#5-1-名称、命名空间、作用域" class="headerlink" title="5.1 名称、命名空间、作用域"></a>5.1 名称、命名空间、作用域</h2><hr>
<h3 id="知识点：python-的名称绑定机制"><a href="#知识点：python-的名称绑定机制" class="headerlink" title="知识点：python 的名称绑定机制"></a>知识点：python 的名称绑定机制</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name binding</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="5-2-函数"><a href="#5-2-函数" class="headerlink" title="5.2 函数"></a>5.2 函数</h2><hr>
<h2 id="5-3-对象"><a href="#5-3-对象" class="headerlink" title="5.3 对象"></a>5.3 对象</h2><hr>
<h2 id="5-4-类"><a href="#5-4-类" class="headerlink" title="5.4 类"></a>5.4 类</h2><hr>
<h2 id="5-5-属性"><a href="#5-5-属性" class="headerlink" title="5.5 属性"></a>5.5 属性</h2><hr>
<h2 id="5-6-方法"><a href="#5-6-方法" class="headerlink" title="5.6 方法"></a>5.6 方法</h2><hr>
<h2 id="5-7-继承"><a href="#5-7-继承" class="headerlink" title="5.7 继承"></a>5.7 继承</h2><hr>
<h3 id="知识点：抽象基类"><a href="#知识点：抽象基类" class="headerlink" title="知识点：抽象基类"></a>知识点：抽象基类</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* 介绍</span><br><span class="line">  - 抽象基类 Abstract Base Class，简称 ABC</span><br><span class="line">  - 本质上是一类专门用来定义接口和规范，不一定直接被实例化的类</span><br><span class="line">  - 它告诉别人：只要你是我的子类，并且实现了这些方法/属性，我就把你当做某种类型来看待</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><strong>numbers</strong></li>
<li><strong>collections.abc</strong></li>
</ol>
<hr>
<h1 id="Chapter06-python-魔法"><a href="#Chapter06-python-魔法" class="headerlink" title="Chapter06 python 魔法"></a>Chapter06 python 魔法</h1><hr>
<h2 id="6-1-魔法方法"><a href="#6-1-魔法方法" class="headerlink" title="6.1 魔法方法"></a>6.1 魔法方法</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">2. Numeric Protocol 的本质地位</span><br><span class="line"></span><br><span class="line">在 Python 数据模型中，有多类协议：</span><br><span class="line"></span><br><span class="line">容器协议（Container Protocol）</span><br><span class="line"></span><br><span class="line">迭代器协议（Iterator Protocol）</span><br><span class="line"></span><br><span class="line">序列协议（Sequence Protocol）</span><br><span class="line"></span><br><span class="line">映射协议（Mapping Protocol）</span><br><span class="line"></span><br><span class="line">上下文协议（Context Protocol）</span><br><span class="line"></span><br><span class="line">描述符协议（Descriptor Protocol）</span><br><span class="line"></span><br><span class="line">数值协议（Numeric Protocol）</span><br><span class="line"></span><br><span class="line">它们都是对象行为接口。</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<h1 id="Chapter07-python-异常"><a href="#Chapter07-python-异常" class="headerlink" title="Chapter07 python 异常"></a>Chapter07 python 异常</h1><hr>
<h1 id="Chapter09-python-模块"><a href="#Chapter09-python-模块" class="headerlink" title="Chapter09 python 模块"></a>Chapter09 python 模块</h1><hr>
<h2 id="9-1-python-模块介绍"><a href="#9-1-python-模块介绍" class="headerlink" title="9.1 python 模块介绍"></a>9.1 python 模块介绍</h2><hr>
<h3 id="知识点：python-模块介绍"><a href="#知识点：python-模块介绍" class="headerlink" title="知识点：python 模块介绍"></a>知识点：python 模块介绍</h3><ol>
<li><strong>介绍</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">* 模块的搜索路径列表</span><br><span class="line">  - python 启动时，解释器会自动构建一个模块搜索路径列表，保存在 sys.path 变量中</span><br><span class="line">  - 在 Python 程序中执行 import 语句后，python 解释器会依次在模块搜索路径列表搜索相应的模块</span><br><span class="line">  - 在 python 脚本中，可以通过在动态修改 sys.path，来实现修改 python 的模块搜索路径和优先级</span><br><span class="line">  - 在虚拟环境中，sys.path 会指向虚拟环境下的 lib/pythonX.Y/site-packages，这保证了不同虚拟环境的包不会互相干扰</span><br><span class="line">  - 搜索路径列表的构建按照如下顺序：</span><br><span class="line">    - 当前脚本所在的目录</span><br><span class="line">    - PYTHONPATH 环境变量中列出的目录</span><br><span class="line">    - Python 的标准库目录</span><br><span class="line">    - 第三方包所在目录（如 site-packages）</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<hr>
<h2 id="9-2-datetime-模块"><a href="#9-2-datetime-模块" class="headerlink" title="9.2 datetime 模块"></a>9.2 datetime 模块</h2><hr>
<h2 id="9-3-sys-模块"><a href="#9-3-sys-模块" class="headerlink" title="9.3 sys 模块"></a>9.3 sys 模块</h2><hr>
<h2 id="9-4-os-模块"><a href="#9-4-os-模块" class="headerlink" title="9.4 os 模块"></a>9.4 os 模块</h2><hr>
<h2 id="9-5-pprint-模块"><a href="#9-5-pprint-模块" class="headerlink" title="9.5 pprint 模块"></a>9.5 pprint 模块</h2><hr>
<h2 id="9-6-io-模块"><a href="#9-6-io-模块" class="headerlink" title="9.6 io 模块"></a>9.6 io 模块</h2><hr>
<h2 id="9-7-inspect-模块"><a href="#9-7-inspect-模块" class="headerlink" title="9.7 inspect 模块"></a>9.7 inspect 模块</h2>
    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2000/01/01/Blog61-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" rel="prev" title="Blog61-编程语言">
                  <i class="fa fa-chevron-left"></i> Blog61-编程语言
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2000/01/01/Blog63-java/" rel="next" title="Blog63-java">
                  Blog63-java <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2000 – 
  <span itemprop="copyrightYear">2026</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  





  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"per_page":true,"tags":"none","cdn":"//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
